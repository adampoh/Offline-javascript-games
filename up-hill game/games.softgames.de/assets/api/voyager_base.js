/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
(function(e, t) {
    function P(e) {
        var t = e.length,
            n = b.type(e);
        return b.isWindow(e) ? !1 : e.nodeType === 1 && t ? !0 : n === "array" || n !== "function" && (t === 0 || typeof t == "number" && t > 0 && t - 1 in e)
    }

    function B(e) {
        var t = H[e] = {};
        return b.each(e.match(E) || [], function(e, n) {
                t[n] = !0
            }),
            t
    }

    function I(e, n, r, i) {
        if (!b.acceptData(e))
            return;
        var s, o, u = b.expando,
            a = typeof n == "string",
            f = e.nodeType,
            c = f ? b.cache : e,
            h = f ? e[u] : e[u] && u;
        if ((!h || !c[h] || !i && !c[h].data) && a && r === t)
            return;
        h || (f ? e[u] = h = l.pop() || b.guid++ : h = u),
            c[h] || (c[h] = {},
                f || (c[h].toJSON = b.noop));
        if (typeof n == "object" || typeof n == "function")
            i ? c[h] = b.extend(c[h], n) : c[h].data = b.extend(c[h].data, n);
        return s = c[h],
            i || (s.data || (s.data = {}),
                s = s.data),
            r !== t && (s[b.camelCase(n)] = r),
            a ? (o = s[n],
                o == null && (o = s[b.camelCase(n)])) : o = s,
            o
    }

    function q(e, t, n) {
        if (!b.acceptData(e))
            return;
        var r, i, s, o = e.nodeType,
            u = o ? b.cache : e,
            a = o ? e[b.expando] : b.expando;
        if (!u[a])
            return;
        if (t) {
            s = n ? u[a] : u[a].data;
            if (s) {
                b.isArray(t) ? t = t.concat(b.map(t, b.camelCase)) : t in s ? t = [t] : (t = b.camelCase(t),
                    t in s ? t = [t] : t = t.split(" "));
                for (r = 0,
                    i = t.length; r < i; r++)
                    delete s[t[r]];
                if (!(n ? U : b.isEmptyObject)(s))
                    return
            }
        }
        if (!n) {
            delete u[a].data;
            if (!U(u[a]))
                return
        }
        o ? b.cleanData([e], !0) : b.support.deleteExpando || u != u.window ? delete u[a] : u[a] = null
    }

    function R(e, n, r) {
        if (r === t && e.nodeType === 1) {
            var i = "data-" + n.replace(F, "-$1").toLowerCase();
            r = e.getAttribute(i);
            if (typeof r == "string") {
                try {
                    r = r === "true" ? !0 : r === "false" ? !1 : r === "null" ? null : +r + "" === r ? +r : j.test(r) ? b.parseJSON(r) : r
                } catch (s) {}
                b.data(e, n, r)
            } else
                r = t
        }
        return r
    }

    function U(e) {
        var t;
        for (t in e) {
            if (t === "data" && b.isEmptyObject(e[t]))
                continue;
            if (t !== "toJSON")
                return !1
        }
        return !0
    }

    function it() {
        return !0
    }

    function st() {
        return !1
    }

    function ct(e, t) {
        do
            e = e[t];
        while (e && e.nodeType !== 1);
        return e
    }

    function ht(e, t, n) {
        t = t || 0;
        if (b.isFunction(t))
            return b.grep(e, function(e, r) {
                var i = !!t.call(e, r, e);
                return i === n
            });
        if (t.nodeType)
            return b.grep(e, function(e) {
                return e === t === n
            });
        if (typeof t == "string") {
            var r = b.grep(e, function(e) {
                return e.nodeType === 1
            });
            if (at.test(t))
                return b.filter(t, r, !n);
            t = b.filter(t, r)
        }
        return b.grep(e, function(e) {
            return b.inArray(e, t) >= 0 === n
        })
    }

    function pt(e) {
        var t = dt.split("|"),
            n = e.createDocumentFragment();
        if (n.createElement)
            while (t.length)
                n.createElement(t.pop());
        return n
    }

    function Mt(e, t) {
        return e.getElementsByTagName(t)[0] || e.appendChild(e.ownerDocument.createElement(t))
    }

    function _t(e) {
        var t = e.getAttributeNode("type");
        return e.type = (t && t.specified) + "/" + e.type,
            e
    }

    function Dt(e) {
        var t = Ct.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"),
            e
    }

    function Pt(e, t) {
        var n, r = 0;
        for (;
            (n = e[r]) != null; r++)
            b._data(n, "globalEval", !t || b._data(t[r], "globalEval"))
    }

    function Ht(e, t) {
        if (t.nodeType !== 1 || !b.hasData(e))
            return;
        var n, r, i, s = b._data(e),
            o = b._data(t, s),
            u = s.events;
        if (u) {
            delete o.handle,
                o.events = {};
            for (n in u)
                for (r = 0,
                    i = u[n].length; r < i; r++)
                    b.event.add(t, n, u[n][r])
        }
        o.data && (o.data = b.extend({}, o.data))
    }

    function Bt(e, t) {
        var n, r, i;
        if (t.nodeType !== 1)
            return;
        n = t.nodeName.toLowerCase();
        if (!b.support.noCloneEvent && t[b.expando]) {
            i = b._data(t);
            for (r in i.events)
                b.removeEvent(t, r, i.handle);
            t.removeAttribute(b.expando)
        }
        if (n === "script" && t.text !== e.text)
            _t(t).text = e.text,
            Dt(t);
        else if (n === "object")
            t.parentNode && (t.outerHTML = e.outerHTML),
            b.support.html5Clone && e.innerHTML && !b.trim(t.innerHTML) && (t.innerHTML = e.innerHTML);
        else if (n === "input" && xt.test(e.type))
            t.defaultChecked = t.checked = e.checked,
            t.value !== e.value && (t.value = e.value);
        else if (n === "option")
            t.defaultSelected = t.selected = e.defaultSelected;
        else if (n === "input" || n === "textarea")
            t.defaultValue = e.defaultValue
    }

    function jt(e, n) {
        var r, s, o = 0,
            u = typeof e.getElementsByTagName !== i ? e.getElementsByTagName(n || "*") : typeof e.querySelectorAll !== i ? e.querySelectorAll(n || "*") : t;
        if (!u)
            for (u = [],
                r = e.childNodes || e;
                (s = r[o]) != null; o++)
                !n || b.nodeName(s, n) ? u.push(s) : b.merge(u, jt(s, n));
        return n === t || n && b.nodeName(e, n) ? b.merge([e], u) : u
    }

    function Ft(e) {
        xt.test(e.type) && (e.defaultChecked = e.checked)
    }

    function tn(e, t) {
        if (t in e)
            return t;
        var n = t.charAt(0).toUpperCase() + t.slice(1),
            r = t,
            i = en.length;
        while (i--) {
            t = en[i] + n;
            if (t in e)
                return t
        }
        return r
    }

    function nn(e, t) {
        return e = t || e,
            b.css(e, "display") === "none" || !b.contains(e.ownerDocument, e)
    }

    function rn(e, t) {
        var n, r, i, s = [],
            o = 0,
            u = e.length;
        for (; o < u; o++) {
            r = e[o];
            if (!r.style)
                continue;
            s[o] = b._data(r, "olddisplay"),
                n = r.style.display,
                t ? (!s[o] && n === "none" && (r.style.display = ""),
                    r.style.display === "" && nn(r) && (s[o] = b._data(r, "olddisplay", an(r.nodeName)))) : s[o] || (i = nn(r),
                    (n && n !== "none" || !i) && b._data(r, "olddisplay", i ? n : b.css(r, "display")))
        }
        for (o = 0; o < u; o++) {
            r = e[o];
            if (!r.style)
                continue;
            if (!t || r.style.display === "none" || r.style.display === "")
                r.style.display = t ? s[o] || "" : "none"
        }
        return e
    }

    function sn(e, t, n) {
        var r = $t.exec(t);
        return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
    }

    function on(e, t, n, r, i) {
        var s = n === (r ? "border" : "content") ? 4 : t === "width" ? 1 : 0,
            o = 0;
        for (; s < 4; s += 2)
            n === "margin" && (o += b.css(e, n + Zt[s], !0, i)),
            r ? (n === "content" && (o -= b.css(e, "padding" + Zt[s], !0, i)),
                n !== "margin" && (o -= b.css(e, "border" + Zt[s] + "Width", !0, i))) : (o += b.css(e, "padding" + Zt[s], !0, i),
                n !== "padding" && (o += b.css(e, "border" + Zt[s] + "Width", !0, i)));
        return o
    }

    function un(e, t, n) {
        var r = !0,
            i = t === "width" ? e.offsetWidth : e.offsetHeight,
            s = qt(e),
            o = b.support.boxSizing && b.css(e, "boxSizing", !1, s) === "border-box";
        if (i <= 0 || i == null) {
            i = Rt(e, t, s);
            if (i < 0 || i == null)
                i = e.style[t];
            if (Jt.test(i))
                return i;
            r = o && (b.support.boxSizingReliable || i === e.style[t]),
                i = parseFloat(i) || 0
        }
        return i + on(e, t, n || (o ? "border" : "content"), r, s) + "px"
    }

    function an(e) {
        var t = s,
            n = Qt[e];
        if (!n) {
            n = fn(e, t);
            if (n === "none" || !n)
                It = (It || b("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(t.documentElement),
                t = (It[0].contentWindow || It[0].contentDocument).document,
                t.write("<!doctype html><html><body>"),
                t.close(),
                n = fn(e, t),
                It.detach();
            Qt[e] = n
        }
        return n
    }

    function fn(e, t) {
        var n = b(t.createElement(e)).appendTo(t.body),
            r = b.css(n[0], "display");
        return n.remove(),
            r
    }

    function vn(e, t, n, r) {
        var i;
        if (b.isArray(t))
            b.each(t, function(t, i) {
                n || cn.test(e) ? r(e, i) : vn(e + "[" + (typeof i == "object" ? t : "") + "]", i, n, r)
            });
        else if (!n && b.type(t) === "object")
            for (i in t)
                vn(e + "[" + i + "]", t[i], n, r);
        else
            r(e, t)
    }

    function _n(e) {
        return function(t, n) {
            typeof t != "string" && (n = t,
                t = "*");
            var r, i = 0,
                s = t.toLowerCase().match(E) || [];
            if (b.isFunction(n))
                while (r = s[i++])
                    r[0] === "+" ? (r = r.slice(1) || "*",
                        (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
        }
    }

    function Dn(e, t, n, r) {
        function o(u) {
            var a;
            return i[u] = !0,
                b.each(e[u] || [], function(e, u) {
                    var f = u(t, n, r);
                    if (typeof f == "string" && !s && !i[f])
                        return t.dataTypes.unshift(f),
                            o(f), !1;
                    if (s)
                        return !(a = f)
                }),
                a
        }
        var i = {},
            s = e === An;
        return o(t.dataTypes[0]) || !i["*"] && o("*")
    }

    function Pn(e, n) {
        var r, i, s = b.ajaxSettings.flatOptions || {};
        for (i in n)
            n[i] !== t && ((s[i] ? e : r || (r = {}))[i] = n[i]);
        return r && b.extend(!0, e, r),
            e
    }

    function Hn(e, n, r) {
        var i, s, o, u, a = e.contents,
            f = e.dataTypes,
            l = e.responseFields;
        for (u in l)
            u in r && (n[l[u]] = r[u]);
        while (f[0] === "*")
            f.shift(),
            s === t && (s = e.mimeType || n.getResponseHeader("Content-Type"));
        if (s)
            for (u in a)
                if (a[u] && a[u].test(s)) {
                    f.unshift(u);
                    break
                }
        if (f[0] in r)
            o = f[0];
        else {
            for (u in r) {
                if (!f[0] || e.converters[u + " " + f[0]]) {
                    o = u;
                    break
                }
                i || (i = u)
            }
            o = o || i
        }
        if (o)
            return o !== f[0] && f.unshift(o),
                r[o]
    }

    function Bn(e, t) {
        var n, r, i, s, o = {},
            u = 0,
            a = e.dataTypes.slice(),
            f = a[0];
        e.dataFilter && (t = e.dataFilter(t, e.dataType));
        if (a[1])
            for (i in e.converters)
                o[i.toLowerCase()] = e.converters[i];
        for (; r = a[++u];)
            if (r !== "*") {
                if (f !== "*" && f !== r) {
                    i = o[f + " " + r] || o["* " + r];
                    if (!i)
                        for (n in o) {
                            s = n.split(" ");
                            if (s[1] === r) {
                                i = o[f + " " + s[0]] || o["* " + s[0]];
                                if (i) {
                                    i === !0 ? i = o[n] : o[n] !== !0 && (r = s[0],
                                        a.splice(u--, 0, r));
                                    break
                                }
                            }
                        }
                    if (i !== !0)
                        if (i && e["throws"])
                            t = i(t);
                        else
                            try {
                                t = i(t)
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: i ? l : "No conversion from " + f + " to " + r
                                }
                            }
                }
                f = r
            }
        return {
            state: "success",
            data: t
        }
    }

    function zn() {
        try {
            return new e.XMLHttpRequest
        } catch (t) {}
    }

    function Wn() {
        try {
            return new e.ActiveXObject("Microsoft.XMLHTTP")
        } catch (t) {}
    }

    function Yn() {
        return setTimeout(function() {
                Xn = t
            }),
            Xn = b.now()
    }

    function Zn(e, t) {
        b.each(t, function(t, n) {
            var r = (Gn[t] || []).concat(Gn["*"]),
                i = 0,
                s = r.length;
            for (; i < s; i++)
                if (r[i].call(e, t, n))
                    return
        })
    }

    function er(e, t, n) {
        var r, i, s = 0,
            o = Qn.length,
            u = b.Deferred().always(function() {
                delete a.elem
            }),
            a = function() {
                if (i)
                    return !1;
                var t = Xn || Yn(),
                    n = Math.max(0, f.startTime + f.duration - t),
                    r = n / f.duration || 0,
                    s = 1 - r,
                    o = 0,
                    a = f.tweens.length;
                for (; o < a; o++)
                    f.tweens[o].run(s);
                return u.notifyWith(e, [f, s, n]),
                    s < 1 && a ? n : (u.resolveWith(e, [f]), !1)
            },
            f = u.promise({
                elem: e,
                props: b.extend({}, t),
                opts: b.extend(!0, {
                    specialEasing: {}
                }, n),
                originalProperties: t,
                originalOptions: n,
                startTime: Xn || Yn(),
                duration: n.duration,
                tweens: [],
                createTween: function(t, n) {
                    var r = b.Tween(e, f.opts, t, n, f.opts.specialEasing[t] || f.opts.easing);
                    return f.tweens.push(r),
                        r
                },
                stop: function(t) {
                    var n = 0,
                        r = t ? f.tweens.length : 0;
                    if (i)
                        return this;
                    i = !0;
                    for (; n < r; n++)
                        f.tweens[n].run(1);
                    return t ? u.resolveWith(e, [f, t]) : u.rejectWith(e, [f, t]),
                        this
                }
            }),
            l = f.props;
        tr(l, f.opts.specialEasing);
        for (; s < o; s++) {
            r = Qn[s].call(f, e, l, f.opts);
            if (r)
                return r
        }
        return Zn(f, l),
            b.isFunction(f.opts.start) && f.opts.start.call(e, f),
            b.fx.timer(b.extend(a, {
                elem: e,
                anim: f,
                queue: f.opts.queue
            })),
            f.progress(f.opts.progress).done(f.opts.done, f.opts.complete).fail(f.opts.fail).always(f.opts.always)
    }

    function tr(e, t) {
        var n, r, i, s, o;
        for (i in e) {
            r = b.camelCase(i),
                s = t[r],
                n = e[i],
                b.isArray(n) && (s = n[1],
                    n = e[i] = n[0]),
                i !== r && (e[r] = n,
                    delete e[i]),
                o = b.cssHooks[r];
            if (o && "expand" in o) {
                n = o.expand(n),
                    delete e[r];
                for (i in n)
                    i in e || (e[i] = n[i],
                        t[i] = s)
            } else
                t[r] = s
        }
    }

    function nr(e, t, n) {
        var r, i, s, o, u, a, f, l, c, h = this,
            p = e.style,
            d = {},
            v = [],
            m = e.nodeType && nn(e);
        n.queue || (l = b._queueHooks(e, "fx"),
                l.unqueued == null && (l.unqueued = 0,
                    c = l.empty.fire,
                    l.empty.fire = function() {
                        l.unqueued || c()
                    }
                ),
                l.unqueued++,
                h.always(function() {
                    h.always(function() {
                        l.unqueued--,
                            b.queue(e, "fx").length || l.empty.fire()
                    })
                })),
            e.nodeType === 1 && ("height" in t || "width" in t) && (n.overflow = [p.overflow, p.overflowX, p.overflowY],
                b.css(e, "display") === "inline" && b.css(e, "float") === "none" && (!b.support.inlineBlockNeedsLayout || an(e.nodeName) === "inline" ? p.display = "inline-block" : p.zoom = 1)),
            n.overflow && (p.overflow = "hidden",
                b.support.shrinkWrapBlocks || h.always(function() {
                    p.overflow = n.overflow[0],
                        p.overflowX = n.overflow[1],
                        p.overflowY = n.overflow[2]
                }));
        for (i in t) {
            o = t[i];
            if ($n.exec(o)) {
                delete t[i],
                    a = a || o === "toggle";
                if (o === (m ? "hide" : "show"))
                    continue;
                v.push(i)
            }
        }
        s = v.length;
        if (s) {
            u = b._data(e, "fxshow") || b._data(e, "fxshow", {}),
                "hidden" in u && (m = u.hidden),
                a && (u.hidden = !m),
                m ? b(e).show() : h.done(function() {
                    b(e).hide()
                }),
                h.done(function() {
                    var t;
                    b._removeData(e, "fxshow");
                    for (t in d)
                        b.style(e, t, d[t])
                });
            for (i = 0; i < s; i++)
                r = v[i],
                f = h.createTween(r, m ? u[r] : 0),
                d[r] = u[r] || b.style(e, r),
                r in u || (u[r] = f.start,
                    m && (f.end = f.start,
                        f.start = r === "width" || r === "height" ? 1 : 0))
        }
    }

    function rr(e, t, n, r, i) {
        return new rr.prototype.init(e, t, n, r, i)
    }

    function ir(e, t) {
        var n, r = {
                height: e
            },
            i = 0;
        t = t ? 1 : 0;
        for (; i < 4; i += 2 - t)
            n = Zt[i],
            r["margin" + n] = r["padding" + n] = e;
        return t && (r.opacity = r.width = e),
            r
    }

    function sr(e) {
        return b.isWindow(e) ? e : e.nodeType === 9 ? e.defaultView || e.parentWindow : !1
    }
    var n, r, i = typeof t,
        s = e.document,
        o = e.location,
        u = e.jQuery,
        a = e.$,
        f = {},
        l = [],
        c = "1.9.1",
        h = l.concat,
        p = l.push,
        d = l.slice,
        v = l.indexOf,
        m = f.toString,
        g = f.hasOwnProperty,
        y = c.trim,
        b = function(e, t) {
            return new b.fn.init(e, t, r)
        },
        w = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        E = /\S+/g,
        S = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        x = /^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,
        T = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        N = /^[\],:{}\s]*$/,
        C = /(?:^|:|,)(?:\s*\[)+/g,
        k = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
        L = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
        A = /^-ms-/,
        O = /-([\da-z])/gi,
        M = function(e, t) {
            return t.toUpperCase()
        },
        _ = function(e) {
            if (s.addEventListener || e.type === "load" || s.readyState === "complete")
                D(),
                b.ready()
        },
        D = function() {
            s.addEventListener ? (s.removeEventListener("DOMContentLoaded", _, !1),
                e.removeEventListener("load", _, !1)) : (s.detachEvent("onreadystatechange", _),
                e.detachEvent("onload", _))
        };
    b.fn = b.prototype = {
            jquery: c,
            constructor: b,
            init: function(e, n, r) {
                var i, o;
                if (!e)
                    return this;
                if (typeof e == "string") {
                    e.charAt(0) === "<" && e.charAt(e.length - 1) === ">" && e.length >= 3 ? i = [null, e, null] : i = x.exec(e);
                    if (i && (i[1] || !n)) {
                        if (i[1]) {
                            n = n instanceof b ? n[0] : n,
                                b.merge(this, b.parseHTML(i[1], n && n.nodeType ? n.ownerDocument || n : s, !0));
                            if (T.test(i[1]) && b.isPlainObject(n))
                                for (i in n)
                                    b.isFunction(this[i]) ? this[i](n[i]) : this.attr(i, n[i]);
                            return this
                        }
                        o = s.getElementById(i[2]);
                        if (o && o.parentNode) {
                            if (o.id !== i[2])
                                return r.find(e);
                            this.length = 1,
                                this[0] = o
                        }
                        return this.context = s,
                            this.selector = e,
                            this
                    }
                    return !n || n.jquery ? (n || r).find(e) : this.constructor(n).find(e)
                }
                return e.nodeType ? (this.context = this[0] = e,
                    this.length = 1,
                    this) : b.isFunction(e) ? r.ready(e) : (e.selector !== t && (this.selector = e.selector,
                        this.context = e.context),
                    b.makeArray(e, this))
            },
            selector: "",
            length: 0,
            size: function() {
                return this.length
            },
            toArray: function() {
                return d.call(this)
            },
            get: function(e) {
                return e == null ? this.toArray() : e < 0 ? this[this.length + e] : this[e]
            },
            pushStack: function(e) {
                var t = b.merge(this.constructor(), e);
                return t.prevObject = this,
                    t.context = this.context,
                    t
            },
            each: function(e, t) {
                return b.each(this, e, t)
            },
            ready: function(e) {
                return b.ready.promise().done(e),
                    this
            },
            slice: function() {
                return this.pushStack(d.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(e) {
                var t = this.length,
                    n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
            },
            map: function(e) {
                return this.pushStack(b.map(this, function(t, n) {
                    return e.call(t, n, t)
                }))
            },
            end: function() {
                return this.prevObject || this.constructor(null)
            },
            push: p,
            sort: [].sort,
            splice: [].splice
        },
        b.fn.init.prototype = b.fn,
        b.extend = b.fn.extend = function() {
            var e, n, r, i, s, o, u = arguments[0] || {},
                a = 1,
                f = arguments.length,
                l = !1;
            typeof u == "boolean" && (l = u,
                    u = arguments[1] || {},
                    a = 2),
                typeof u != "object" && !b.isFunction(u) && (u = {}),
                f === a && (u = this,
                    --a);
            for (; a < f; a++)
                if ((s = arguments[a]) != null)
                    for (i in s) {
                        e = u[i],
                            r = s[i];
                        if (u === r)
                            continue;
                        l && r && (b.isPlainObject(r) || (n = b.isArray(r))) ? (n ? (n = !1,
                                o = e && b.isArray(e) ? e : []) : o = e && b.isPlainObject(e) ? e : {},
                            u[i] = b.extend(l, o, r)) : r !== t && (u[i] = r)
                    }
            return u
        },
        b.extend({
            noConflict: function(t) {
                return e.$ === b && (e.$ = a),
                    t && e.jQuery === b && (e.jQuery = u),
                    b
            },
            isReady: !1,
            readyWait: 1,
            holdReady: function(e) {
                e ? b.readyWait++ : b.ready(!0)
            },
            ready: function(e) {
                if (e === !0 ? --b.readyWait : b.isReady)
                    return;
                if (!s.body)
                    return setTimeout(b.ready);
                b.isReady = !0;
                if (e !== !0 && --b.readyWait > 0)
                    return;
                n.resolveWith(s, [b]),
                    b.fn.trigger && b(s).trigger("ready").off("ready")
            },
            isFunction: function(e) {
                return b.type(e) === "function"
            },
            isArray: Array.isArray || function(e) {
                return b.type(e) === "array"
            },
            isWindow: function(e) {
                return e != null && e == e.window
            },
            isNumeric: function(e) {
                return !isNaN(parseFloat(e)) && isFinite(e)
            },
            type: function(e) {
                return e == null ? String(e) : typeof e == "object" || typeof e == "function" ? f[m.call(e)] || "object" : typeof e
            },
            isPlainObject: function(e) {
                if (!e || b.type(e) !== "object" || e.nodeType || b.isWindow(e))
                    return !1;
                try {
                    if (e.constructor && !g.call(e, "constructor") && !g.call(e.constructor.prototype, "isPrototypeOf"))
                        return !1
                } catch (n) {
                    return !1
                }
                var r;
                for (r in e)
                ;
                return r === t || g.call(e, r)
            },
            isEmptyObject: function(e) {
                var t;
                for (t in e)
                    return !1;
                return !0
            },
            error: function(e) {
                throw new Error(e)
            },
            parseHTML: function(e, t, n) {
                if (!e || typeof e != "string")
                    return null;
                typeof t == "boolean" && (n = t,
                        t = !1),
                    t = t || s;
                var r = T.exec(e),
                    i = !n && [];
                return r ? [t.createElement(r[1])] : (r = b.buildFragment([e], t, i),
                    i && b(i).remove(),
                    b.merge([], r.childNodes))
            },
            parseJSON: function(t) {
                if (e.JSON && e.JSON.parse)
                    return e.JSON.parse(t);
                if (t === null)
                    return t;
                if (typeof t == "string") {
                    t = b.trim(t);
                    if (t && N.test(t.replace(k, "@").replace(L, "]").replace(C, "")))
                        return (new Function("return " + t))()
                }
                b.error("Invalid JSON: " + t)
            },
            parseXML: function(n) {
                var r, i;
                if (!n || typeof n != "string")
                    return null;
                try {
                    e.DOMParser ? (i = new DOMParser,
                        r = i.parseFromString(n, "text/xml")) : (r = new ActiveXObject("Microsoft.XMLDOM"),
                        r.async = "false",
                        r.loadXML(n))
                } catch (s) {
                    r = t
                }
                return (!r || !r.documentElement || r.getElementsByTagName("parsererror").length) && b.error("Invalid XML: " + n),
                    r
            },
            noop: function() {},
            globalEval: function(t) {
                t && b.trim(t) && (e.execScript || function(t) {
                    e.eval.call(e, t)
                })(t)
            },
            camelCase: function(e) {
                return e.replace(A, "ms-").replace(O, M)
            },
            nodeName: function(e, t) {
                return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
            },
            each: function(e, t, n) {
                var r, i = 0,
                    s = e.length,
                    o = P(e);
                if (n)
                    if (o)
                        for (; i < s; i++) {
                            r = t.apply(e[i], n);
                            if (r === !1)
                                break
                        }
                    else
                        for (i in e) {
                            r = t.apply(e[i], n);
                            if (r === !1)
                                break
                        }
                else if (o)
                    for (; i < s; i++) {
                        r = t.call(e[i], i, e[i]);
                        if (r === !1)
                            break
                    }
                else
                    for (i in e) {
                        r = t.call(e[i], i, e[i]);
                        if (r === !1)
                            break
                    }
                return e
            },
            trim: y && !y.call("锘柯 ") ? function(e) {
                return e == null ? "" : y.call(e)
            } : function(e) {
                return e == null ? "" : (e + "").replace(S, "")
            },
            makeArray: function(e, t) {
                var n = t || [];
                return e != null && (P(Object(e)) ? b.merge(n, typeof e == "string" ? [e] : e) : p.call(n, e)),
                    n
            },
            inArray: function(e, t, n) {
                var r;
                if (t) {
                    if (v)
                        return v.call(t, e, n);
                    r = t.length,
                        n = n ? n < 0 ? Math.max(0, r + n) : n : 0;
                    for (; n < r; n++)
                        if (n in t && t[n] === e)
                            return n
                }
                return -1
            },
            merge: function(e, n) {
                var r = n.length,
                    i = e.length,
                    s = 0;
                if (typeof r == "number")
                    for (; s < r; s++)
                        e[i++] = n[s];
                else
                    while (n[s] !== t)
                        e[i++] = n[s++];
                return e.length = i,
                    e
            },
            grep: function(e, t, n) {
                var r, i = [],
                    s = 0,
                    o = e.length;
                n = !!n;
                for (; s < o; s++)
                    r = !!t(e[s], s),
                    n !== r && i.push(e[s]);
                return i
            },
            map: function(e, t, n) {
                var r, i = 0,
                    s = e.length,
                    o = P(e),
                    u = [];
                if (o)
                    for (; i < s; i++)
                        r = t(e[i], i, n),
                        r != null && (u[u.length] = r);
                else
                    for (i in e)
                        r = t(e[i], i, n),
                        r != null && (u[u.length] = r);
                return h.apply([], u)
            },
            guid: 1,
            proxy: function(e, n) {
                var r, i, s;
                return typeof n == "string" && (s = e[n],
                        n = e,
                        e = s),
                    b.isFunction(e) ? (r = d.call(arguments, 2),
                        i = function() {
                            return e.apply(n || this, r.concat(d.call(arguments)))
                        },
                        i.guid = e.guid = e.guid || b.guid++,
                        i) : t
            },
            access: function(e, n, r, i, s, o, u) {
                var a = 0,
                    f = e.length,
                    l = r == null;
                if (b.type(r) === "object") {
                    s = !0;
                    for (a in r)
                        b.access(e, n, a, r[a], !0, o, u)
                } else if (i !== t) {
                    s = !0,
                        b.isFunction(i) || (u = !0),
                        l && (u ? (n.call(e, i),
                            n = null) : (l = n,
                            n = function(e, t, n) {
                                return l.call(b(e), n)
                            }
                        ));
                    if (n)
                        for (; a < f; a++)
                            n(e[a], r, u ? i : i.call(e[a], a, n(e[a], r)))
                }
                return s ? e : l ? n.call(e) : f ? n(e[0], r) : o
            },
            now: function() {
                return (new Date).getTime()
            }
        }),
        b.ready.promise = function(t) {
            if (!n) {
                n = b.Deferred();
                if (s.readyState === "complete")
                    setTimeout(b.ready);
                else if (s.addEventListener)
                    s.addEventListener("DOMContentLoaded", _, !1),
                    e.addEventListener("load", _, !1);
                else {
                    s.attachEvent("onreadystatechange", _),
                        e.attachEvent("onload", _);
                    var r = !1;
                    try {
                        r = e.frameElement == null && s.documentElement
                    } catch (i) {}
                    r && r.doScroll && function o() {
                        if (!b.isReady) {
                            try {
                                r.doScroll("left")
                            } catch (e) {
                                return setTimeout(o, 50)
                            }
                            D(),
                                b.ready()
                        }
                    }()
                }
            }
            return n.promise(t)
        },
        b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
            f["[object " + t + "]"] = t.toLowerCase()
        }),
        r = b(s);
    var H = {};
    b.Callbacks = function(e) {
            e = typeof e == "string" ? H[e] || B(e) : b.extend({}, e);
            var n, r, i, s, o, u, a = [],
                f = !e.once && [],
                l = function(t) {
                    r = e.memory && t,
                        i = !0,
                        o = u || 0,
                        u = 0,
                        s = a.length,
                        n = !0;
                    for (; a && o < s; o++)
                        if (a[o].apply(t[0], t[1]) === !1 && e.stopOnFalse) {
                            r = !1;
                            break
                        }
                    n = !1,
                        a && (f ? f.length && l(f.shift()) : r ? a = [] : c.disable())
                },
                c = {
                    add: function() {
                        if (a) {
                            var t = a.length;
                            (function i(t) {
                                b.each(t, function(t, n) {
                                    var r = b.type(n);
                                    r === "function" ? (!e.unique || !c.has(n)) && a.push(n) : n && n.length && r !== "string" && i(n)
                                })
                            })(arguments),
                            n ? s = a.length : r && (u = t,
                                l(r))
                        }
                        return this
                    },
                    remove: function() {
                        return a && b.each(arguments, function(e, t) {
                                var r;
                                while ((r = b.inArray(t, a, r)) > -1)
                                    a.splice(r, 1),
                                    n && (r <= s && s--,
                                        r <= o && o--)
                            }),
                            this
                    },
                    has: function(e) {
                        return e ? b.inArray(e, a) > -1 : !!a && !!a.length
                    },
                    empty: function() {
                        return a = [],
                            this
                    },
                    disable: function() {
                        return a = f = r = t,
                            this
                    },
                    disabled: function() {
                        return !a
                    },
                    lock: function() {
                        return f = t,
                            r || c.disable(),
                            this
                    },
                    locked: function() {
                        return !f
                    },
                    fireWith: function(e, t) {
                        return t = t || [],
                            t = [e, t.slice ? t.slice() : t],
                            a && (!i || f) && (n ? f.push(t) : l(t)),
                            this
                    },
                    fire: function() {
                        return c.fireWith(this, arguments),
                            this
                    },
                    fired: function() {
                        return !!i
                    }
                };
            return c
        },
        b.extend({
            Deferred: function(e) {
                var t = [
                        ["resolve", "done", b.Callbacks("once memory"), "resolved"],
                        ["reject", "fail", b.Callbacks("once memory"), "rejected"],
                        ["notify", "progress", b.Callbacks("memory")]
                    ],
                    n = "pending",
                    r = {
                        state: function() {
                            return n
                        },
                        always: function() {
                            return i.done(arguments).fail(arguments),
                                this
                        },
                        then: function() {
                            var e = arguments;
                            return b.Deferred(function(n) {
                                b.each(t, function(t, s) {
                                        var o = s[0],
                                            u = b.isFunction(e[t]) && e[t];
                                        i[s[1]](function() {
                                            var e = u && u.apply(this, arguments);
                                            e && b.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o + "With"](this === r ? n.promise() : this, u ? [e] : arguments)
                                        })
                                    }),
                                    e = null
                            }).promise()
                        },
                        promise: function(e) {
                            return e != null ? b.extend(e, r) : r
                        }
                    },
                    i = {};
                return r.pipe = r.then,
                    b.each(t, function(e, s) {
                        var o = s[2],
                            u = s[3];
                        r[s[1]] = o.add,
                            u && o.add(function() {
                                n = u
                            }, t[e ^ 1][2].disable, t[2][2].lock),
                            i[s[0]] = function() {
                                return i[s[0] + "With"](this === i ? r : this, arguments),
                                    this
                            },
                            i[s[0] + "With"] = o.fireWith
                    }),
                    r.promise(i),
                    e && e.call(i, i),
                    i
            },
            when: function(e) {
                var t = 0,
                    n = d.call(arguments),
                    r = n.length,
                    i = r !== 1 || e && b.isFunction(e.promise) ? r : 0,
                    s = i === 1 ? e : b.Deferred(),
                    o = function(e, t, n) {
                        return function(r) {
                            t[e] = this,
                                n[e] = arguments.length > 1 ? d.call(arguments) : r,
                                n === u ? s.notifyWith(t, n) : --i || s.resolveWith(t, n)
                        }
                    },
                    u, a, f;
                if (r > 1) {
                    u = new Array(r),
                        a = new Array(r),
                        f = new Array(r);
                    for (; t < r; t++)
                        n[t] && b.isFunction(n[t].promise) ? n[t].promise().done(o(t, f, n)).fail(s.reject).progress(o(t, a, u)) : --i
                }
                return i || s.resolveWith(f, n),
                    s.promise()
            }
        }),
        b.support = function() {
            var t, n, r, o, u, a, f, l, c, h, p = s.createElement("div");
            p.setAttribute("className", "t"),
                p.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
                n = p.getElementsByTagName("*"),
                r = p.getElementsByTagName("a")[0];
            if (!n || !r || !n.length)
                return {};
            u = s.createElement("select"),
                f = u.appendChild(s.createElement("option")),
                o = p.getElementsByTagName("input")[0],
                r.style.cssText = "top:1px;float:left;opacity:.5",
                t = {
                    getSetAttribute: p.className !== "t",
                    leadingWhitespace: p.firstChild.nodeType === 3,
                    tbody: !p.getElementsByTagName("tbody").length,
                    htmlSerialize: !!p.getElementsByTagName("link").length,
                    style: /top/.test(r.getAttribute("style")),
                    hrefNormalized: r.getAttribute("href") === "/a",
                    opacity: /^0.5/.test(r.style.opacity),
                    cssFloat: !!r.style.cssFloat,
                    checkOn: !!o.value,
                    optSelected: f.selected,
                    enctype: !!s.createElement("form").enctype,
                    html5Clone: s.createElement("nav").cloneNode(!0).outerHTML !== "<:nav></:nav>",
                    boxModel: s.compatMode === "CSS1Compat",
                    deleteExpando: !0,
                    noCloneEvent: !0,
                    inlineBlockNeedsLayout: !1,
                    shrinkWrapBlocks: !1,
                    reliableMarginRight: !0,
                    boxSizingReliable: !0,
                    pixelPosition: !1
                },
                o.checked = !0,
                t.noCloneChecked = o.cloneNode(!0).checked,
                u.disabled = !0,
                t.optDisabled = !f.disabled;
            try {
                delete p.test
            } catch (d) {
                t.deleteExpando = !1
            }
            o = s.createElement("input"),
                o.setAttribute("value", ""),
                t.input = o.getAttribute("value") === "",
                o.value = "t",
                o.setAttribute("type", "radio"),
                t.radioValue = o.value === "t",
                o.setAttribute("checked", "t"),
                o.setAttribute("name", "t"),
                a = s.createDocumentFragment(),
                a.appendChild(o),
                t.appendChecked = o.checked,
                t.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked,
                p.attachEvent && (p.attachEvent("onclick", function() {
                        t.noCloneEvent = !1
                    }),
                    p.cloneNode(!0).click());
            for (h in {
                    submit: !0,
                    change: !0,
                    focusin: !0
                })
                p.setAttribute(l = "on" + h, "t"),
                t[h + "Bubbles"] = l in e || p.attributes[l].expando === !1;
            return p.style.backgroundClip = "content-box",
                p.cloneNode(!0).style.backgroundClip = "",
                t.clearCloneStyle = p.style.backgroundClip === "content-box",
                b(function() {
                    var n, r, o, u = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",
                        a = s.getElementsByTagName("body")[0];
                    if (!a)
                        return;
                    n = s.createElement("div"),
                        n.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
                        a.appendChild(n).appendChild(p),
                        p.innerHTML = "<table><tr><td></td><td>t</td></tr></table>",
                        o = p.getElementsByTagName("td"),
                        o[0].style.cssText = "padding:0;margin:0;border:0;display:none",
                        c = o[0].offsetHeight === 0,
                        o[0].style.display = "",
                        o[1].style.display = "none",
                        t.reliableHiddenOffsets = c && o[0].offsetHeight === 0,
                        p.innerHTML = "",
                        p.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
                        t.boxSizing = p.offsetWidth === 4,
                        t.doesNotIncludeMarginInBodyOffset = a.offsetTop !== 1,
                        e.getComputedStyle && (t.pixelPosition = (e.getComputedStyle(p, null) || {}).top !== "1%",
                            t.boxSizingReliable = (e.getComputedStyle(p, null) || {
                                width: "4px"
                            }).width === "4px",
                            r = p.appendChild(s.createElement("div")),
                            r.style.cssText = p.style.cssText = u,
                            r.style.marginRight = r.style.width = "0",
                            p.style.width = "1px",
                            t.reliableMarginRight = !parseFloat((e.getComputedStyle(r, null) || {}).marginRight)),
                        typeof p.style.zoom !== i && (p.innerHTML = "",
                            p.style.cssText = u + "width:1px;padding:1px;display:inline;zoom:1",
                            t.inlineBlockNeedsLayout = p.offsetWidth === 3,
                            p.style.display = "block",
                            p.innerHTML = "<div></div>",
                            p.firstChild.style.width = "5px",
                            t.shrinkWrapBlocks = p.offsetWidth !== 3,
                            t.inlineBlockNeedsLayout && (a.style.zoom = 1)),
                        a.removeChild(n),
                        n = p = o = r = null
                }),
                n = u = a = f = r = o = null,
                t
        }();
    var j = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
        F = /([A-Z])/g;
    b.extend({
            cache: {},
            expando: "jQuery" + (c + Math.random()).replace(/\D/g, ""),
            noData: {
                embed: !0,
                object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
                applet: !0
            },
            hasData: function(e) {
                return e = e.nodeType ? b.cache[e[b.expando]] : e[b.expando], !!e && !U(e)
            },
            data: function(e, t, n) {
                return I(e, t, n)
            },
            removeData: function(e, t) {
                return q(e, t)
            },
            _data: function(e, t, n) {
                return I(e, t, n, !0)
            },
            _removeData: function(e, t) {
                return q(e, t, !0)
            },
            acceptData: function(e) {
                if (e.nodeType && e.nodeType !== 1 && e.nodeType !== 9)
                    return !1;
                var t = e.nodeName && b.noData[e.nodeName.toLowerCase()];
                return !t || t !== !0 && e.getAttribute("classid") === t
            }
        }),
        b.fn.extend({
            data: function(e, n) {
                var r, i, s = this[0],
                    o = 0,
                    u = null;
                if (e === t) {
                    if (this.length) {
                        u = b.data(s);
                        if (s.nodeType === 1 && !b._data(s, "parsedAttrs")) {
                            r = s.attributes;
                            for (; o < r.length; o++)
                                i = r[o].name,
                                i.indexOf("data-") || (i = b.camelCase(i.slice(5)),
                                    R(s, i, u[i]));
                            b._data(s, "parsedAttrs", !0)
                        }
                    }
                    return u
                }
                return typeof e == "object" ? this.each(function() {
                    b.data(this, e)
                }) : b.access(this, function(n) {
                    if (n === t)
                        return s ? R(s, e, b.data(s, e)) : null;
                    this.each(function() {
                        b.data(this, e, n)
                    })
                }, null, n, arguments.length > 1, null, !0)
            },
            removeData: function(e) {
                return this.each(function() {
                    b.removeData(this, e)
                })
            }
        }),
        b.extend({
            queue: function(e, t, n) {
                var r;
                if (e)
                    return t = (t || "fx") + "queue",
                        r = b._data(e, t),
                        n && (!r || b.isArray(n) ? r = b._data(e, t, b.makeArray(n)) : r.push(n)),
                        r || []
            },
            dequeue: function(e, t) {
                t = t || "fx";
                var n = b.queue(e, t),
                    r = n.length,
                    i = n.shift(),
                    s = b._queueHooks(e, t),
                    o = function() {
                        b.dequeue(e, t)
                    };
                i === "inprogress" && (i = n.shift(),
                        r--),
                    s.cur = i,
                    i && (t === "fx" && n.unshift("inprogress"),
                        delete s.stop,
                        i.call(e, o, s)), !r && s && s.empty.fire()
            },
            _queueHooks: function(e, t) {
                var n = t + "queueHooks";
                return b._data(e, n) || b._data(e, n, {
                    empty: b.Callbacks("once memory").add(function() {
                        b._removeData(e, t + "queue"),
                            b._removeData(e, n)
                    })
                })
            }
        }),
        b.fn.extend({
            queue: function(e, n) {
                var r = 2;
                return typeof e != "string" && (n = e,
                        e = "fx",
                        r--),
                    arguments.length < r ? b.queue(this[0], e) : n === t ? this : this.each(function() {
                        var t = b.queue(this, e, n);
                        b._queueHooks(this, e),
                            e === "fx" && t[0] !== "inprogress" && b.dequeue(this, e)
                    })
            },
            dequeue: function(e) {
                return this.each(function() {
                    b.dequeue(this, e)
                })
            },
            delay: function(e, t) {
                return e = b.fx ? b.fx.speeds[e] || e : e,
                    t = t || "fx",
                    this.queue(t, function(t, n) {
                        var r = setTimeout(t, e);
                        n.stop = function() {
                            clearTimeout(r)
                        }
                    })
            },
            clearQueue: function(e) {
                return this.queue(e || "fx", [])
            },
            promise: function(e, n) {
                var r, i = 1,
                    s = b.Deferred(),
                    o = this,
                    u = this.length,
                    a = function() {
                        --i || s.resolveWith(o, [o])
                    };
                typeof e != "string" && (n = e,
                        e = t),
                    e = e || "fx";
                while (u--)
                    r = b._data(o[u], e + "queueHooks"),
                    r && r.empty && (i++,
                        r.empty.add(a));
                return a(),
                    s.promise(n)
            }
        });
    var z, W, X = /[\t\r\n]/g,
        V = /\r/g,
        $ = /^(?:input|select|textarea|button|object)$/i,
        J = /^(?:a|area)$/i,
        K = /^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,
        Q = /^(?:checked|selected)$/i,
        G = b.support.getSetAttribute,
        Y = b.support.input;
    b.fn.extend({
            attr: function(e, t) {
                return b.access(this, b.attr, e, t, arguments.length > 1)
            },
            removeAttr: function(e) {
                return this.each(function() {
                    b.removeAttr(this, e)
                })
            },
            prop: function(e, t) {
                return b.access(this, b.prop, e, t, arguments.length > 1)
            },
            removeProp: function(e) {
                return e = b.propFix[e] || e,
                    this.each(function() {
                        try {
                            this[e] = t,
                                delete this[e]
                        } catch (n) {}
                    })
            },
            addClass: function(e) {
                var t, n, r, i, s, o = 0,
                    u = this.length,
                    a = typeof e == "string" && e;
                if (b.isFunction(e))
                    return this.each(function(t) {
                        b(this).addClass(e.call(this, t, this.className))
                    });
                if (a) {
                    t = (e || "").match(E) || [];
                    for (; o < u; o++) {
                        n = this[o],
                            r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(X, " ") : " ");
                        if (r) {
                            s = 0;
                            while (i = t[s++])
                                r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                            n.className = b.trim(r)
                        }
                    }
                }
                return this
            },
            removeClass: function(e) {
                var t, n, r, i, s, o = 0,
                    u = this.length,
                    a = arguments.length === 0 || typeof e == "string" && e;
                if (b.isFunction(e))
                    return this.each(function(t) {
                        b(this).removeClass(e.call(this, t, this.className))
                    });
                if (a) {
                    t = (e || "").match(E) || [];
                    for (; o < u; o++) {
                        n = this[o],
                            r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(X, " ") : "");
                        if (r) {
                            s = 0;
                            while (i = t[s++])
                                while (r.indexOf(" " + i + " ") >= 0)
                                    r = r.replace(" " + i + " ", " ");
                            n.className = e ? b.trim(r) : ""
                        }
                    }
                }
                return this
            },
            toggleClass: function(e, t) {
                var n = typeof e,
                    r = typeof t == "boolean";
                return b.isFunction(e) ? this.each(function(n) {
                    b(this).toggleClass(e.call(this, n, this.className, t), t)
                }) : this.each(function() {
                    if (n === "string") {
                        var s, o = 0,
                            u = b(this),
                            a = t,
                            f = e.match(E) || [];
                        while (s = f[o++])
                            a = r ? a : !u.hasClass(s),
                            u[a ? "addClass" : "removeClass"](s)
                    } else if (n === i || n === "boolean")
                        this.className && b._data(this, "__className__", this.className),
                        this.className = this.className || e === !1 ? "" : b._data(this, "__className__") || ""
                })
            },
            hasClass: function(e) {
                var t = " " + e + " ",
                    n = 0,
                    r = this.length;
                for (; n < r; n++)
                    if (this[n].nodeType === 1 && (" " + this[n].className + " ").replace(X, " ").indexOf(t) >= 0)
                        return !0;
                return !1
            },
            val: function(e) {
                var n, r, i, s = this[0];
                if (!arguments.length) {
                    if (s)
                        return r = b.valHooks[s.type] || b.valHooks[s.nodeName.toLowerCase()],
                            r && "get" in r && (n = r.get(s, "value")) !== t ? n : (n = s.value,
                                typeof n == "string" ? n.replace(V, "") : n == null ? "" : n);
                    return
                }
                return i = b.isFunction(e),
                    this.each(function(n) {
                        var s, o = b(this);
                        if (this.nodeType !== 1)
                            return;
                        i ? s = e.call(this, n, o.val()) : s = e,
                            s == null ? s = "" : typeof s == "number" ? s += "" : b.isArray(s) && (s = b.map(s, function(e) {
                                return e == null ? "" : e + ""
                            })),
                            r = b.valHooks[this.type] || b.valHooks[this.nodeName.toLowerCase()];
                        if (!r || !("set" in r) || r.set(this, s, "value") === t)
                            this.value = s
                    })
            }
        }),
        b.extend({
            valHooks: {
                option: {
                    get: function(e) {
                        var t = e.attributes.value;
                        return !t || t.specified ? e.value : e.text
                    }
                },
                select: {
                    get: function(e) {
                        var t, n, r = e.options,
                            i = e.selectedIndex,
                            s = e.type === "select-one" || i < 0,
                            o = s ? null : [],
                            u = s ? i + 1 : r.length,
                            a = i < 0 ? u : s ? i : 0;
                        for (; a < u; a++) {
                            n = r[a];
                            if ((n.selected || a === i) && (b.support.optDisabled ? !n.disabled : n.getAttribute("disabled") === null) && (!n.parentNode.disabled || !b.nodeName(n.parentNode, "optgroup"))) {
                                t = b(n).val();
                                if (s)
                                    return t;
                                o.push(t)
                            }
                        }
                        return o
                    },
                    set: function(e, t) {
                        var n = b.makeArray(t);
                        return b(e).find("option").each(function() {
                                this.selected = b.inArray(b(this).val(), n) >= 0
                            }),
                            n.length || (e.selectedIndex = -1),
                            n
                    }
                }
            },
            attr: function(e, n, r) {
                var s, o, u, a = e.nodeType;
                if (!e || a === 3 || a === 8 || a === 2)
                    return;
                if (typeof e.getAttribute === i)
                    return b.prop(e, n, r);
                o = a !== 1 || !b.isXMLDoc(e),
                    o && (n = n.toLowerCase(),
                        s = b.attrHooks[n] || (K.test(n) ? W : z));
                if (r === t)
                    return s && o && "get" in s && (u = s.get(e, n)) !== null ? u : (typeof e.getAttribute !== i && (u = e.getAttribute(n)),
                        u == null ? t : u);
                if (r !== null)
                    return s && o && "set" in s && (u = s.set(e, r, n)) !== t ? u : (e.setAttribute(n, r + ""),
                        r);
                b.removeAttr(e, n)
            },
            removeAttr: function(e, t) {
                var n, r, i = 0,
                    s = t && t.match(E);
                if (s && e.nodeType === 1)
                    while (n = s[i++])
                        r = b.propFix[n] || n,
                        K.test(n) ? !G && Q.test(n) ? e[b.camelCase("default-" + n)] = e[r] = !1 : e[r] = !1 : b.attr(e, n, ""),
                        e.removeAttribute(G ? n : r)
            },
            attrHooks: {
                type: {
                    set: function(e, t) {
                        if (!b.support.radioValue && t === "radio" && b.nodeName(e, "input")) {
                            var n = e.value;
                            return e.setAttribute("type", t),
                                n && (e.value = n),
                                t
                        }
                    }
                }
            },
            propFix: {
                tabindex: "tabIndex",
                readonly: "readOnly",
                "for": "htmlFor",
                "class": "className",
                maxlength: "maxLength",
                cellspacing: "cellSpacing",
                cellpadding: "cellPadding",
                rowspan: "rowSpan",
                colspan: "colSpan",
                usemap: "useMap",
                frameborder: "frameBorder",
                contenteditable: "contentEditable"
            },
            prop: function(e, n, r) {
                var i, s, o, u = e.nodeType;
                if (!e || u === 3 || u === 8 || u === 2)
                    return;
                return o = u !== 1 || !b.isXMLDoc(e),
                    o && (n = b.propFix[n] || n,
                        s = b.propHooks[n]),
                    r !== t ? s && "set" in s && (i = s.set(e, r, n)) !== t ? i : e[n] = r : s && "get" in s && (i = s.get(e, n)) !== null ? i : e[n]
            },
            propHooks: {
                tabIndex: {
                    get: function(e) {
                        var n = e.getAttributeNode("tabindex");
                        return n && n.specified ? parseInt(n.value, 10) : $.test(e.nodeName) || J.test(e.nodeName) && e.href ? 0 : t
                    }
                }
            }
        }),
        W = {
            get: function(e, n) {
                var r = b.prop(e, n),
                    i = typeof r == "boolean" && e.getAttribute(n),
                    s = typeof r == "boolean" ? Y && G ? i != null : Q.test(n) ? e[b.camelCase("default-" + n)] : !!i : e.getAttributeNode(n);
                return s && s.value !== !1 ? n.toLowerCase() : t
            },
            set: function(e, t, n) {
                return t === !1 ? b.removeAttr(e, n) : Y && G || !Q.test(n) ? e.setAttribute(!G && b.propFix[n] || n, n) : e[b.camelCase("default-" + n)] = e[n] = !0,
                    n
            }
        };
    if (!Y || !G)
        b.attrHooks.value = {
            get: function(e, n) {
                var r = e.getAttributeNode(n);
                return b.nodeName(e, "input") ? e.defaultValue : r && r.specified ? r.value : t
            },
            set: function(e, t, n) {
                if (!b.nodeName(e, "input"))
                    return z && z.set(e, t, n);
                e.defaultValue = t
            }
        };
    G || (z = b.valHooks.button = {
                get: function(e, n) {
                    var r = e.getAttributeNode(n);
                    return r && (n === "id" || n === "name" || n === "coords" ? r.value !== "" : r.specified) ? r.value : t
                },
                set: function(e, n, r) {
                    var i = e.getAttributeNode(r);
                    return i || e.setAttributeNode(i = e.ownerDocument.createAttribute(r)),
                        i.value = n += "",
                        r === "value" || n === e.getAttribute(r) ? n : t
                }
            },
            b.attrHooks.contenteditable = {
                get: z.get,
                set: function(e, t, n) {
                    z.set(e, t === "" ? !1 : t, n)
                }
            },
            b.each(["width", "height"], function(e, t) {
                b.attrHooks[t] = b.extend(b.attrHooks[t], {
                    set: function(e, n) {
                        if (n === "")
                            return e.setAttribute(t, "auto"),
                                n
                    }
                })
            })),
        b.support.hrefNormalized || (b.each(["href", "src", "width", "height"], function(e, n) {
                b.attrHooks[n] = b.extend(b.attrHooks[n], {
                    get: function(e) {
                        var r = e.getAttribute(n, 2);
                        return r == null ? t : r
                    }
                })
            }),
            b.each(["href", "src"], function(e, t) {
                b.propHooks[t] = {
                    get: function(e) {
                        return e.getAttribute(t, 4)
                    }
                }
            })),
        b.support.style || (b.attrHooks.style = {
            get: function(e) {
                return e.style.cssText || t
            },
            set: function(e, t) {
                return e.style.cssText = t + ""
            }
        }),
        b.support.optSelected || (b.propHooks.selected = b.extend(b.propHooks.selected, {
            get: function(e) {
                var t = e.parentNode;
                return t && (t.selectedIndex,
                        t.parentNode && t.parentNode.selectedIndex),
                    null
            }
        })),
        b.support.enctype || (b.propFix.enctype = "encoding"),
        b.support.checkOn || b.each(["radio", "checkbox"], function() {
            b.valHooks[this] = {
                get: function(e) {
                    return e.getAttribute("value") === null ? "on" : e.value
                }
            }
        }),
        b.each(["radio", "checkbox"], function() {
            b.valHooks[this] = b.extend(b.valHooks[this], {
                set: function(e, t) {
                    if (b.isArray(t))
                        return e.checked = b.inArray(b(e).val(), t) >= 0
                }
            })
        });
    var Z = /^(?:input|select|textarea)$/i,
        et = /^key/,
        tt = /^(?:mouse|contextmenu)|click/,
        nt = /^(?:focusinfocus|focusoutblur)$/,
        rt = /^([^.]*)(?:\.(.+)|)$/;
    b.event = {
            global: {},
            add: function(e, n, r, s, o) {
                var u, a, f, l, c, h, p, d, v, m, g, y = b._data(e);
                if (!y)
                    return;
                r.handler && (l = r,
                        r = l.handler,
                        o = l.selector),
                    r.guid || (r.guid = b.guid++),
                    (a = y.events) || (a = y.events = {}),
                    (h = y.handle) || (h = y.handle = function(e) {
                            return typeof b === i || !!e && b.event.triggered === e.type ? t : b.event.dispatch.apply(h.elem, arguments)
                        },
                        h.elem = e),
                    n = (n || "").match(E) || [""],
                    f = n.length;
                while (f--) {
                    u = rt.exec(n[f]) || [],
                        v = g = u[1],
                        m = (u[2] || "").split(".").sort(),
                        c = b.event.special[v] || {},
                        v = (o ? c.delegateType : c.bindType) || v,
                        c = b.event.special[v] || {},
                        p = b.extend({
                            type: v,
                            origType: g,
                            data: s,
                            handler: r,
                            guid: r.guid,
                            selector: o,
                            needsContext: o && b.expr.match.needsContext.test(o),
                            namespace: m.join(".")
                        }, l);
                    if (!(d = a[v])) {
                        d = a[v] = [],
                            d.delegateCount = 0;
                        if (!c.setup || c.setup.call(e, s, m, h) === !1)
                            e.addEventListener ? e.addEventListener(v, h, !1) : e.attachEvent && e.attachEvent("on" + v, h)
                    }
                    c.add && (c.add.call(e, p),
                            p.handler.guid || (p.handler.guid = r.guid)),
                        o ? d.splice(d.delegateCount++, 0, p) : d.push(p),
                        b.event.global[v] = !0
                }
                e = null
            },
            remove: function(e, t, n, r, i) {
                var s, o, u, a, f, l, c, h, p, d, v, m = b.hasData(e) && b._data(e);
                if (!m || !(l = m.events))
                    return;
                t = (t || "").match(E) || [""],
                    f = t.length;
                while (f--) {
                    u = rt.exec(t[f]) || [],
                        p = v = u[1],
                        d = (u[2] || "").split(".").sort();
                    if (!p) {
                        for (p in l)
                            b.event.remove(e, p + t[f], n, r, !0);
                        continue
                    }
                    c = b.event.special[p] || {},
                        p = (r ? c.delegateType : c.bindType) || p,
                        h = l[p] || [],
                        u = u[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        a = s = h.length;
                    while (s--)
                        o = h[s],
                        (i || v === o.origType) && (!n || n.guid === o.guid) && (!u || u.test(o.namespace)) && (!r || r === o.selector || r === "**" && o.selector) && (h.splice(s, 1),
                            o.selector && h.delegateCount--,
                            c.remove && c.remove.call(e, o));
                    a && !h.length && ((!c.teardown || c.teardown.call(e, d, m.handle) === !1) && b.removeEvent(e, p, m.handle),
                        delete l[p])
                }
                b.isEmptyObject(l) && (delete m.handle,
                    b._removeData(e, "events"))
            },
            trigger: function(n, r, i, o) {
                var u, a, f, l, c, h, p, d = [i || s],
                    v = g.call(n, "type") ? n.type : n,
                    m = g.call(n, "namespace") ? n.namespace.split(".") : [];
                f = h = i = i || s;
                if (i.nodeType === 3 || i.nodeType === 8)
                    return;
                if (nt.test(v + b.event.triggered))
                    return;
                v.indexOf(".") >= 0 && (m = v.split("."),
                        v = m.shift(),
                        m.sort()),
                    a = v.indexOf(":") < 0 && "on" + v,
                    n = n[b.expando] ? n : new b.Event(v, typeof n == "object" && n),
                    n.isTrigger = !0,
                    n.namespace = m.join("."),
                    n.namespace_re = n.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
                    n.result = t,
                    n.target || (n.target = i),
                    r = r == null ? [n] : b.makeArray(r, [n]),
                    c = b.event.special[v] || {};
                if (!o && c.trigger && c.trigger.apply(i, r) === !1)
                    return;
                if (!o && !c.noBubble && !b.isWindow(i)) {
                    l = c.delegateType || v,
                        nt.test(l + v) || (f = f.parentNode);
                    for (; f; f = f.parentNode)
                        d.push(f),
                        h = f;
                    h === (i.ownerDocument || s) && d.push(h.defaultView || h.parentWindow || e)
                }
                p = 0;
                while ((f = d[p++]) && !n.isPropagationStopped())
                    n.type = p > 1 ? l : c.bindType || v,
                    u = (b._data(f, "events") || {})[n.type] && b._data(f, "handle"),
                    u && u.apply(f, r),
                    u = a && f[a],
                    u && b.acceptData(f) && u.apply && u.apply(f, r) === !1 && n.preventDefault();
                n.type = v;
                if (!o && !n.isDefaultPrevented() && (!c._default || c._default.apply(i.ownerDocument, r) === !1) && (v !== "click" || !b.nodeName(i, "a")) && b.acceptData(i) && a && i[v] && !b.isWindow(i)) {
                    h = i[a],
                        h && (i[a] = null),
                        b.event.triggered = v;
                    try {
                        i[v]()
                    } catch (y) {}
                    b.event.triggered = t,
                        h && (i[a] = h)
                }
                return n.result
            },
            dispatch: function(e) {
                e = b.event.fix(e);
                var n, r, i, s, o, u = [],
                    a = d.call(arguments),
                    f = (b._data(this, "events") || {})[e.type] || [],
                    l = b.event.special[e.type] || {};
                a[0] = e,
                    e.delegateTarget = this;
                if (l.preDispatch && l.preDispatch.call(this, e) === !1)
                    return;
                u = b.event.handlers.call(this, e, f),
                    n = 0;
                while ((s = u[n++]) && !e.isPropagationStopped()) {
                    e.currentTarget = s.elem,
                        o = 0;
                    while ((i = s.handlers[o++]) && !e.isImmediatePropagationStopped())
                        if (!e.namespace_re || e.namespace_re.test(i.namespace))
                            e.handleObj = i,
                            e.data = i.data,
                            r = ((b.event.special[i.origType] || {}).handle || i.handler).apply(s.elem, a),
                            r !== t && (e.result = r) === !1 && (e.preventDefault(),
                                e.stopPropagation())
                }
                return l.postDispatch && l.postDispatch.call(this, e),
                    e.result
            },
            handlers: function(e, n) {
                var r, i, s, o, u = [],
                    a = n.delegateCount,
                    f = e.target;
                if (a && f.nodeType && (!e.button || e.type !== "click"))
                    for (; f != this; f = f.parentNode || this)
                        if (f.nodeType === 1 && (f.disabled !== !0 || e.type !== "click")) {
                            s = [];
                            for (o = 0; o < a; o++)
                                i = n[o],
                                r = i.selector + " ",
                                s[r] === t && (s[r] = i.needsContext ? b(r, this).index(f) >= 0 : b.find(r, this, null, [f]).length),
                                s[r] && s.push(i);
                            s.length && u.push({
                                elem: f,
                                handlers: s
                            })
                        }
                return a < n.length && u.push({
                        elem: this,
                        handlers: n.slice(a)
                    }),
                    u
            },
            fix: function(e) {
                if (e[b.expando])
                    return e;
                var t, n, r, i = e.type,
                    o = e,
                    u = this.fixHooks[i];
                u || (this.fixHooks[i] = u = tt.test(i) ? this.mouseHooks : et.test(i) ? this.keyHooks : {}),
                    r = u.props ? this.props.concat(u.props) : this.props,
                    e = new b.Event(o),
                    t = r.length;
                while (t--)
                    n = r[t],
                    e[n] = o[n];
                return e.target || (e.target = o.srcElement || s),
                    e.target.nodeType === 3 && (e.target = e.target.parentNode),
                    e.metaKey = !!e.metaKey,
                    u.filter ? u.filter(e, o) : e
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function(e, t) {
                    return e.which == null && (e.which = t.charCode != null ? t.charCode : t.keyCode),
                        e
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function(e, n) {
                    var r, i, o, u = n.button,
                        a = n.fromElement;
                    return e.pageX == null && n.clientX != null && (i = e.target.ownerDocument || s,
                            o = i.documentElement,
                            r = i.body,
                            e.pageX = n.clientX + (o && o.scrollLeft || r && r.scrollLeft || 0) - (o && o.clientLeft || r && r.clientLeft || 0),
                            e.pageY = n.clientY + (o && o.scrollTop || r && r.scrollTop || 0) - (o && o.clientTop || r && r.clientTop || 0)), !e.relatedTarget && a && (e.relatedTarget = a === e.target ? n.toElement : a), !e.which && u !== t && (e.which = u & 1 ? 1 : u & 2 ? 3 : u & 4 ? 2 : 0),
                        e
                }
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    trigger: function() {
                        if (b.nodeName(this, "input") && this.type === "checkbox" && this.click)
                            return this.click(), !1
                    }
                },
                focus: {
                    trigger: function() {
                        if (this !== s.activeElement && this.focus)
                            try {
                                return this.focus(), !1
                            } catch (e) {}
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        if (this === s.activeElement && this.blur)
                            return this.blur(), !1
                    },
                    delegateType: "focusout"
                },
                beforeunload: {
                    postDispatch: function(e) {
                        e.result !== t && (e.originalEvent.returnValue = e.result)
                    }
                }
            },
            simulate: function(e, t, n, r) {
                var i = b.extend(new b.Event, n, {
                    type: e,
                    isSimulated: !0,
                    originalEvent: {}
                });
                r ? b.event.trigger(i, null, t) : b.event.dispatch.call(t, i),
                    i.isDefaultPrevented() && n.preventDefault()
            }
        },
        b.removeEvent = s.removeEventListener ? function(e, t, n) {
            e.removeEventListener && e.removeEventListener(t, n, !1)
        } :
        function(e, t, n) {
            var r = "on" + t;
            e.detachEvent && (typeof e[r] === i && (e[r] = null),
                e.detachEvent(r, n))
        },
        b.Event = function(e, t) {
            if (!(this instanceof b.Event))
                return new b.Event(e, t);
            e && e.type ? (this.originalEvent = e,
                    this.type = e.type,
                    this.isDefaultPrevented = e.defaultPrevented || e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault() ? it : st) : this.type = e,
                t && b.extend(this, t),
                this.timeStamp = e && e.timeStamp || b.now(),
                this[b.expando] = !0
        },
        b.Event.prototype = {
            isDefaultPrevented: st,
            isPropagationStopped: st,
            isImmediatePropagationStopped: st,
            preventDefault: function() {
                var e = this.originalEvent;
                this.isDefaultPrevented = it;
                if (!e)
                    return;
                e.preventDefault ? e.preventDefault() : e.returnValue = !1
            },
            stopPropagation: function() {
                var e = this.originalEvent;
                this.isPropagationStopped = it;
                if (!e)
                    return;
                e.stopPropagation && e.stopPropagation(),
                    e.cancelBubble = !0
            },
            stopImmediatePropagation: function() {
                this.isImmediatePropagationStopped = it,
                    this.stopPropagation()
            }
        },
        b.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout"
        }, function(e, t) {
            b.event.special[e] = {
                delegateType: t,
                bindType: t,
                handle: function(e) {
                    var n, r = this,
                        i = e.relatedTarget,
                        s = e.handleObj;
                    if (!i || i !== r && !b.contains(r, i))
                        e.type = s.origType,
                        n = s.handler.apply(this, arguments),
                        e.type = t;
                    return n
                }
            }
        }),
        b.support.submitBubbles || (b.event.special.submit = {
            setup: function() {
                if (b.nodeName(this, "form"))
                    return !1;
                b.event.add(this, "click._submit keypress._submit", function(e) {
                    var n = e.target,
                        r = b.nodeName(n, "input") || b.nodeName(n, "button") ? n.form : t;
                    r && !b._data(r, "submitBubbles") && (b.event.add(r, "submit._submit", function(e) {
                            e._submit_bubble = !0
                        }),
                        b._data(r, "submitBubbles", !0))
                })
            },
            postDispatch: function(e) {
                e._submit_bubble && (delete e._submit_bubble,
                    this.parentNode && !e.isTrigger && b.event.simulate("submit", this.parentNode, e, !0))
            },
            teardown: function() {
                if (b.nodeName(this, "form"))
                    return !1;
                b.event.remove(this, "._submit")
            }
        }),
        b.support.changeBubbles || (b.event.special.change = {
            setup: function() {
                if (Z.test(this.nodeName)) {
                    if (this.type === "checkbox" || this.type === "radio")
                        b.event.add(this, "propertychange._change", function(e) {
                            e.originalEvent.propertyName === "checked" && (this._just_changed = !0)
                        }),
                        b.event.add(this, "click._change", function(e) {
                            this._just_changed && !e.isTrigger && (this._just_changed = !1),
                                b.event.simulate("change", this, e, !0)
                        });
                    return !1
                }
                b.event.add(this, "beforeactivate._change", function(e) {
                    var t = e.target;
                    Z.test(t.nodeName) && !b._data(t, "changeBubbles") && (b.event.add(t, "change._change", function(e) {
                            this.parentNode && !e.isSimulated && !e.isTrigger && b.event.simulate("change", this.parentNode, e, !0)
                        }),
                        b._data(t, "changeBubbles", !0))
                })
            },
            handle: function(e) {
                var t = e.target;
                if (this !== t || e.isSimulated || e.isTrigger || t.type !== "radio" && t.type !== "checkbox")
                    return e.handleObj.handler.apply(this, arguments)
            },
            teardown: function() {
                return b.event.remove(this, "._change"), !Z.test(this.nodeName)
            }
        }),
        b.support.focusinBubbles || b.each({
            focus: "focusin",
            blur: "focusout"
        }, function(e, t) {
            var n = 0,
                r = function(e) {
                    b.event.simulate(t, e.target, b.event.fix(e), !0)
                };
            b.event.special[t] = {
                setup: function() {
                    n++ === 0 && s.addEventListener(e, r, !0)
                },
                teardown: function() {
                    --n === 0 && s.removeEventListener(e, r, !0)
                }
            }
        }),
        b.fn.extend({
            on: function(e, n, r, i, s) {
                var o, u;
                if (typeof e == "object") {
                    typeof n != "string" && (r = r || n,
                        n = t);
                    for (o in e)
                        this.on(o, n, r, e[o], s);
                    return this
                }
                r == null && i == null ? (i = n,
                    r = n = t) : i == null && (typeof n == "string" ? (i = r,
                    r = t) : (i = r,
                    r = n,
                    n = t));
                if (i === !1)
                    i = st;
                else if (!i)
                    return this;
                return s === 1 && (u = i,
                        i = function(e) {
                            return b().off(e),
                                u.apply(this, arguments)
                        },
                        i.guid = u.guid || (u.guid = b.guid++)),
                    this.each(function() {
                        b.event.add(this, e, i, r, n)
                    })
            },
            one: function(e, t, n, r) {
                return this.on(e, t, n, r, 1)
            },
            off: function(e, n, r) {
                var i, s;
                if (e && e.preventDefault && e.handleObj)
                    return i = e.handleObj,
                        b(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler),
                        this;
                if (typeof e == "object") {
                    for (s in e)
                        this.off(s, n, e[s]);
                    return this
                }
                if (n === !1 || typeof n == "function")
                    r = n,
                    n = t;
                return r === !1 && (r = st),
                    this.each(function() {
                        b.event.remove(this, e, r, n)
                    })
            },
            bind: function(e, t, n) {
                return this.on(e, null, t, n)
            },
            unbind: function(e, t) {
                return this.off(e, null, t)
            },
            delegate: function(e, t, n, r) {
                return this.on(t, e, n, r)
            },
            undelegate: function(e, t, n) {
                return arguments.length === 1 ? this.off(e, "**") : this.off(t, e || "**", n)
            },
            trigger: function(e, t) {
                return this.each(function() {
                    b.event.trigger(e, t, this)
                })
            },
            triggerHandler: function(e, t) {
                var n = this[0];
                if (n)
                    return b.event.trigger(e, t, n, !0)
            }
        }),
        function(e, t) {
            function rt(e) {
                return J.test(e + "")
            }

            function it() {
                var e, t = [];
                return e = function(n, r) {
                    return t.push(n += " ") > i.cacheLength && delete e[t.shift()],
                        e[n] = r
                }
            }

            function st(e) {
                return e[w] = !0,
                    e
            }

            function ot(e) {
                var t = c.createElement("div");
                try {
                    return e(t)
                } catch (n) {
                    return !1
                } finally {
                    t = null
                }
            }

            function ut(e, t, n, r) {
                var i, s, o, u, a, f, h, v, m, y;
                (t ? t.ownerDocument || t : E) !== c && l(t),
                    t = t || c,
                    n = n || [];
                if (!e || typeof e != "string")
                    return n;
                if ((u = t.nodeType) !== 1 && u !== 9)
                    return [];
                if (!p && !r) {
                    if (i = K.exec(e))
                        if (o = i[1]) {
                            if (u === 9) {
                                s = t.getElementById(o);
                                if (!s || !s.parentNode)
                                    return n;
                                if (s.id === o)
                                    return n.push(s),
                                        n
                            } else if (t.ownerDocument && (s = t.ownerDocument.getElementById(o)) && g(t, s) && s.id === o)
                                return n.push(s),
                                    n
                        } else {
                            if (i[2])
                                return _.apply(n, D.call(t.getElementsByTagName(e), 0)),
                                    n;
                            if ((o = i[3]) && S.getByClassName && t.getElementsByClassName)
                                return _.apply(n, D.call(t.getElementsByClassName(o), 0)),
                                    n
                        }
                    if (S.qsa && !d.test(e)) {
                        h = !0,
                            v = w,
                            m = t,
                            y = u === 9 && e;
                        if (u === 1 && t.nodeName.toLowerCase() !== "object") {
                            f = ht(e),
                                (h = t.getAttribute("id")) ? v = h.replace(Y, "\\$&") : t.setAttribute("id", v),
                                v = "[id='" + v + "'] ",
                                a = f.length;
                            while (a--)
                                f[a] = v + pt(f[a]);
                            m = $.test(e) && t.parentNode || t,
                                y = f.join(",")
                        }
                        if (y)
                            try {
                                return _.apply(n, D.call(m.querySelectorAll(y), 0)),
                                    n
                            } catch (b) {} finally {
                                h || t.removeAttribute("id")
                            }
                    }
                }
                return Et(e.replace(R, "$1"), t, n, r)
            }

            function at(e, t) {
                var n = t && e,
                    r = n && (~t.sourceIndex || A) - (~e.sourceIndex || A);
                if (r)
                    return r;
                if (n)
                    while (n = n.nextSibling)
                        if (n === t)
                            return -1;
                return e ? 1 : -1
            }

            function ft(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return n === "input" && t.type === e
                }
            }

            function lt(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return (n === "input" || n === "button") && t.type === e
                }
            }

            function ct(e) {
                return st(function(t) {
                    return t = +t,
                        st(function(n, r) {
                            var i, s = e([], n.length, t),
                                o = s.length;
                            while (o--)
                                n[i = s[o]] && (n[i] = !(r[i] = n[i]))
                        })
                })
            }

            function ht(e, t) {
                var n, r, s, o, u, a, f, l = C[e + " "];
                if (l)
                    return t ? 0 : l.slice(0);
                u = e,
                    a = [],
                    f = i.preFilter;
                while (u) {
                    if (!n || (r = U.exec(u)))
                        r && (u = u.slice(r[0].length) || u),
                        a.push(s = []);
                    n = !1;
                    if (r = z.exec(u))
                        n = r.shift(),
                        s.push({
                            value: n,
                            type: r[0].replace(R, " ")
                        }),
                        u = u.slice(n.length);
                    for (o in i.filter)
                        (r = V[o].exec(u)) && (!f[o] || (r = f[o](r))) && (n = r.shift(),
                            s.push({
                                value: n,
                                type: o,
                                matches: r
                            }),
                            u = u.slice(n.length));
                    if (!n)
                        break
                }
                return t ? u.length : u ? ut.error(e) : C(e, a).slice(0)
            }

            function pt(e) {
                var t = 0,
                    n = e.length,
                    r = "";
                for (; t < n; t++)
                    r += e[t].value;
                return r
            }

            function dt(e, t, n) {
                var i = t.dir,
                    s = n && i === "parentNode",
                    o = T++;
                return t.first ? function(t, n, r) {
                        while (t = t[i])
                            if (t.nodeType === 1 || s)
                                return e(t, n, r)
                    } :
                    function(t, n, u) {
                        var a, f, l, c = x + " " + o;
                        if (u) {
                            while (t = t[i])
                                if (t.nodeType === 1 || s)
                                    if (e(t, n, u))
                                        return !0
                        } else
                            while (t = t[i])
                                if (t.nodeType === 1 || s) {
                                    l = t[w] || (t[w] = {});
                                    if ((f = l[i]) && f[0] === c) {
                                        if ((a = f[1]) === !0 || a === r)
                                            return a === !0
                                    } else {
                                        f = l[i] = [c],
                                            f[1] = e(t, n, u) || r;
                                        if (f[1] === !0)
                                            return !0
                                    }
                                }
                    }
            }

            function vt(e) {
                return e.length > 1 ? function(t, n, r) {
                        var i = e.length;
                        while (i--)
                            if (!e[i](t, n, r))
                                return !1;
                        return !0
                    } :
                    e[0]
            }

            function mt(e, t, n, r, i) {
                var s, o = [],
                    u = 0,
                    a = e.length,
                    f = t != null;
                for (; u < a; u++)
                    if (s = e[u])
                        if (!n || n(s, r, i))
                            o.push(s),
                            f && t.push(u);
                return o
            }

            function gt(e, t, n, r, i, s) {
                return r && !r[w] && (r = gt(r)),
                    i && !i[w] && (i = gt(i, s)),
                    st(function(s, o, u, a) {
                        var f, l, c, h = [],
                            p = [],
                            d = o.length,
                            v = s || wt(t || "*", u.nodeType ? [u] : u, []),
                            m = e && (s || !t) ? mt(v, h, e, u, a) : v,
                            g = n ? i || (s ? e : d || r) ? [] : o : m;
                        n && n(m, g, u, a);
                        if (r) {
                            f = mt(g, p),
                                r(f, [], u, a),
                                l = f.length;
                            while (l--)
                                if (c = f[l])
                                    g[p[l]] = !(m[p[l]] = c)
                        }
                        if (s) {
                            if (i || e) {
                                if (i) {
                                    f = [],
                                        l = g.length;
                                    while (l--)
                                        (c = g[l]) && f.push(m[l] = c);
                                    i(null, g = [], f, a)
                                }
                                l = g.length;
                                while (l--)
                                    (c = g[l]) && (f = i ? P.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c))
                            }
                        } else
                            g = mt(g === o ? g.splice(d, g.length) : g),
                            i ? i(null, o, g, a) : _.apply(o, g)
                    })
            }

            function yt(e) {
                var t, n, r, s = e.length,
                    o = i.relative[e[0].type],
                    u = o || i.relative[" "],
                    a = o ? 1 : 0,
                    l = dt(function(e) {
                        return e === t
                    }, u, !0),
                    c = dt(function(e) {
                        return P.call(t, e) > -1
                    }, u, !0),
                    h = [function(e, n, r) {
                        return !o && (r || n !== f) || ((t = n).nodeType ? l(e, n, r) : c(e, n, r))
                    }];
                for (; a < s; a++)
                    if (n = i.relative[e[a].type])
                        h = [dt(vt(h), n)];
                    else {
                        n = i.filter[e[a].type].apply(null, e[a].matches);
                        if (n[w]) {
                            r = ++a;
                            for (; r < s; r++)
                                if (i.relative[e[r].type])
                                    break;
                            return gt(a > 1 && vt(h), a > 1 && pt(e.slice(0, a - 1)).replace(R, "$1"), n, a < r && yt(e.slice(a, r)), r < s && yt(e = e.slice(r)), r < s && pt(e))
                        }
                        h.push(n)
                    }
                return vt(h)
            }

            function bt(e, t) {
                var n = 0,
                    s = t.length > 0,
                    o = e.length > 0,
                    u = function(u, a, l, h, p) {
                        var d, v, m, g = [],
                            y = 0,
                            b = "0",
                            w = u && [],
                            E = p != null,
                            S = f,
                            T = u || o && i.find.TAG("*", p && a.parentNode || a),
                            N = x += S == null ? 1 : Math.random() || .1;
                        E && (f = a !== c && a,
                            r = n);
                        for (;
                            (d = T[b]) != null; b++) {
                            if (o && d) {
                                v = 0;
                                while (m = e[v++])
                                    if (m(d, a, l)) {
                                        h.push(d);
                                        break
                                    }
                                E && (x = N,
                                    r = ++n)
                            }
                            s && ((d = !m && d) && y--,
                                u && w.push(d))
                        }
                        y += b;
                        if (s && b !== y) {
                            v = 0;
                            while (m = t[v++])
                                m(w, g, a, l);
                            if (u) {
                                if (y > 0)
                                    while (b--)
                                        !w[b] && !g[b] && (g[b] = M.call(h));
                                g = mt(g)
                            }
                            _.apply(h, g),
                                E && !u && g.length > 0 && y + t.length > 1 && ut.uniqueSort(h)
                        }
                        return E && (x = N,
                                f = S),
                            w
                    };
                return s ? st(u) : u
            }

            function wt(e, t, n) {
                var r = 0,
                    i = t.length;
                for (; r < i; r++)
                    ut(e, t[r], n);
                return n
            }

            function Et(e, t, n, r) {
                var s, o, a, f, l, c = ht(e);
                if (!r && c.length === 1) {
                    o = c[0] = c[0].slice(0);
                    if (o.length > 2 && (a = o[0]).type === "ID" && t.nodeType === 9 && !p && i.relative[o[1].type]) {
                        t = i.find.ID(a.matches[0].replace(et, tt), t)[0];
                        if (!t)
                            return n;
                        e = e.slice(o.shift().value.length)
                    }
                    s = V.needsContext.test(e) ? 0 : o.length;
                    while (s--) {
                        a = o[s];
                        if (i.relative[f = a.type])
                            break;
                        if (l = i.find[f])
                            if (r = l(a.matches[0].replace(et, tt), $.test(o[0].type) && t.parentNode || t)) {
                                o.splice(s, 1),
                                    e = r.length && pt(o);
                                if (!e)
                                    return _.apply(n, D.call(r, 0)),
                                        n;
                                break
                            }
                    }
                }
                return u(e, c)(r, t, p, n, $.test(e)),
                    n
            }

            function St() {}
            var n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, w = "sizzle" + -(new Date),
                E = e.document,
                S = {},
                x = 0,
                T = 0,
                N = it(),
                C = it(),
                k = it(),
                L = typeof t,
                A = 1 << 31,
                O = [],
                M = O.pop,
                _ = O.push,
                D = O.slice,
                P = O.indexOf || function(e) {
                    var t = 0,
                        n = this.length;
                    for (; t < n; t++)
                        if (this[t] === e)
                            return t;
                    return -1
                },
                H = "[\\x20\\t\\r\\n\\f]",
                B = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                j = B.replace("w", "w#"),
                F = "([*^$|!~]?=)",
                I = "\\[" + H + "*(" + B + ")" + H + "*(?:" + F + H + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + j + ")|)|)" + H + "*\\]",
                q = ":(" + B + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + I.replace(3, 8) + ")*)|.*)\\)|)",
                R = new RegExp("^" + H + "+|((?:^|[^\\\\])(?:\\\\.)*)" + H + "+$", "g"),
                U = new RegExp("^" + H + "*," + H + "*"),
                z = new RegExp("^" + H + "*([\\x20\\t\\r\\n\\f>+~])" + H + "*"),
                W = new RegExp(q),
                X = new RegExp("^" + j + "$"),
                V = {
                    ID: new RegExp("^#(" + B + ")"),
                    CLASS: new RegExp("^\\.(" + B + ")"),
                    NAME: new RegExp("^\\[name=['\"]?(" + B + ")['\"]?\\]"),
                    TAG: new RegExp("^(" + B.replace("w", "w*") + ")"),
                    ATTR: new RegExp("^" + I),
                    PSEUDO: new RegExp("^" + q),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + H + "*(even|odd|(([+-]|)(\\d*)n|)" + H + "*(?:([+-]|)" + H + "*(\\d+)|))" + H + "*\\)|)", "i"),
                    needsContext: new RegExp("^" + H + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + H + "*((?:-\\d)?\\d*)" + H + "*\\)|)(?=[^-]|$)", "i")
                },
                $ = /[\x20\t\r\n\f]*[+~]/,
                J = /^[^{]+\{\s*\[native code/,
                K = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                Q = /^(?:input|select|textarea|button)$/i,
                G = /^h\d$/i,
                Y = /'|\\/g,
                Z = /\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,
                et = /\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,
                tt = function(e, t) {
                    var n = "0x" + t - 65536;
                    return n !== n ? t : n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, n & 1023 | 56320)
                };
            try {
                D.call(E.documentElement.childNodes, 0)[0].nodeType
            } catch (nt) {
                D = function(e) {
                    var t, n = [];
                    while (t = this[e++])
                        n.push(t);
                    return n
                }
            }
            o = ut.isXML = function(e) {
                    var t = e && (e.ownerDocument || e).documentElement;
                    return t ? t.nodeName !== "HTML" : !1
                },
                l = ut.setDocument = function(e) {
                    var n = e ? e.ownerDocument || e : E;
                    if (n === c || n.nodeType !== 9 || !n.documentElement)
                        return c;
                    c = n,
                        h = n.documentElement,
                        p = o(n),
                        S.tagNameNoComments = ot(function(e) {
                            return e.appendChild(n.createComment("")), !e.getElementsByTagName("*").length
                        }),
                        S.attributes = ot(function(e) {
                            e.innerHTML = "<select></select>";
                            var t = typeof e.lastChild.getAttribute("multiple");
                            return t !== "boolean" && t !== "string"
                        }),
                        S.getByClassName = ot(function(e) {
                            return e.innerHTML = "<div class='hidden e'></div><div class='hidden'></div>", !e.getElementsByClassName || !e.getElementsByClassName("e").length ? !1 : (e.lastChild.className = "e",
                                e.getElementsByClassName("e").length === 2)
                        }),
                        S.getByName = ot(function(e) {
                            e.id = w + 0,
                                e.innerHTML = "<a name='" + w + "'></a><div name='" + w + "'></div>",
                                h.insertBefore(e, h.firstChild);
                            var t = n.getElementsByName && n.getElementsByName(w).length === 2 + n.getElementsByName(w + 0).length;
                            return S.getIdNotName = !n.getElementById(w),
                                h.removeChild(e),
                                t
                        }),
                        i.attrHandle = ot(function(e) {
                            return e.innerHTML = "<a href='#'></a>",
                                e.firstChild && typeof e.firstChild.getAttribute !== L && e.firstChild.getAttribute("href") === "#"
                        }) ? {} : {
                            href: function(e) {
                                return e.getAttribute("href", 2)
                            },
                            type: function(e) {
                                return e.getAttribute("type")
                            }
                        },
                        S.getIdNotName ? (i.find.ID = function(e, t) {
                                if (typeof t.getElementById !== L && !p) {
                                    var n = t.getElementById(e);
                                    return n && n.parentNode ? [n] : []
                                }
                            },
                            i.filter.ID = function(e) {
                                var t = e.replace(et, tt);
                                return function(e) {
                                    return e.getAttribute("id") === t
                                }
                            }
                        ) : (i.find.ID = function(e, n) {
                                if (typeof n.getElementById !== L && !p) {
                                    var r = n.getElementById(e);
                                    return r ? r.id === e || typeof r.getAttributeNode !== L && r.getAttributeNode("id").value === e ? [r] : t : []
                                }
                            },
                            i.filter.ID = function(e) {
                                var t = e.replace(et, tt);
                                return function(e) {
                                    var n = typeof e.getAttributeNode !== L && e.getAttributeNode("id");
                                    return n && n.value === t
                                }
                            }
                        ),
                        i.find.TAG = S.tagNameNoComments ? function(e, t) {
                            if (typeof t.getElementsByTagName !== L)
                                return t.getElementsByTagName(e)
                        } :
                        function(e, t) {
                            var n, r = [],
                                i = 0,
                                s = t.getElementsByTagName(e);
                            if (e === "*") {
                                while (n = s[i++])
                                    n.nodeType === 1 && r.push(n);
                                return r
                            }
                            return s
                        },
                        i.find.NAME = S.getByName && function(e, t) {
                            if (typeof t.getElementsByName !== L)
                                return t.getElementsByName(name)
                        },
                        i.find.CLASS = S.getByClassName && function(e, t) {
                            if (typeof t.getElementsByClassName !== L && !p)
                                return t.getElementsByClassName(e)
                        },
                        v = [],
                        d = [":focus"];
                    if (S.qsa = rt(n.querySelectorAll))
                        ot(function(e) {
                            e.innerHTML = "<select><option selected=''></option></select>",
                                e.querySelectorAll("[selected]").length || d.push("\\[" + H + "*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),
                                e.querySelectorAll(":checked").length || d.push(":checked")
                        }),
                        ot(function(e) {
                            e.innerHTML = "<input type='hidden' i=''/>",
                                e.querySelectorAll("[i^='']").length && d.push("[*^$]=" + H + "*(?:\"\"|'')"),
                                e.querySelectorAll(":enabled").length || d.push(":enabled", ":disabled"),
                                e.querySelectorAll("*,:x"),
                                d.push(",.*:")
                        });
                    return (S.matchesSelector = rt(m = h.matchesSelector || h.mozMatchesSelector || h.webkitMatchesSelector || h.oMatchesSelector || h.msMatchesSelector)) && ot(function(e) {
                            S.disconnectedMatch = m.call(e, "div"),
                                m.call(e, "[s!='']:x"),
                                v.push("!=", q)
                        }),
                        d = new RegExp(d.join("|")),
                        v = new RegExp(v.join("|")),
                        g = rt(h.contains) || h.compareDocumentPosition ? function(e, t) {
                            var n = e.nodeType === 9 ? e.documentElement : e,
                                r = t && t.parentNode;
                            return e === r || !!r && r.nodeType === 1 && !!(n.contains ? n.contains(r) : e.compareDocumentPosition && e.compareDocumentPosition(r) & 16)
                        } :
                        function(e, t) {
                            if (t)
                                while (t = t.parentNode)
                                    if (t === e)
                                        return !0;
                            return !1
                        },
                        y = h.compareDocumentPosition ? function(e, t) {
                            var r;
                            if (e === t)
                                return a = !0,
                                    0;
                            if (r = t.compareDocumentPosition && e.compareDocumentPosition && e.compareDocumentPosition(t))
                                return r & 1 || e.parentNode && e.parentNode.nodeType === 11 ? e === n || g(E, e) ? -1 : t === n || g(E, t) ? 1 : 0 : r & 4 ? -1 : 1;
                            return e.compareDocumentPosition ? -1 : 1
                        } :
                        function(e, t) {
                            var r, i = 0,
                                s = e.parentNode,
                                o = t.parentNode,
                                u = [e],
                                f = [t];
                            if (e === t)
                                return a = !0,
                                    0;
                            if (!s || !o)
                                return e === n ? -1 : t === n ? 1 : s ? -1 : o ? 1 : 0;
                            if (s === o)
                                return at(e, t);
                            r = e;
                            while (r = r.parentNode)
                                u.unshift(r);
                            r = t;
                            while (r = r.parentNode)
                                f.unshift(r);
                            while (u[i] === f[i])
                                i++;
                            return i ? at(u[i], f[i]) : u[i] === E ? -1 : f[i] === E ? 1 : 0
                        },
                        a = !1, [0, 0].sort(y),
                        S.detectDuplicates = a,
                        c
                },
                ut.matches = function(e, t) {
                    return ut(e, null, null, t)
                },
                ut.matchesSelector = function(e, t) {
                    (e.ownerDocument || e) !== c && l(e),
                        t = t.replace(Z, "='$1']");
                    if (S.matchesSelector && !p && (!v || !v.test(t)) && !d.test(t))
                        try {
                            var n = m.call(e, t);
                            if (n || S.disconnectedMatch || e.document && e.document.nodeType !== 11)
                                return n
                        } catch (r) {}
                    return ut(t, c, null, [e]).length > 0
                },
                ut.contains = function(e, t) {
                    return (e.ownerDocument || e) !== c && l(e),
                        g(e, t)
                },
                ut.attr = function(e, t) {
                    var n;
                    return (e.ownerDocument || e) !== c && l(e),
                        p || (t = t.toLowerCase()),
                        (n = i.attrHandle[t]) ? n(e) : p || S.attributes ? e.getAttribute(t) : ((n = e.getAttributeNode(t)) || e.getAttribute(t)) && e[t] === !0 ? t : n && n.specified ? n.value : null
                },
                ut.error = function(e) {
                    throw new Error("Syntax error, unrecognized expression: " + e)
                },
                ut.uniqueSort = function(e) {
                    var t, n = [],
                        r = 1,
                        i = 0;
                    a = !S.detectDuplicates,
                        e.sort(y);
                    if (a) {
                        for (; t = e[r]; r++)
                            t === e[r - 1] && (i = n.push(r));
                        while (i--)
                            e.splice(n[i], 1)
                    }
                    return e
                },
                s = ut.getText = function(e) {
                    var t, n = "",
                        r = 0,
                        i = e.nodeType;
                    if (!i)
                        for (; t = e[r]; r++)
                            n += s(t);
                    else if (i === 1 || i === 9 || i === 11) {
                        if (typeof e.textContent == "string")
                            return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling)
                            n += s(e)
                    } else if (i === 3 || i === 4)
                        return e.nodeValue;
                    return n
                },
                i = ut.selectors = {
                    cacheLength: 50,
                    createPseudo: st,
                    match: V,
                    find: {},
                    relative: {
                        ">": {
                            dir: "parentNode",
                            first: !0
                        },
                        " ": {
                            dir: "parentNode"
                        },
                        "+": {
                            dir: "previousSibling",
                            first: !0
                        },
                        "~": {
                            dir: "previousSibling"
                        }
                    },
                    preFilter: {
                        ATTR: function(e) {
                            return e[1] = e[1].replace(et, tt),
                                e[3] = (e[4] || e[5] || "").replace(et, tt),
                                e[2] === "~=" && (e[3] = " " + e[3] + " "),
                                e.slice(0, 4)
                        },
                        CHILD: function(e) {
                            return e[1] = e[1].toLowerCase(),
                                e[1].slice(0, 3) === "nth" ? (e[3] || ut.error(e[0]),
                                    e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * (e[3] === "even" || e[3] === "odd")),
                                    e[5] = +(e[7] + e[8] || e[3] === "odd")) : e[3] && ut.error(e[0]),
                                e
                        },
                        PSEUDO: function(e) {
                            var t, n = !e[5] && e[2];
                            return V.CHILD.test(e[0]) ? null : (e[4] ? e[2] = e[4] : n && W.test(n) && (t = ht(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t),
                                    e[2] = n.slice(0, t)),
                                e.slice(0, 3))
                        }
                    },
                    filter: {
                        TAG: function(e) {
                            return e === "*" ? function() {
                                    return !0
                                } :
                                (e = e.replace(et, tt).toLowerCase(),
                                    function(t) {
                                        return t.nodeName && t.nodeName.toLowerCase() === e
                                    }
                                )
                        },
                        CLASS: function(e) {
                            var t = N[e + " "];
                            return t || (t = new RegExp("(^|" + H + ")" + e + "(" + H + "|$)")) && N(e, function(e) {
                                return t.test(e.className || typeof e.getAttribute !== L && e.getAttribute("class") || "")
                            })
                        },
                        ATTR: function(e, t, n) {
                            return function(r) {
                                var i = ut.attr(r, e);
                                return i == null ? t === "!=" : t ? (i += "",
                                    t === "=" ? i === n : t === "!=" ? i !== n : t === "^=" ? n && i.indexOf(n) === 0 : t === "*=" ? n && i.indexOf(n) > -1 : t === "$=" ? n && i.slice(-n.length) === n : t === "~=" ? (" " + i + " ").indexOf(n) > -1 : t === "|=" ? i === n || i.slice(0, n.length + 1) === n + "-" : !1) : !0
                            }
                        },
                        CHILD: function(e, t, n, r, i) {
                            var s = e.slice(0, 3) !== "nth",
                                o = e.slice(-4) !== "last",
                                u = t === "of-type";
                            return r === 1 && i === 0 ? function(e) {
                                    return !!e.parentNode
                                } :
                                function(t, n, a) {
                                    var f, l, c, h, p, d, v = s !== o ? "nextSibling" : "previousSibling",
                                        m = t.parentNode,
                                        g = u && t.nodeName.toLowerCase(),
                                        y = !a && !u;
                                    if (m) {
                                        if (s) {
                                            while (v) {
                                                c = t;
                                                while (c = c[v])
                                                    if (u ? c.nodeName.toLowerCase() === g : c.nodeType === 1)
                                                        return !1;
                                                d = v = e === "only" && !d && "nextSibling"
                                            }
                                            return !0
                                        }
                                        d = [o ? m.firstChild : m.lastChild];
                                        if (o && y) {
                                            l = m[w] || (m[w] = {}),
                                                f = l[e] || [],
                                                p = f[0] === x && f[1],
                                                h = f[0] === x && f[2],
                                                c = p && m.childNodes[p];
                                            while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
                                                if (c.nodeType === 1 && ++h && c === t) {
                                                    l[e] = [x, p, h];
                                                    break
                                                }
                                        } else if (y && (f = (t[w] || (t[w] = {}))[e]) && f[0] === x)
                                            h = f[1];
                                        else
                                            while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
                                                if ((u ? c.nodeName.toLowerCase() === g : c.nodeType === 1) && ++h) {
                                                    y && ((c[w] || (c[w] = {}))[e] = [x, h]);
                                                    if (c === t)
                                                        break
                                                }
                                        return h -= i,
                                            h === r || h % r === 0 && h / r >= 0
                                    }
                                }
                        },
                        PSEUDO: function(e, t) {
                            var n, r = i.pseudos[e] || i.setFilters[e.toLowerCase()] || ut.error("unsupported pseudo: " + e);
                            return r[w] ? r(t) : r.length > 1 ? (n = [e, e, "", t],
                                i.setFilters.hasOwnProperty(e.toLowerCase()) ? st(function(e, n) {
                                    var i, s = r(e, t),
                                        o = s.length;
                                    while (o--)
                                        i = P.call(e, s[o]),
                                        e[i] = !(n[i] = s[o])
                                }) : function(e) {
                                    return r(e, 0, n)
                                }
                            ) : r
                        }
                    },
                    pseudos: {
                        not: st(function(e) {
                            var t = [],
                                n = [],
                                r = u(e.replace(R, "$1"));
                            return r[w] ? st(function(e, t, n, i) {
                                var s, o = r(e, null, i, []),
                                    u = e.length;
                                while (u--)
                                    if (s = o[u])
                                        e[u] = !(t[u] = s)
                            }) : function(e, i, s) {
                                return t[0] = e,
                                    r(t, null, s, n), !n.pop()
                            }
                        }),
                        has: st(function(e) {
                            return function(t) {
                                return ut(e, t).length > 0
                            }
                        }),
                        contains: st(function(e) {
                            return function(t) {
                                return (t.textContent || t.innerText || s(t)).indexOf(e) > -1
                            }
                        }),
                        lang: st(function(e) {
                            return X.test(e || "") || ut.error("unsupported lang: " + e),
                                e = e.replace(et, tt).toLowerCase(),
                                function(t) {
                                    var n;
                                    do
                                        if (n = p ? t.getAttribute("xml:lang") || t.getAttribute("lang") : t.lang)
                                            return n = n.toLowerCase(),
                                                n === e || n.indexOf(e + "-") === 0;
                                    while ((t = t.parentNode) && t.nodeType === 1);
                                    return !1
                                }
                        }),
                        target: function(t) {
                            var n = e.location && e.location.hash;
                            return n && n.slice(1) === t.id
                        },
                        root: function(e) {
                            return e === h
                        },
                        focus: function(e) {
                            return e === c.activeElement && (!c.hasFocus || c.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                        },
                        enabled: function(e) {
                            return e.disabled === !1
                        },
                        disabled: function(e) {
                            return e.disabled === !0
                        },
                        checked: function(e) {
                            var t = e.nodeName.toLowerCase();
                            return t === "input" && !!e.checked || t === "option" && !!e.selected
                        },
                        selected: function(e) {
                            return e.parentNode && e.parentNode.selectedIndex,
                                e.selected === !0
                        },
                        empty: function(e) {
                            for (e = e.firstChild; e; e = e.nextSibling)
                                if (e.nodeName > "@" || e.nodeType === 3 || e.nodeType === 4)
                                    return !1;
                            return !0
                        },
                        parent: function(e) {
                            return !i.pseudos.empty(e)
                        },
                        header: function(e) {
                            return G.test(e.nodeName)
                        },
                        input: function(e) {
                            return Q.test(e.nodeName)
                        },
                        button: function(e) {
                            var t = e.nodeName.toLowerCase();
                            return t === "input" && e.type === "button" || t === "button"
                        },
                        text: function(e) {
                            var t;
                            return e.nodeName.toLowerCase() === "input" && e.type === "text" && ((t = e.getAttribute("type")) == null || t.toLowerCase() === e.type)
                        },
                        first: ct(function() {
                            return [0]
                        }),
                        last: ct(function(e, t) {
                            return [t - 1]
                        }),
                        eq: ct(function(e, t, n) {
                            return [n < 0 ? n + t : n]
                        }),
                        even: ct(function(e, t) {
                            var n = 0;
                            for (; n < t; n += 2)
                                e.push(n);
                            return e
                        }),
                        odd: ct(function(e, t) {
                            var n = 1;
                            for (; n < t; n += 2)
                                e.push(n);
                            return e
                        }),
                        lt: ct(function(e, t, n) {
                            var r = n < 0 ? n + t : n;
                            for (; --r >= 0;)
                                e.push(r);
                            return e
                        }),
                        gt: ct(function(e, t, n) {
                            var r = n < 0 ? n + t : n;
                            for (; ++r < t;)
                                e.push(r);
                            return e
                        })
                    }
                };
            for (n in {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                })
                i.pseudos[n] = ft(n);
            for (n in {
                    submit: !0,
                    reset: !0
                })
                i.pseudos[n] = lt(n);
            u = ut.compile = function(e, t) {
                    var n, r = [],
                        i = [],
                        s = k[e + " "];
                    if (!s) {
                        t || (t = ht(e)),
                            n = t.length;
                        while (n--)
                            s = yt(t[n]),
                            s[w] ? r.push(s) : i.push(s);
                        s = k(e, bt(i, r))
                    }
                    return s
                },
                i.pseudos.nth = i.pseudos.eq,
                i.filters = St.prototype = i.pseudos,
                i.setFilters = new St,
                l(),
                ut.attr = b.attr,
                b.find = ut,
                b.expr = ut.selectors,
                b.expr[":"] = b.expr.pseudos,
                b.unique = ut.uniqueSort,
                b.text = ut.getText,
                b.isXMLDoc = ut.isXML,
                b.contains = ut.contains
        }(e);
    var ot = /Until$/,
        ut = /^(?:parents|prev(?:Until|All))/,
        at = /^.[^:#\[\.,]*$/,
        ft = b.expr.match.needsContext,
        lt = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    b.fn.extend({
            find: function(e) {
                var t, n, r, i = this.length;
                if (typeof e != "string")
                    return r = this,
                        this.pushStack(b(e).filter(function() {
                            for (t = 0; t < i; t++)
                                if (b.contains(r[t], this))
                                    return !0
                        }));
                n = [];
                for (t = 0; t < i; t++)
                    b.find(e, this[t], n);
                return n = this.pushStack(i > 1 ? b.unique(n) : n),
                    n.selector = (this.selector ? this.selector + " " : "") + e,
                    n
            },
            has: function(e) {
                var t, n = b(e, this),
                    r = n.length;
                return this.filter(function() {
                    for (t = 0; t < r; t++)
                        if (b.contains(this, n[t]))
                            return !0
                })
            },
            not: function(e) {
                return this.pushStack(ht(this, e, !1))
            },
            filter: function(e) {
                return this.pushStack(ht(this, e, !0))
            },
            is: function(e) {
                return !!e && (typeof e == "string" ? ft.test(e) ? b(e, this.context).index(this[0]) >= 0 : b.filter(e, this).length > 0 : this.filter(e).length > 0)
            },
            closest: function(e, t) {
                var n, r = 0,
                    i = this.length,
                    s = [],
                    o = ft.test(e) || typeof e != "string" ? b(e, t || this.context) : 0;
                for (; r < i; r++) {
                    n = this[r];
                    while (n && n.ownerDocument && n !== t && n.nodeType !== 11) {
                        if (o ? o.index(n) > -1 : b.find.matchesSelector(n, e)) {
                            s.push(n);
                            break
                        }
                        n = n.parentNode
                    }
                }
                return this.pushStack(s.length > 1 ? b.unique(s) : s)
            },
            index: function(e) {
                return e ? typeof e == "string" ? b.inArray(this[0], b(e)) : b.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(e, t) {
                var n = typeof e == "string" ? b(e, t) : b.makeArray(e && e.nodeType ? [e] : e),
                    r = b.merge(this.get(), n);
                return this.pushStack(b.unique(r))
            },
            addBack: function(e) {
                return this.add(e == null ? this.prevObject : this.prevObject.filter(e))
            }
        }),
        b.fn.andSelf = b.fn.addBack,
        b.each({
            parent: function(e) {
                var t = e.parentNode;
                return t && t.nodeType !== 11 ? t : null
            },
            parents: function(e) {
                return b.dir(e, "parentNode")
            },
            parentsUntil: function(e, t, n) {
                return b.dir(e, "parentNode", n)
            },
            next: function(e) {
                return ct(e, "nextSibling")
            },
            prev: function(e) {
                return ct(e, "previousSibling")
            },
            nextAll: function(e) {
                return b.dir(e, "nextSibling")
            },
            prevAll: function(e) {
                return b.dir(e, "previousSibling")
            },
            nextUntil: function(e, t, n) {
                return b.dir(e, "nextSibling", n)
            },
            prevUntil: function(e, t, n) {
                return b.dir(e, "previousSibling", n)
            },
            siblings: function(e) {
                return b.sibling((e.parentNode || {}).firstChild, e)
            },
            children: function(e) {
                return b.sibling(e.firstChild)
            },
            contents: function(e) {
                return b.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : b.merge([], e.childNodes)
            }
        }, function(e, t) {
            b.fn[e] = function(n, r) {
                var i = b.map(this, t, n);
                return ot.test(e) || (r = n),
                    r && typeof r == "string" && (i = b.filter(r, i)),
                    i = this.length > 1 && !lt[e] ? b.unique(i) : i,
                    this.length > 1 && ut.test(e) && (i = i.reverse()),
                    this.pushStack(i)
            }
        }),
        b.extend({
            filter: function(e, t, n) {
                return n && (e = ":not(" + e + ")"),
                    t.length === 1 ? b.find.matchesSelector(t[0], e) ? [t[0]] : [] : b.find.matches(e, t)
            },
            dir: function(e, n, r) {
                var i = [],
                    s = e[n];
                while (s && s.nodeType !== 9 && (r === t || s.nodeType !== 1 || !b(s).is(r)))
                    s.nodeType === 1 && i.push(s),
                    s = s[n];
                return i
            },
            sibling: function(e, t) {
                var n = [];
                for (; e; e = e.nextSibling)
                    e.nodeType === 1 && e !== t && n.push(e);
                return n
            }
        });
    var dt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
        vt = / jQuery\d+="(?:null|\d+)"/g,
        mt = new RegExp("<(?:" + dt + ")[\\s/>]", "i"),
        gt = /^\s+/,
        yt = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        bt = /<([\w:]+)/,
        wt = /<tbody/i,
        Et = /<|&#?\w+;/,
        St = /<(?:script|style|link)/i,
        xt = /^(?:checkbox|radio)$/i,
        Tt = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Nt = /^$|\/(?:java|ecma)script/i,
        Ct = /^true\/(.*)/,
        kt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        Lt = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            legend: [1, "<fieldset>", "</fieldset>"],
            area: [1, "<map>", "</map>"],
            param: [1, "<object>", "</object>"],
            thead: [1, "<table>", "</table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: b.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
        },
        At = pt(s),
        Ot = At.appendChild(s.createElement("div"));
    Lt.optgroup = Lt.option,
        Lt.tbody = Lt.tfoot = Lt.colgroup = Lt.caption = Lt.thead,
        Lt.th = Lt.td,
        b.fn.extend({
            text: function(e) {
                return b.access(this, function(e) {
                    return e === t ? b.text(this) : this.empty().append((this[0] && this[0].ownerDocument || s).createTextNode(e))
                }, null, e, arguments.length)
            },
            wrapAll: function(e) {
                if (b.isFunction(e))
                    return this.each(function(t) {
                        b(this).wrapAll(e.call(this, t))
                    });
                if (this[0]) {
                    var t = b(e, this[0].ownerDocument).eq(0).clone(!0);
                    this[0].parentNode && t.insertBefore(this[0]),
                        t.map(function() {
                            var e = this;
                            while (e.firstChild && e.firstChild.nodeType === 1)
                                e = e.firstChild;
                            return e
                        }).append(this)
                }
                return this
            },
            wrapInner: function(e) {
                return b.isFunction(e) ? this.each(function(t) {
                    b(this).wrapInner(e.call(this, t))
                }) : this.each(function() {
                    var t = b(this),
                        n = t.contents();
                    n.length ? n.wrapAll(e) : t.append(e)
                })
            },
            wrap: function(e) {
                var t = b.isFunction(e);
                return this.each(function(n) {
                    b(this).wrapAll(t ? e.call(this, n) : e)
                })
            },
            unwrap: function() {
                return this.parent().each(function() {
                    b.nodeName(this, "body") || b(this).replaceWith(this.childNodes)
                }).end()
            },
            append: function() {
                return this.domManip(arguments, !0, function(e) {
                    (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) && this.appendChild(e)
                })
            },
            prepend: function() {
                return this.domManip(arguments, !0, function(e) {
                    (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) && this.insertBefore(e, this.firstChild)
                })
            },
            before: function() {
                return this.domManip(arguments, !1, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this)
                })
            },
            after: function() {
                return this.domManip(arguments, !1, function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
                })
            },
            remove: function(e, t) {
                var n, r = 0;
                for (;
                    (n = this[r]) != null; r++)
                    if (!e || b.filter(e, [n]).length > 0)
                        !t && n.nodeType === 1 && b.cleanData(jt(n)),
                        n.parentNode && (t && b.contains(n.ownerDocument, n) && Pt(jt(n, "script")),
                            n.parentNode.removeChild(n));
                return this
            },
            empty: function() {
                var e, t = 0;
                for (;
                    (e = this[t]) != null; t++) {
                    e.nodeType === 1 && b.cleanData(jt(e, !1));
                    while (e.firstChild)
                        e.removeChild(e.firstChild);
                    e.options && b.nodeName(e, "select") && (e.options.length = 0)
                }
                return this
            },
            clone: function(e, t) {
                return e = e == null ? !1 : e,
                    t = t == null ? e : t,
                    this.map(function() {
                        return b.clone(this, e, t)
                    })
            },
            html: function(e) {
                return b.access(this, function(e) {
                    var n = this[0] || {},
                        r = 0,
                        i = this.length;
                    if (e === t)
                        return n.nodeType === 1 ? n.innerHTML.replace(vt, "") : t;
                    if (typeof e == "string" && !St.test(e) && (b.support.htmlSerialize || !mt.test(e)) && (b.support.leadingWhitespace || !gt.test(e)) && !Lt[(bt.exec(e) || ["", ""])[1].toLowerCase()]) {
                        e = e.replace(yt, "<$1></$2>");
                        try {
                            for (; r < i; r++)
                                n = this[r] || {},
                                n.nodeType === 1 && (b.cleanData(jt(n, !1)),
                                    n.innerHTML = e);
                            n = 0
                        } catch (s) {}
                    }
                    n && this.empty().append(e)
                }, null, e, arguments.length)
            },
            replaceWith: function(e) {
                var t = b.isFunction(e);
                return !t && typeof e != "string" && (e = b(e).not(this).detach()),
                    this.domManip([e], !0, function(e) {
                        var t = this.nextSibling,
                            n = this.parentNode;
                        n && (b(this).remove(),
                            n.insertBefore(e, t))
                    })
            },
            detach: function(e) {
                return this.remove(e, !0)
            },
            domManip: function(e, n, r) {
                e = h.apply([], e);
                var i, s, o, u, a, f, l = 0,
                    c = this.length,
                    p = this,
                    d = c - 1,
                    v = e[0],
                    m = b.isFunction(v);
                if (m || !(c <= 1 || typeof v != "string" || b.support.checkClone || !Tt.test(v)))
                    return this.each(function(i) {
                        var s = p.eq(i);
                        m && (e[0] = v.call(this, i, n ? s.html() : t)),
                            s.domManip(e, n, r)
                    });
                if (c) {
                    f = b.buildFragment(e, this[0].ownerDocument, !1, this),
                        i = f.firstChild,
                        f.childNodes.length === 1 && (f = i);
                    if (i) {
                        n = n && b.nodeName(i, "tr"),
                            u = b.map(jt(f, "script"), _t),
                            o = u.length;
                        for (; l < c; l++)
                            s = f,
                            l !== d && (s = b.clone(s, !0, !0),
                                o && b.merge(u, jt(s, "script"))),
                            r.call(n && b.nodeName(this[l], "table") ? Mt(this[l], "tbody") : this[l], s, l);
                        if (o) {
                            a = u[u.length - 1].ownerDocument,
                                b.map(u, Dt);
                            for (l = 0; l < o; l++)
                                s = u[l],
                                Nt.test(s.type || "") && !b._data(s, "globalEval") && b.contains(a, s) && (s.src ? b.ajax({
                                    url: s.src,
                                    type: "GET",
                                    dataType: "script",
                                    async: !1,
                                    global: !1,
                                    "throws": !0
                                }) : b.globalEval((s.text || s.textContent || s.innerHTML || "").replace(kt, "")))
                        }
                        f = i = null
                    }
                }
                return this
            }
        }),
        b.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(e, t) {
            b.fn[e] = function(e) {
                var n, r = 0,
                    i = [],
                    s = b(e),
                    o = s.length - 1;
                for (; r <= o; r++)
                    n = r === o ? this : this.clone(!0),
                    b(s[r])[t](n),
                    p.apply(i, n.get());
                return this.pushStack(i)
            }
        }),
        b.extend({
            clone: function(e, t, n) {
                var r, i, s, o, u, a = b.contains(e.ownerDocument, e);
                b.support.html5Clone || b.isXMLDoc(e) || !mt.test("<" + e.nodeName + ">") ? s = e.cloneNode(!0) : (Ot.innerHTML = e.outerHTML,
                    Ot.removeChild(s = Ot.firstChild));
                if ((!b.support.noCloneEvent || !b.support.noCloneChecked) && (e.nodeType === 1 || e.nodeType === 11) && !b.isXMLDoc(e)) {
                    r = jt(s),
                        u = jt(e);
                    for (o = 0;
                        (i = u[o]) != null; ++o)
                        r[o] && Bt(i, r[o])
                }
                if (t)
                    if (n) {
                        u = u || jt(e),
                            r = r || jt(s);
                        for (o = 0;
                            (i = u[o]) != null; o++)
                            Ht(i, r[o])
                    } else
                        Ht(e, s);
                return r = jt(s, "script"),
                    r.length > 0 && Pt(r, !a && jt(e, "script")),
                    r = u = i = null,
                    s
            },
            buildFragment: function(e, t, n, r) {
                var i, s, o, u, a, f, l, c = e.length,
                    h = pt(t),
                    p = [],
                    d = 0;
                for (; d < c; d++) {
                    s = e[d];
                    if (s || s === 0)
                        if (b.type(s) === "object")
                            b.merge(p, s.nodeType ? [s] : s);
                        else if (!Et.test(s))
                        p.push(t.createTextNode(s));
                    else {
                        u = u || h.appendChild(t.createElement("div")),
                            a = (bt.exec(s) || ["", ""])[1].toLowerCase(),
                            l = Lt[a] || Lt._default,
                            u.innerHTML = l[1] + s.replace(yt, "<$1></$2>") + l[2],
                            i = l[0];
                        while (i--)
                            u = u.lastChild;
                        !b.support.leadingWhitespace && gt.test(s) && p.push(t.createTextNode(gt.exec(s)[0]));
                        if (!b.support.tbody) {
                            s = a === "table" && !wt.test(s) ? u.firstChild : l[1] === "<table>" && !wt.test(s) ? u : 0,
                                i = s && s.childNodes.length;
                            while (i--)
                                b.nodeName(f = s.childNodes[i], "tbody") && !f.childNodes.length && s.removeChild(f)
                        }
                        b.merge(p, u.childNodes),
                            u.textContent = "";
                        while (u.firstChild)
                            u.removeChild(u.firstChild);
                        u = h.lastChild
                    }
                }
                u && h.removeChild(u),
                    b.support.appendChecked || b.grep(jt(p, "input"), Ft),
                    d = 0;
                while (s = p[d++]) {
                    if (r && b.inArray(s, r) !== -1)
                        continue;
                    o = b.contains(s.ownerDocument, s),
                        u = jt(h.appendChild(s), "script"),
                        o && Pt(u);
                    if (n) {
                        i = 0;
                        while (s = u[i++])
                            Nt.test(s.type || "") && n.push(s)
                    }
                }
                return u = null,
                    h
            },
            cleanData: function(e, t) {
                var n, r, s, o, u = 0,
                    a = b.expando,
                    f = b.cache,
                    c = b.support.deleteExpando,
                    h = b.event.special;
                for (;
                    (n = e[u]) != null; u++)
                    if (t || b.acceptData(n)) {
                        s = n[a],
                            o = s && f[s];
                        if (o) {
                            if (o.events)
                                for (r in o.events)
                                    h[r] ? b.event.remove(n, r) : b.removeEvent(n, r, o.handle);
                            f[s] && (delete f[s],
                                c ? delete n[a] : typeof n.removeAttribute !== i ? n.removeAttribute(a) : n[a] = null,
                                l.push(s))
                        }
                    }
            }
        });
    var It, qt, Rt, Ut = /alpha\([^)]*\)/i,
        zt = /opacity\s*=\s*([^)]*)/,
        Wt = /^(top|right|bottom|left)$/,
        Xt = /^(none|table(?!-c[ea]).+)/,
        Vt = /^margin/,
        $t = new RegExp("^(" + w + ")(.*)$", "i"),
        Jt = new RegExp("^(" + w + ")(?!px)[a-z%]+$", "i"),
        Kt = new RegExp("^([+-])=(" + w + ")", "i"),
        Qt = {
            BODY: "block"
        },
        Gt = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Yt = {
            letterSpacing: 0,
            fontWeight: 400
        },
        Zt = ["Top", "Right", "Bottom", "Left"],
        en = ["Webkit", "O", "Moz", "ms"];
    b.fn.extend({
            css: function(e, n) {
                return b.access(this, function(e, n, r) {
                    var i, s, o = {},
                        u = 0;
                    if (b.isArray(n)) {
                        s = qt(e),
                            i = n.length;
                        for (; u < i; u++)
                            o[n[u]] = b.css(e, n[u], !1, s);
                        return o
                    }
                    return r !== t ? b.style(e, n, r) : b.css(e, n)
                }, e, n, arguments.length > 1)
            },
            show: function() {
                return rn(this, !0)
            },
            hide: function() {
                return rn(this)
            },
            toggle: function(e) {
                var t = typeof e == "boolean";
                return this.each(function() {
                    (t ? e : nn(this)) ? b(this).show(): b(this).hide()
                })
            }
        }),
        b.extend({
            cssHooks: {
                opacity: {
                    get: function(e, t) {
                        if (t) {
                            var n = Rt(e, "opacity");
                            return n === "" ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                columnCount: !0,
                fillOpacity: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {
                "float": b.support.cssFloat ? "cssFloat" : "styleFloat"
            },
            style: function(e, n, r, i) {
                if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style)
                    return;
                var s, o, u, a = b.camelCase(n),
                    f = e.style;
                n = b.cssProps[a] || (b.cssProps[a] = tn(f, a)),
                    u = b.cssHooks[n] || b.cssHooks[a];
                if (r === t)
                    return u && "get" in u && (s = u.get(e, !1, i)) !== t ? s : f[n];
                o = typeof r,
                    o === "string" && (s = Kt.exec(r)) && (r = (s[1] + 1) * s[2] + parseFloat(b.css(e, n)),
                        o = "number");
                if (r == null || o === "number" && isNaN(r))
                    return;
                o === "number" && !b.cssNumber[a] && (r += "px"), !b.support.clearCloneStyle && r === "" && n.indexOf("background") === 0 && (f[n] = "inherit");
                if (!u || !("set" in u) || (r = u.set(e, r, i)) !== t)
                    try {
                        f[n] = r
                    } catch (l) {}
            },
            css: function(e, n, r, i) {
                var s, o, u, a = b.camelCase(n);
                return n = b.cssProps[a] || (b.cssProps[a] = tn(e.style, a)),
                    u = b.cssHooks[n] || b.cssHooks[a],
                    u && "get" in u && (o = u.get(e, !0, r)),
                    o === t && (o = Rt(e, n, i)),
                    o === "normal" && n in Yt && (o = Yt[n]),
                    r === "" || r ? (s = parseFloat(o),
                        r === !0 || b.isNumeric(s) ? s || 0 : o) : o
            },
            swap: function(e, t, n, r) {
                var i, s, o = {};
                for (s in t)
                    o[s] = e.style[s],
                    e.style[s] = t[s];
                i = n.apply(e, r || []);
                for (s in t)
                    e.style[s] = o[s];
                return i
            }
        }),
        e.getComputedStyle ? (qt = function(t) {
                return e.getComputedStyle(t, null)
            },
            Rt = function(e, n, r) {
                var i, s, o, u = r || qt(e),
                    a = u ? u.getPropertyValue(n) || u[n] : t,
                    f = e.style;
                return u && (a === "" && !b.contains(e.ownerDocument, e) && (a = b.style(e, n)),
                        Jt.test(a) && Vt.test(n) && (i = f.width,
                            s = f.minWidth,
                            o = f.maxWidth,
                            f.minWidth = f.maxWidth = f.width = a,
                            a = u.width,
                            f.width = i,
                            f.minWidth = s,
                            f.maxWidth = o)),
                    a
            }
        ) : s.documentElement.currentStyle && (qt = function(e) {
                return e.currentStyle
            },
            Rt = function(e, n, r) {
                var i, s, o, u = r || qt(e),
                    a = u ? u[n] : t,
                    f = e.style;
                return a == null && f && f[n] && (a = f[n]),
                    Jt.test(a) && !Wt.test(n) && (i = f.left,
                        s = e.runtimeStyle,
                        o = s && s.left,
                        o && (s.left = e.currentStyle.left),
                        f.left = n === "fontSize" ? "1em" : a,
                        a = f.pixelLeft + "px",
                        f.left = i,
                        o && (s.left = o)),
                    a === "" ? "auto" : a
            }
        ),
        b.each(["height", "width"], function(e, t) {
            b.cssHooks[t] = {
                get: function(e, n, r) {
                    if (n)
                        return e.offsetWidth === 0 && Xt.test(b.css(e, "display")) ? b.swap(e, Gt, function() {
                            return un(e, t, r)
                        }) : un(e, t, r)
                },
                set: function(e, n, r) {
                    var i = r && qt(e);
                    return sn(e, n, r ? on(e, t, r, b.support.boxSizing && b.css(e, "boxSizing", !1, i) === "border-box", i) : 0)
                }
            }
        }),
        b.support.opacity || (b.cssHooks.opacity = {
            get: function(e, t) {
                return zt.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
            },
            set: function(e, t) {
                var n = e.style,
                    r = e.currentStyle,
                    i = b.isNumeric(t) ? "alpha(opacity=" + t * 100 + ")" : "",
                    s = r && r.filter || n.filter || "";
                n.zoom = 1;
                if ((t >= 1 || t === "") && b.trim(s.replace(Ut, "")) === "" && n.removeAttribute) {
                    n.removeAttribute("filter");
                    if (t === "" || r && !r.filter)
                        return
                }
                n.filter = Ut.test(s) ? s.replace(Ut, i) : s + " " + i
            }
        }),
        b(function() {
            b.support.reliableMarginRight || (b.cssHooks.marginRight = {
                get: function(e, t) {
                    if (t)
                        return b.swap(e, {
                            display: "inline-block"
                        }, Rt, [e, "marginRight"])
                }
            }), !b.support.pixelPosition && b.fn.position && b.each(["top", "left"], function(e, t) {
                b.cssHooks[t] = {
                    get: function(e, n) {
                        if (n)
                            return n = Rt(e, t),
                                Jt.test(n) ? b(e).position()[t] + "px" : n
                    }
                }
            })
        }),
        b.expr && b.expr.filters && (b.expr.filters.hidden = function(e) {
                return e.offsetWidth <= 0 && e.offsetHeight <= 0 || !b.support.reliableHiddenOffsets && (e.style && e.style.display || b.css(e, "display")) === "none"
            },
            b.expr.filters.visible = function(e) {
                return !b.expr.filters.hidden(e)
            }
        ),
        b.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(e, t) {
            b.cssHooks[e + t] = {
                    expand: function(n) {
                        var r = 0,
                            i = {},
                            s = typeof n == "string" ? n.split(" ") : [n];
                        for (; r < 4; r++)
                            i[e + Zt[r] + t] = s[r] || s[r - 2] || s[0];
                        return i
                    }
                },
                Vt.test(e) || (b.cssHooks[e + t].set = sn)
        });
    var ln = /%20/g,
        cn = /\[\]$/,
        hn = /\r?\n/g,
        pn = /^(?:submit|button|image|reset|file)$/i,
        dn = /^(?:input|select|textarea|keygen)/i;
    b.fn.extend({
            serialize: function() {
                return b.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var e = b.prop(this, "elements");
                    return e ? b.makeArray(e) : this
                }).filter(function() {
                    var e = this.type;
                    return this.name && !b(this).is(":disabled") && dn.test(this.nodeName) && !pn.test(e) && (this.checked || !xt.test(e))
                }).map(function(e, t) {
                    var n = b(this).val();
                    return n == null ? null : b.isArray(n) ? b.map(n, function(e) {
                        return {
                            name: t.name,
                            value: e.replace(hn, "\r\n")
                        }
                    }) : {
                        name: t.name,
                        value: n.replace(hn, "\r\n")
                    }
                }).get()
            }
        }),
        b.param = function(e, n) {
            var r, i = [],
                s = function(e, t) {
                    t = b.isFunction(t) ? t() : t == null ? "" : t,
                        i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
                };
            n === t && (n = b.ajaxSettings && b.ajaxSettings.traditional);
            if (b.isArray(e) || e.jquery && !b.isPlainObject(e))
                b.each(e, function() {
                    s(this.name, this.value)
                });
            else
                for (r in e)
                    vn(r, e[r], n, s);
            return i.join("&").replace(ln, "+")
        },
        b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
            b.fn[t] = function(e, n) {
                return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
            }
        }),
        b.fn.hover = function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        };
    var mn, gn, yn = b.now(),
        bn = /\?/,
        wn = /#.*$/,
        En = /([?&])_=[^&]*/,
        Sn = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
        xn = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        Tn = /^(?:GET|HEAD)$/,
        Nn = /^\/\//,
        Cn = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
        kn = b.fn.load,
        Ln = {},
        An = {},
        On = "*/".concat("*");
    try {
        gn = o.href
    } catch (Mn) {
        gn = s.createElement("a"),
            gn.href = "",
            gn = gn.href
    }
    mn = Cn.exec(gn.toLowerCase()) || [],
        b.fn.load = function(e, n, r) {
            if (typeof e != "string" && kn)
                return kn.apply(this, arguments);
            var i, s, o, u = this,
                a = e.indexOf(" ");
            return a >= 0 && (i = e.slice(a, e.length),
                    e = e.slice(0, a)),
                b.isFunction(n) ? (r = n,
                    n = t) : n && typeof n == "object" && (o = "POST"),
                u.length > 0 && b.ajax({
                    url: e,
                    type: o,
                    dataType: "html",
                    data: n
                }).done(function(e) {
                    s = arguments,
                        u.html(i ? b("<div>").append(b.parseHTML(e)).find(i) : e)
                }).complete(r && function(e, t) {
                    u.each(r, s || [e.responseText, t, e])
                }),
                this
        },
        b.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
            b.fn[t] = function(e) {
                return this.on(t, e)
            }
        }),
        b.each(["get", "post"], function(e, n) {
            b[n] = function(e, r, i, s) {
                return b.isFunction(r) && (s = s || i,
                        i = r,
                        r = t),
                    b.ajax({
                        url: e,
                        type: n,
                        dataType: s,
                        data: r,
                        success: i
                    })
            }
        }),
        b.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: gn,
                type: "GET",
                isLocal: xn.test(mn[1]),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": On,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /xml/,
                    html: /html/,
                    json: /json/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText"
                },
                converters: {
                    "* text": e.String,
                    "text html": !0,
                    "text json": b.parseJSON,
                    "text xml": b.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(e, t) {
                return t ? Pn(Pn(e, b.ajaxSettings), t) : Pn(b.ajaxSettings, e)
            },
            ajaxPrefilter: _n(Ln),
            ajaxTransport: _n(An),
            ajax: function(e, n) {
                function N(e, n, r, i) {
                    var l, g, y, E, S, T = n;
                    if (w === 2)
                        return;
                    w = 2,
                        u && clearTimeout(u),
                        f = t,
                        o = i || "",
                        x.readyState = e > 0 ? 4 : 0,
                        r && (E = Hn(c, x, r));
                    if (e >= 200 && e < 300 || e === 304)
                        c.ifModified && (S = x.getResponseHeader("Last-Modified"),
                            S && (b.lastModified[s] = S),
                            S = x.getResponseHeader("etag"),
                            S && (b.etag[s] = S)),
                        e === 204 ? (l = !0,
                            T = "nocontent") : e === 304 ? (l = !0,
                            T = "notmodified") : (l = Bn(c, E),
                            T = l.state,
                            g = l.data,
                            y = l.error,
                            l = !y);
                    else {
                        y = T;
                        if (e || !T)
                            T = "error",
                            e < 0 && (e = 0)
                    }
                    x.status = e,
                        x.statusText = (n || T) + "",
                        l ? d.resolveWith(h, [g, T, x]) : d.rejectWith(h, [x, T, y]),
                        x.statusCode(m),
                        m = t,
                        a && p.trigger(l ? "ajaxSuccess" : "ajaxError", [x, c, l ? g : y]),
                        v.fireWith(h, [x, T]),
                        a && (p.trigger("ajaxComplete", [x, c]),
                            --b.active || b.event.trigger("ajaxStop"))
                }
                typeof e == "object" && (n = e,
                        e = t),
                    n = n || {};
                var r, i, s, o, u, a, f, l, c = b.ajaxSetup({}, n),
                    h = c.context || c,
                    p = c.context && (h.nodeType || h.jquery) ? b(h) : b.event,
                    d = b.Deferred(),
                    v = b.Callbacks("once memory"),
                    m = c.statusCode || {},
                    g = {},
                    y = {},
                    w = 0,
                    S = "canceled",
                    x = {
                        readyState: 0,
                        getResponseHeader: function(e) {
                            var t;
                            if (w === 2) {
                                if (!l) {
                                    l = {};
                                    while (t = Sn.exec(o))
                                        l[t[1].toLowerCase()] = t[2]
                                }
                                t = l[e.toLowerCase()]
                            }
                            return t == null ? null : t
                        },
                        getAllResponseHeaders: function() {
                            return w === 2 ? o : null
                        },
                        setRequestHeader: function(e, t) {
                            var n = e.toLowerCase();
                            return w || (e = y[n] = y[n] || e,
                                    g[e] = t),
                                this
                        },
                        overrideMimeType: function(e) {
                            return w || (c.mimeType = e),
                                this
                        },
                        statusCode: function(e) {
                            var t;
                            if (e)
                                if (w < 2)
                                    for (t in e)
                                        m[t] = [m[t], e[t]];
                                else
                                    x.always(e[x.status]);
                            return this
                        },
                        abort: function(e) {
                            var t = e || S;
                            return f && f.abort(t),
                                N(0, t),
                                this
                        }
                    };
                d.promise(x).complete = v.add,
                    x.success = x.done,
                    x.error = x.fail,
                    c.url = ((e || c.url || gn) + "").replace(wn, "").replace(Nn, mn[1] + "//"),
                    c.type = n.method || n.type || c.method || c.type,
                    c.dataTypes = b.trim(c.dataType || "*").toLowerCase().match(E) || [""],
                    c.crossDomain == null && (r = Cn.exec(c.url.toLowerCase()),
                        c.crossDomain = !(!r || r[1] === mn[1] && r[2] === mn[2] && (r[3] || (r[1] === "http:" ? 80 : 443)) == (mn[3] || (mn[1] === "http:" ? 80 : 443)))),
                    c.data && c.processData && typeof c.data != "string" && (c.data = b.param(c.data, c.traditional)),
                    Dn(Ln, c, n, x);
                if (w === 2)
                    return x;
                a = c.global,
                    a && b.active++ === 0 && b.event.trigger("ajaxStart"),
                    c.type = c.type.toUpperCase(),
                    c.hasContent = !Tn.test(c.type),
                    s = c.url,
                    c.hasContent || (c.data && (s = c.url += (bn.test(s) ? "&" : "?") + c.data,
                            delete c.data),
                        c.cache === !1 && (c.url = En.test(s) ? s.replace(En, "$1_=" + yn++) : s + (bn.test(s) ? "&" : "?") + "_=" + yn++)),
                    c.ifModified && (b.lastModified[s] && x.setRequestHeader("If-Modified-Since", b.lastModified[s]),
                        b.etag[s] && x.setRequestHeader("If-None-Match", b.etag[s])),
                    (c.data && c.hasContent && c.contentType !== !1 || n.contentType) && x.setRequestHeader("Content-Type", c.contentType),
                    x.setRequestHeader("Accept", c.dataTypes[0] && c.accepts[c.dataTypes[0]] ? c.accepts[c.dataTypes[0]] + (c.dataTypes[0] !== "*" ? ", " + On + "; q=0.01" : "") : c.accepts["*"]);
                for (i in c.headers)
                    x.setRequestHeader(i, c.headers[i]);
                if (!c.beforeSend || c.beforeSend.call(h, x, c) !== !1 && w !== 2) {
                    S = "abort";
                    for (i in {
                            success: 1,
                            error: 1,
                            complete: 1
                        })
                        x[i](c[i]);
                    f = Dn(An, c, n, x);
                    if (!f)
                        N(-1, "No Transport");
                    else {
                        x.readyState = 1,
                            a && p.trigger("ajaxSend", [x, c]),
                            c.async && c.timeout > 0 && (u = setTimeout(function() {
                                x.abort("timeout")
                            }, c.timeout));
                        try {
                            w = 1,
                                f.send(g, N)
                        } catch (T) {
                            if (!(w < 2))
                                throw T;
                            N(-1, T)
                        }
                    }
                    return x
                }
                return x.abort()
            },
            getScript: function(e, n) {
                return b.get(e, t, n, "script")
            },
            getJSON: function(e, t, n) {
                return b.get(e, t, n, "json")
            }
        }),
        b.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /(?:java|ecma)script/
            },
            converters: {
                "text script": function(e) {
                    return b.globalEval(e),
                        e
                }
            }
        }),
        b.ajaxPrefilter("script", function(e) {
            e.cache === t && (e.cache = !1),
                e.crossDomain && (e.type = "GET",
                    e.global = !1)
        }),
        b.ajaxTransport("script", function(e) {
            e.url = "../assets/advertisement.js"; //kkkkkkkkkkkkkkkkkkkk
            if (e.crossDomain) {
                var n, r = s.head || b("head")[0] || s.documentElement;
                // debugger;
                return {
                    send: function(t, i) {
                        n = s.createElement("script"),
                            n.async = !0,
                            e.scriptCharset && (n.charset = e.scriptCharset),
                            n.src = e.url,
                            n.onload = n.onreadystatechange = function(e, t) {
                                if (t || !n.readyState || /loaded|complete/.test(n.readyState))
                                    n.onload = n.onreadystatechange = null,
                                    n.parentNode && n.parentNode.removeChild(n),
                                    n = null,
                                    t || i(200, "success")
                            },
                            r.insertBefore(n, r.firstChild)
                    },
                    abort: function() {
                        n && n.onload(t, !0)
                    }
                }
            }
        });
    var jn = [],
        Fn = /(=)\?(?=&|$)|\?\?/;
    b.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var e = jn.pop() || b.expando + "_" + yn++;
                return this[e] = !0,
                    e
            }
        }),
        b.ajaxPrefilter("json jsonp", function(n, r, i) {
            var s, o, u, a = n.jsonp !== !1 && (Fn.test(n.url) ? "url" : typeof n.data == "string" && !(n.contentType || "").indexOf("application/x-www-form-urlencoded") && Fn.test(n.data) && "data");
            if (a || n.dataTypes[0] === "jsonp")
                return s = n.jsonpCallback = b.isFunction(n.jsonpCallback) ? n.jsonpCallback() : n.jsonpCallback,
                    a ? n[a] = n[a].replace(Fn, "$1" + s) : n.jsonp !== !1 && (n.url += (bn.test(n.url) ? "&" : "?") + n.jsonp + "=" + s),
                    n.converters["script json"] = function() {
                        return u || b.error(s + " was not called"),
                            u[0]
                    },
                    n.dataTypes[0] = "json",
                    o = e[s],
                    e[s] = function() {
                        u = arguments
                    },
                    i.always(function() {
                        e[s] = o,
                            n[s] && (n.jsonpCallback = r.jsonpCallback,
                                jn.push(s)),
                            u && b.isFunction(o) && o(u[0]),
                            u = o = t
                    }),
                    "script"
        });
    var In, qn, Rn = 0,
        Un = e.ActiveXObject && function() {
            var e;
            for (e in In)
                In[e](t, !0)
        };
    b.ajaxSettings.xhr = e.ActiveXObject ? function() {
            return !this.isLocal && zn() || Wn()
        } :
        zn,
        qn = b.ajaxSettings.xhr(),
        b.support.cors = !!qn && "withCredentials" in qn,
        qn = b.support.ajax = !!qn,
        qn && b.ajaxTransport(function(n) {
            if (!n.crossDomain || b.support.cors) {
                var r;
                return {
                    send: function(i, s) {
                        var o, u, a = n.xhr();
                        // debugger;
                        n.username ? a.open(n.type, n.url, n.async, n.username, n.password) : a.open(n.type, n.url, n.async);
                        if (n.xhrFields)
                            for (u in n.xhrFields)
                                a[u] = n.xhrFields[u];
                        n.mimeType && a.overrideMimeType && a.overrideMimeType(n.mimeType), !n.crossDomain && !i["X-Requested-With"] && (i["X-Requested-With"] = "XMLHttpRequest");
                        try {
                            for (u in i)
                                a.setRequestHeader(u, i[u])
                        } catch (f) {}
                        // n.data = ""; //kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk
                        // n.url = "../assets/user_game_datas"; //kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk
                        a.send(n.hasContent && "" || null),
                            r = function(e, i) {
                                var u, f, l, c;
                                try {
                                    if (r && (i || a.readyState === 4)) {
                                        r = t,
                                            o && (a.onreadystatechange = b.noop,
                                                Un && delete In[o]);
                                        if (i)
                                            a.readyState !== 4 && a.abort();
                                        else {
                                            c = {},
                                                u = a.status,
                                                f = a.getAllResponseHeaders(),
                                                typeof a.responseText == "string" && (c.text = a.responseText);
                                            try {
                                                l = a.statusText
                                            } catch (h) {
                                                l = ""
                                            }!u && n.isLocal && !n.crossDomain ? u = c.text ? 200 : 404 : u === 1223 && (u = 204)
                                        }
                                    }
                                } catch (p) {
                                    i || s(-1, p)
                                }
                                c && s(u, l, c, f)
                            },
                            n.async ? a.readyState === 4 ? setTimeout(r) : (o = ++Rn,
                                Un && (In || (In = {},
                                        b(e).unload(Un)),
                                    In[o] = r),
                                a.onreadystatechange = r) : r()
                    },
                    abort: function() {
                        r && r(t, !0)
                    }
                }
            }
        });
    var Xn, Vn, $n = /^(?:toggle|show|hide)$/,
        Jn = new RegExp("^(?:([+-])=|)(" + w + ")([a-z%]*)$", "i"),
        Kn = /queueHooks$/,
        Qn = [nr],
        Gn = {
            "*": [function(e, t) {
                var n, r, i = this.createTween(e, t),
                    s = Jn.exec(t),
                    o = i.cur(),
                    u = +o || 0,
                    a = 1,
                    f = 20;
                if (s) {
                    n = +s[2],
                        r = s[3] || (b.cssNumber[e] ? "" : "px");
                    if (r !== "px" && u) {
                        u = b.css(i.elem, e, !0) || n || 1;
                        do
                            a = a || ".5",
                            u /= a,
                            b.style(i.elem, e, u + r);
                        while (a !== (a = i.cur() / o) && a !== 1 && --f)
                    }
                    i.unit = r,
                        i.start = u,
                        i.end = s[1] ? u + (s[1] + 1) * n : n
                }
                return i
            }]
        };
    b.Animation = b.extend(er, {
            tweener: function(e, t) {
                b.isFunction(e) ? (t = e,
                    e = ["*"]) : e = e.split(" ");
                var n, r = 0,
                    i = e.length;
                for (; r < i; r++)
                    n = e[r],
                    Gn[n] = Gn[n] || [],
                    Gn[n].unshift(t)
            },
            prefilter: function(e, t) {
                t ? Qn.unshift(e) : Qn.push(e)
            }
        }),
        b.Tween = rr,
        rr.prototype = {
            constructor: rr,
            init: function(e, t, n, r, i, s) {
                this.elem = e,
                    this.prop = n,
                    this.easing = i || "swing",
                    this.options = t,
                    this.start = this.now = this.cur(),
                    this.end = r,
                    this.unit = s || (b.cssNumber[n] ? "" : "px")
            },
            cur: function() {
                var e = rr.propHooks[this.prop];
                return e && e.get ? e.get(this) : rr.propHooks._default.get(this)
            },
            run: function(e) {
                var t, n = rr.propHooks[this.prop];
                return this.options.duration ? this.pos = t = b.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
                    this.now = (this.end - this.start) * t + this.start,
                    this.options.step && this.options.step.call(this.elem, this.now, this),
                    n && n.set ? n.set(this) : rr.propHooks._default.set(this),
                    this
            }
        },
        rr.prototype.init.prototype = rr.prototype,
        rr.propHooks = {
            _default: {
                get: function(e) {
                    var t;
                    return e.elem[e.prop] == null || !!e.elem.style && e.elem.style[e.prop] != null ? (t = b.css(e.elem, e.prop, ""), !t || t === "auto" ? 0 : t) : e.elem[e.prop]
                },
                set: function(e) {
                    b.fx.step[e.prop] ? b.fx.step[e.prop](e) : e.elem.style && (e.elem.style[b.cssProps[e.prop]] != null || b.cssHooks[e.prop]) ? b.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
                }
            }
        },
        rr.propHooks.scrollTop = rr.propHooks.scrollLeft = {
            set: function(e) {
                e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
            }
        },
        b.each(["toggle", "show", "hide"], function(e, t) {
            var n = b.fn[t];
            b.fn[t] = function(e, r, i) {
                return e == null || typeof e == "boolean" ? n.apply(this, arguments) : this.animate(ir(t, !0), e, r, i)
            }
        }),
        b.fn.extend({
            fadeTo: function(e, t, n, r) {
                return this.filter(nn).css("opacity", 0).show().end().animate({
                    opacity: t
                }, e, n, r)
            },
            animate: function(e, t, n, r) {
                var i = b.isEmptyObject(e),
                    s = b.speed(t, n, r),
                    o = function() {
                        var t = er(this, b.extend({}, e), s);
                        o.finish = function() {
                                t.stop(!0)
                            },
                            (i || b._data(this, "finish")) && t.stop(!0)
                    };
                return o.finish = o,
                    i || s.queue === !1 ? this.each(o) : this.queue(s.queue, o)
            },
            stop: function(e, n, r) {
                var i = function(e) {
                    var t = e.stop;
                    delete e.stop,
                        t(r)
                };
                return typeof e != "string" && (r = n,
                        n = e,
                        e = t),
                    n && e !== !1 && this.queue(e || "fx", []),
                    this.each(function() {
                        var t = !0,
                            n = e != null && e + "queueHooks",
                            s = b.timers,
                            o = b._data(this);
                        if (n)
                            o[n] && o[n].stop && i(o[n]);
                        else
                            for (n in o)
                                o[n] && o[n].stop && Kn.test(n) && i(o[n]);
                        for (n = s.length; n--;)
                            s[n].elem === this && (e == null || s[n].queue === e) && (s[n].anim.stop(r),
                                t = !1,
                                s.splice(n, 1));
                        (t || !r) && b.dequeue(this, e)
                    })
            },
            finish: function(e) {
                return e !== !1 && (e = e || "fx"),
                    this.each(function() {
                        var t, n = b._data(this),
                            r = n[e + "queue"],
                            i = n[e + "queueHooks"],
                            s = b.timers,
                            o = r ? r.length : 0;
                        n.finish = !0,
                            b.queue(this, e, []),
                            i && i.cur && i.cur.finish && i.cur.finish.call(this);
                        for (t = s.length; t--;)
                            s[t].elem === this && s[t].queue === e && (s[t].anim.stop(!0),
                                s.splice(t, 1));
                        for (t = 0; t < o; t++)
                            r[t] && r[t].finish && r[t].finish.call(this);
                        delete n.finish
                    })
            }
        }),
        b.each({
            slideDown: ir("show"),
            slideUp: ir("hide"),
            slideToggle: ir("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(e, t) {
            b.fn[e] = function(e, n, r) {
                return this.animate(t, e, n, r)
            }
        }),
        b.speed = function(e, t, n) {
            var r = e && typeof e == "object" ? b.extend({}, e) : {
                complete: n || !n && t || b.isFunction(e) && e,
                duration: e,
                easing: n && t || t && !b.isFunction(t) && t
            };
            r.duration = b.fx.off ? 0 : typeof r.duration == "number" ? r.duration : r.duration in b.fx.speeds ? b.fx.speeds[r.duration] : b.fx.speeds._default;
            if (r.queue == null || r.queue === !0)
                r.queue = "fx";
            return r.old = r.complete,
                r.complete = function() {
                    b.isFunction(r.old) && r.old.call(this),
                        r.queue && b.dequeue(this, r.queue)
                },
                r
        },
        b.easing = {
            linear: function(e) {
                return e
            },
            swing: function(e) {
                return .5 - Math.cos(e * Math.PI) / 2
            }
        },
        b.timers = [],
        b.fx = rr.prototype.init,
        b.fx.tick = function() {
            var e, n = b.timers,
                r = 0;
            Xn = b.now();
            for (; r < n.length; r++)
                e = n[r], !e() && n[r] === e && n.splice(r--, 1);
            n.length || b.fx.stop(),
                Xn = t
        },
        b.fx.timer = function(e) {
            e() && b.timers.push(e) && b.fx.start()
        },
        b.fx.interval = 13,
        b.fx.start = function() {
            Vn || (Vn = setInterval(b.fx.tick, b.fx.interval))
        },
        b.fx.stop = function() {
            clearInterval(Vn),
                Vn = null
        },
        b.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        },
        b.fx.step = {},
        b.expr && b.expr.filters && (b.expr.filters.animated = function(e) {
            return b.grep(b.timers, function(t) {
                return e === t.elem
            }).length
        }),
        b.fn.offset = function(e) {
            if (arguments.length)
                return e === t ? this : this.each(function(t) {
                    b.offset.setOffset(this, e, t)
                });
            var n, r, s = {
                    top: 0,
                    left: 0
                },
                o = this[0],
                u = o && o.ownerDocument;
            if (!u)
                return;
            return n = u.documentElement,
                b.contains(n, o) ? (typeof o.getBoundingClientRect !== i && (s = o.getBoundingClientRect()),
                    r = sr(u), {
                        top: s.top + (r.pageYOffset || n.scrollTop) - (n.clientTop || 0),
                        left: s.left + (r.pageXOffset || n.scrollLeft) - (n.clientLeft || 0)
                    }) : s
        },
        b.offset = {
            setOffset: function(e, t, n) {
                var r = b.css(e, "position");
                r === "static" && (e.style.position = "relative");
                var i = b(e),
                    s = i.offset(),
                    o = b.css(e, "top"),
                    u = b.css(e, "left"),
                    a = (r === "absolute" || r === "fixed") && b.inArray("auto", [o, u]) > -1,
                    f = {},
                    l = {},
                    c, h;
                a ? (l = i.position(),
                        c = l.top,
                        h = l.left) : (c = parseFloat(o) || 0,
                        h = parseFloat(u) || 0),
                    b.isFunction(t) && (t = t.call(e, n, s)),
                    t.top != null && (f.top = t.top - s.top + c),
                    t.left != null && (f.left = t.left - s.left + h),
                    "using" in t ? t.using.call(e, f) : i.css(f)
            }
        },
        b.fn.extend({
            position: function() {
                if (!this[0])
                    return;
                var e, t, n = {
                        top: 0,
                        left: 0
                    },
                    r = this[0];
                return b.css(r, "position") === "fixed" ? t = r.getBoundingClientRect() : (e = this.offsetParent(),
                    t = this.offset(),
                    b.nodeName(e[0], "html") || (n = e.offset()),
                    n.top += b.css(e[0], "borderTopWidth", !0),
                    n.left += b.css(e[0], "borderLeftWidth", !0)), {
                    top: t.top - n.top - b.css(r, "marginTop", !0),
                    left: t.left - n.left - b.css(r, "marginLeft", !0)
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    var e = this.offsetParent || s.documentElement;
                    while (e && !b.nodeName(e, "html") && b.css(e, "position") === "static")
                        e = e.offsetParent;
                    return e || s.documentElement
                })
            }
        }),
        b.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(e, n) {
            var r = /Y/.test(n);
            b.fn[e] = function(i) {
                return b.access(this, function(e, i, s) {
                    var o = sr(e);
                    if (s === t)
                        return o ? n in o ? o[n] : o.document.documentElement[i] : e[i];
                    o ? o.scrollTo(r ? b(o).scrollLeft() : s, r ? s : b(o).scrollTop()) : e[i] = s
                }, e, i, arguments.length, null)
            }
        }),
        b.each({
            Height: "height",
            Width: "width"
        }, function(e, n) {
            b.each({
                padding: "inner" + e,
                content: n,
                "": "outer" + e
            }, function(r, i) {
                b.fn[i] = function(i, s) {
                    var o = arguments.length && (r || typeof i != "boolean"),
                        u = r || (i === !0 || s === !0 ? "margin" : "border");
                    return b.access(this, function(n, r, i) {
                        var s;
                        return b.isWindow(n) ? n.document.documentElement["client" + e] : n.nodeType === 9 ? (s = n.documentElement,
                            Math.max(n.body["scroll" + e], s["scroll" + e], n.body["offset" + e], s["offset" + e], s["client" + e])) : i === t ? b.css(n, r, u) : b.style(n, r, i, u)
                    }, n, o ? i : t, o, null)
                }
            })
        }),
        e.jQuery = e.$ = b,
        typeof define == "function" && define.amd && define.amd.jQuery && define("jquery", [], function() {
            return b
        })
})(window),
function(e) {
    e.fn.unveil = function(t, n) {
        function f() {
            var t = u.filter(function() {
                var t = e(this),
                    n = r.scrollTop(),
                    s = n + r.height(),
                    o = t.offset().top,
                    u = o + t.height();
                return u >= n - i && o <= s + i
            });
            a = t.trigger("unveil"),
                u = u.not(a)
        }
        var r = e(window),
            i = t || 0,
            s = window.devicePixelRatio > 1,
            o = s ? "data-src-retina" : "data-src",
            u = this,
            a;
        return this.one("unveil", function() {
                var e = this.getAttribute(o);
                e = e || this.getAttribute("data-src"),
                    e && (this.setAttribute("src", e),
                        typeof n == "function" && n.call(this))
            }),
            r.scroll(f),
            r.resize(f),
            f(),
            this
    }
}(window.jQuery || window.Zepto),
function(e) {
    "use strict";

    function t(e, t) {
        var n = (e & 65535) + (t & 65535),
            r = (e >> 16) + (t >> 16) + (n >> 16);
        return r << 16 | n & 65535
    }

    function n(e, t) {
        return e << t | e >>> 32 - t
    }

    function r(e, r, i, s, o, u) {
        return t(n(t(t(r, e), t(s, u)), o), i)
    }

    function i(e, t, n, i, s, o, u) {
        return r(t & n | ~t & i, e, t, s, o, u)
    }

    function s(e, t, n, i, s, o, u) {
        return r(t & i | n & ~i, e, t, s, o, u)
    }

    function o(e, t, n, i, s, o, u) {
        return r(t ^ n ^ i, e, t, s, o, u)
    }

    function u(e, t, n, i, s, o, u) {
        return r(n ^ (t | ~i), e, t, s, o, u)
    }

    function a(e, n) {
        e[n >> 5] |= 128 << n % 32,
            e[(n + 64 >>> 9 << 4) + 14] = n;
        var r, a, f, l, c, h = 1732584193,
            p = -271733879,
            d = -1732584194,
            v = 271733878;
        for (r = 0; r < e.length; r += 16)
            a = h,
            f = p,
            l = d,
            c = v,
            h = i(h, p, d, v, e[r], 7, -680876936),
            v = i(v, h, p, d, e[r + 1], 12, -389564586),
            d = i(d, v, h, p, e[r + 2], 17, 606105819),
            p = i(p, d, v, h, e[r + 3], 22, -1044525330),
            h = i(h, p, d, v, e[r + 4], 7, -176418897),
            v = i(v, h, p, d, e[r + 5], 12, 1200080426),
            d = i(d, v, h, p, e[r + 6], 17, -1473231341),
            p = i(p, d, v, h, e[r + 7], 22, -45705983),
            h = i(h, p, d, v, e[r + 8], 7, 1770035416),
            v = i(v, h, p, d, e[r + 9], 12, -1958414417),
            d = i(d, v, h, p, e[r + 10], 17, -42063),
            p = i(p, d, v, h, e[r + 11], 22, -1990404162),
            h = i(h, p, d, v, e[r + 12], 7, 1804603682),
            v = i(v, h, p, d, e[r + 13], 12, -40341101),
            d = i(d, v, h, p, e[r + 14], 17, -1502002290),
            p = i(p, d, v, h, e[r + 15], 22, 1236535329),
            h = s(h, p, d, v, e[r + 1], 5, -165796510),
            v = s(v, h, p, d, e[r + 6], 9, -1069501632),
            d = s(d, v, h, p, e[r + 11], 14, 643717713),
            p = s(p, d, v, h, e[r], 20, -373897302),
            h = s(h, p, d, v, e[r + 5], 5, -701558691),
            v = s(v, h, p, d, e[r + 10], 9, 38016083),
            d = s(d, v, h, p, e[r + 15], 14, -660478335),
            p = s(p, d, v, h, e[r + 4], 20, -405537848),
            h = s(h, p, d, v, e[r + 9], 5, 568446438),
            v = s(v, h, p, d, e[r + 14], 9, -1019803690),
            d = s(d, v, h, p, e[r + 3], 14, -187363961),
            p = s(p, d, v, h, e[r + 8], 20, 1163531501),
            h = s(h, p, d, v, e[r + 13], 5, -1444681467),
            v = s(v, h, p, d, e[r + 2], 9, -51403784),
            d = s(d, v, h, p, e[r + 7], 14, 1735328473),
            p = s(p, d, v, h, e[r + 12], 20, -1926607734),
            h = o(h, p, d, v, e[r + 5], 4, -378558),
            v = o(v, h, p, d, e[r + 8], 11, -2022574463),
            d = o(d, v, h, p, e[r + 11], 16, 1839030562),
            p = o(p, d, v, h, e[r + 14], 23, -35309556),
            h = o(h, p, d, v, e[r + 1], 4, -1530992060),
            v = o(v, h, p, d, e[r + 4], 11, 1272893353),
            d = o(d, v, h, p, e[r + 7], 16, -155497632),
            p = o(p, d, v, h, e[r + 10], 23, -1094730640),
            h = o(h, p, d, v, e[r + 13], 4, 681279174),
            v = o(v, h, p, d, e[r], 11, -358537222),
            d = o(d, v, h, p, e[r + 3], 16, -722521979),
            p = o(p, d, v, h, e[r + 6], 23, 76029189),
            h = o(h, p, d, v, e[r + 9], 4, -640364487),
            v = o(v, h, p, d, e[r + 12], 11, -421815835),
            d = o(d, v, h, p, e[r + 15], 16, 530742520),
            p = o(p, d, v, h, e[r + 2], 23, -995338651),
            h = u(h, p, d, v, e[r], 6, -198630844),
            v = u(v, h, p, d, e[r + 7], 10, 1126891415),
            d = u(d, v, h, p, e[r + 14], 15, -1416354905),
            p = u(p, d, v, h, e[r + 5], 21, -57434055),
            h = u(h, p, d, v, e[r + 12], 6, 1700485571),
            v = u(v, h, p, d, e[r + 3], 10, -1894986606),
            d = u(d, v, h, p, e[r + 10], 15, -1051523),
            p = u(p, d, v, h, e[r + 1], 21, -2054922799),
            h = u(h, p, d, v, e[r + 8], 6, 1873313359),
            v = u(v, h, p, d, e[r + 15], 10, -30611744),
            d = u(d, v, h, p, e[r + 6], 15, -1560198380),
            p = u(p, d, v, h, e[r + 13], 21, 1309151649),
            h = u(h, p, d, v, e[r + 4], 6, -145523070),
            v = u(v, h, p, d, e[r + 11], 10, -1120210379),
            d = u(d, v, h, p, e[r + 2], 15, 718787259),
            p = u(p, d, v, h, e[r + 9], 21, -343485551),
            h = t(h, a),
            p = t(p, f),
            d = t(d, l),
            v = t(v, c);
        return [h, p, d, v]
    }

    function f(e) {
        var t, n = "";
        for (t = 0; t < e.length * 32; t += 8)
            n += String.fromCharCode(e[t >> 5] >>> t % 32 & 255);
        return n
    }

    function l(e) {
        var t, n = [];
        n[(e.length >> 2) - 1] = undefined;
        for (t = 0; t < n.length; t += 1)
            n[t] = 0;
        for (t = 0; t < e.length * 8; t += 8)
            n[t >> 5] |= (e.charCodeAt(t / 8) & 255) << t % 32;
        return n
    }

    function c(e) {
        return f(a(l(e), e.length * 8))
    }

    function h(e, t) {
        var n, r = l(e),
            i = [],
            s = [],
            o;
        i[15] = s[15] = undefined,
            r.length > 16 && (r = a(r, e.length * 8));
        for (n = 0; n < 16; n += 1)
            i[n] = r[n] ^ 909522486,
            s[n] = r[n] ^ 1549556828;
        return o = a(i.concat(l(t)), 512 + t.length * 8),
            f(a(s.concat(o), 640))
    }

    function p(e) {
        var t = "0123456789abcdef",
            n = "",
            r, i;
        for (i = 0; i < e.length; i += 1)
            r = e.charCodeAt(i),
            n += t.charAt(r >>> 4 & 15) + t.charAt(r & 15);
        return n
    }

    function d(e) {
        return unescape(encodeURIComponent(e))
    }

    function v(e) {
        return c(d(e))
    }

    function m(e) {
        return p(v(e))
    }

    function g(e, t) {
        return h(d(e), d(t))
    }

    function y(e, t) {
        return p(g(e, t))
    }
    e.md5 = function(e, t, n) {
        return t ? n ? g(t, e) : y(t, e) : n ? v(e) : m(e)
    }
}(typeof jQuery == "function" ? jQuery : this),
function(e, t, n) {
    function i(e) {
        return e
    }

    function s(e) {
        return o(decodeURIComponent(e.replace(r, " ")))
    }

    function o(e) {
        return e.indexOf('"') === 0 && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\")),
            e
    }

    function u(e) {
        return a.json ? JSON.parse(e) : e
    }
    var r = /\+/g,
        a = e.cookie = function(r, o, f) {
            if (o !== n) {
                f = e.extend({}, a.defaults, f),
                    o === null && (f.expires = -1);
                if (typeof f.expires == "number") {
                    var l = f.expires,
                        c = f.expires = new Date;
                    c.setDate(c.getDate() + l)
                }
                return o = a.json ? JSON.stringify(o) : String(o),
                    t.cookie = [encodeURIComponent(r), "=", a.raw ? o : encodeURIComponent(o), f.expires ? "; expires=" + f.expires.toUTCString() : "", f.path ? "; path=" + f.path : "", f.domain ? "; domain=" + f.domain : "", f.secure ? "; secure" : ""].join("")
            }
            var h = a.raw ? i : s,
                p = t.cookie.split("; "),
                d = r ? null : {};
            for (var v = 0, m = p.length; v < m; v++) {
                var g = p[v].split("="),
                    y = h(g.shift()),
                    b = h(g.join("="));
                if (r && r === y) {
                    d = u(b);
                    break
                }
                r || (d[y] = u(b))
            }
            return d
        };
    a.defaults = {},
        e.removeCookie = function(t, n) {
            return e.cookie(t) !== null ? (e.cookie(t, null, n), !0) : !1
        }
}(jQuery, document),
function(e) {
    "use strict";

    function t(e) {
        return new RegExp("(^|\\s+)" + e + "(\\s+|$)")
    }

    function s(e, t) {
        var s = n(e, t) ? i : r;
        s(e, t)
    }
    var n, r, i;
    "classList" in document.documentElement ? (n = function(e, t) {
                return e.classList.contains(t)
            },
            r = function(e, t) {
                e.classList.add(t)
            },
            i = function(e, t) {
                e.classList.remove(t)
            }
        ) : (n = function(e, n) {
                return t(n).test(e.className)
            },
            r = function(e, t) {
                n(e, t) || (e.className = e.className + " " + t)
            },
            i = function(e, n) {
                e.className = e.className.replace(t(n), " ")
            }
        ),
        e.classie = {
            hasClass: n,
            addClass: r,
            removeClass: i,
            toggleClass: s,
            has: n,
            add: r,
            remove: i,
            toggle: s
        }
}(window),
Array.prototype.indexOf || (Array.prototype.indexOf = function(e) {
    "use strict";
    if (this === void 0 || this === null)
        throw new TypeError;
    var t = Object(this),
        n = t.length >>> 0;
    if (n === 0)
        return -1;
    var r = 0;
    arguments.length > 0 && (r = Number(arguments[1]),
        r !== r ? r = 0 : r !== 0 && r !== Infinity && r !== -Infinity && (r = (r > 0 || -1) * Math.floor(Math.abs(r))));
    if (r >= n)
        return -1;
    var i = r >= 0 ? r : Math.max(n - Math.abs(r), 0);
    for (; i < n; i++)
        if (i in t && t[i] === e)
            return i;
    return -1
});
var I18n = I18n || {};
I18n.defaultLocale = "en",
    I18n.fallbacks = !1,
    I18n.defaultSeparator = ".",
    I18n.locale = null,
    I18n.PLACEHOLDER = /(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,
    I18n.fallbackRules = {},
    I18n.pluralizationRules = {
        en: function(e) {
            return e == 0 ? ["zero", "none", "other"] : e == 1 ? "one" : "other"
        }
    },
    I18n.getFallbacks = function(e) {
        if (e === I18n.defaultLocale)
            return [];
        if (!I18n.fallbackRules[e]) {
            var t = [],
                n = e.split("-");
            for (var r = 1; r < n.length; r++)
                t.push(n.slice(0, r).join("-"));
            t.push(I18n.defaultLocale),
                I18n.fallbackRules[e] = t
        }
        return I18n.fallbackRules[e]
    },
    I18n.isValidNode = function(e, t, n) {
        return e[t] !== null && e[t] !== n
    },
    I18n.lookup = function(e, t) {
        var t = t || {},
            n = e,
            r = this.prepareOptions(I18n.translations),
            i = t.locale || I18n.currentLocale(),
            s = r[i] || {},
            t = this.prepareOptions(t),
            o;
        typeof e == "object" && (e = e.join(this.defaultSeparator)),
            t.scope && (e = t.scope.toString() + this.defaultSeparator + e),
            e = e.split(this.defaultSeparator);
        while (s && e.length > 0)
            o = e.shift(),
            s = s[o];
        if (!s) {
            if (I18n.fallbacks) {
                var u = this.getFallbacks(i);
                for (var a = 0; a < u.length; u++) {
                    s = I18n.lookup(n, this.prepareOptions({
                        locale: u[a]
                    }, t));
                    if (s)
                        break
                }
            }!s && this.isValidNode(t, "defaultValue") && (s = t.defaultValue)
        }
        return s
    },
    I18n.prepareOptions = function() {
        var e = {},
            t, n = arguments.length;
        for (var r = 0; r < n; r++) {
            t = arguments[r];
            if (!t)
                continue;
            for (var i in t)
                this.isValidNode(e, i) || (e[i] = t[i])
        }
        return e
    },
    I18n.interpolate = function(e, t) {
        t = this.prepareOptions(t);
        var n = e.match(this.PLACEHOLDER),
            r, i, s;
        if (!n)
            return e;
        for (var o = 0; r = n[o]; o++)
            s = r.replace(this.PLACEHOLDER, "$1"),
            i = t[s],
            this.isValidNode(t, s) || (i = "[missing " + r + " value]"),
            regex = new RegExp(r.replace(/\{/gm, "\\{").replace(/\}/gm, "\\}")),
            e = e.replace(regex, i);
        return e
    },
    I18n.translate = function(e, t) {
        t = this.prepareOptions(t);
        var n = this.lookup(e, t);
        try {
            return typeof n == "object" ? typeof t.count == "number" ? this.pluralize(t.count, e, t) : n : this.interpolate(n, t)
        } catch (r) {
            return this.missingTranslation(e)
        }
    },
    I18n.localize = function(e, t) {
        switch (e) {
            case "currency":
                return this.toCurrency(t);
            case "number":
                return e = this.lookup("number.format"),
                    this.toNumber(t, e);
            case "percentage":
                return this.toPercentage(t);
            default:
                return e.match(/^(date|time)/) ? this.toTime(e, t) : t.toString()
        }
    },
    I18n.parseDate = function(e) {
        var t, n;
        if (typeof e == "object")
            return e;
        t = e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2}))?(Z|\+0000)?/);
        if (t) {
            for (var r = 1; r <= 6; r++)
                t[r] = parseInt(t[r], 10) || 0;
            t[2] -= 1,
                t[7] ? n = new Date(Date.UTC(t[1], t[2], t[3], t[4], t[5], t[6])) : n = new Date(t[1], t[2], t[3], t[4], t[5], t[6])
        } else
            typeof e == "number" ? (n = new Date,
                n.setTime(e)) : e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/) ? (n = new Date,
                n.setTime(Date.parse(e))) : (n = new Date,
                n.setTime(Date.parse(e)));
        return n
    },
    I18n.toTime = function(e, t) {
        var n = this.parseDate(t),
            r = this.lookup(e);
        return n.toString().match(/invalid/i) ? n.toString() : r ? this.strftime(n, r) : n.toString()
    },
    I18n.strftime = function(e, t) {
        var n = this.lookup("date");
        if (!n)
            return e.toString();
        n.meridian = n.meridian || ["AM", "PM"];
        var r = e.getDay(),
            i = e.getDate(),
            s = e.getFullYear(),
            o = e.getMonth() + 1,
            u = e.getHours(),
            a = u,
            f = u > 11 ? 1 : 0,
            l = e.getSeconds(),
            c = e.getMinutes(),
            h = e.getTimezoneOffset(),
            p = Math.floor(Math.abs(h / 60)),
            d = Math.abs(h) - p * 60,
            v = (h > 0 ? "-" : "+") + (p.toString().length < 2 ? "0" + p : p) + (d.toString().length < 2 ? "0" + d : d);
        a > 12 ? a -= 12 : a === 0 && (a = 12);
        var m = function(e) {
                var t = "0" + e.toString();
                return t.substr(t.length - 2)
            },
            g = t;
        return g = g.replace("%a", n.abbr_day_names[r]),
            g = g.replace("%A", n.day_names[r]),
            g = g.replace("%b", n.abbr_month_names[o]),
            g = g.replace("%B", n.month_names[o]),
            g = g.replace("%d", m(i)),
            g = g.replace("%e", i),
            g = g.replace("%-d", i),
            g = g.replace("%H", m(u)),
            g = g.replace("%-H", u),
            g = g.replace("%I", m(a)),
            g = g.replace("%-I", a),
            g = g.replace("%m", m(o)),
            g = g.replace("%-m", o),
            g = g.replace("%M", m(c)),
            g = g.replace("%-M", c),
            g = g.replace("%p", n.meridian[f]),
            g = g.replace("%S", m(l)),
            g = g.replace("%-S", l),
            g = g.replace("%w", r),
            g = g.replace("%y", m(s)),
            g = g.replace("%-y", m(s).replace(/^0+/, "")),
            g = g.replace("%Y", s),
            g = g.replace("%z", v),
            g
    },
    I18n.toNumber = function(e, t) {
        t = this.prepareOptions(t, this.lookup("number.format"), {
            precision: 3,
            separator: ".",
            delimiter: ",",
            strip_insignificant_zeros: !1
        });
        var n = e < 0,
            r = Math.abs(e).toFixed(t.precision).toString(),
            i = r.split("."),
            s, o = [],
            u;
        e = i[0],
            s = i[1];
        while (e.length > 0)
            o.unshift(e.substr(Math.max(0, e.length - 3), 3)),
            e = e.substr(0, e.length - 3);
        u = o.join(t.delimiter),
            t.precision > 0 && (u += t.separator + i[1]),
            n && (u = "-" + u);
        if (t.strip_insignificant_zeros) {
            var a = {
                separator: new RegExp(t.separator.replace(/\./, "\\.") + "$"),
                zeros: /0+$/
            };
            u = u.replace(a.zeros, "").replace(a.separator, "")
        }
        return u
    },
    I18n.toCurrency = function(e, t) {
        return t = this.prepareOptions(t, this.lookup("number.currency.format"), this.lookup("number.format"), {
                unit: "$",
                precision: 2,
                format: "%u%n",
                delimiter: ",",
                separator: "."
            }),
            e = this.toNumber(e, t),
            e = t.format.replace("%u", t.unit).replace("%n", e),
            e
    },
    I18n.toHumanSize = function(e, t) {
        var n = 1024,
            r = e,
            i = 0,
            s, o;
        while (r >= n && i < 4)
            r /= n,
            i += 1;
        return i === 0 ? (s = this.t("number.human.storage_units.units.byte", {
                    count: r
                }),
                o = 0) : (s = this.t("number.human.storage_units.units." + [null, "kb", "mb", "gb", "tb"][i]),
                o = r - Math.floor(r) === 0 ? 0 : 1),
            t = this.prepareOptions(t, {
                precision: o,
                format: "%n%u",
                delimiter: ""
            }),
            e = this.toNumber(r, t),
            e = t.format.replace("%u", s).replace("%n", e),
            e
    },
    I18n.toPercentage = function(e, t) {
        return t = this.prepareOptions(t, this.lookup("number.percentage.format"), this.lookup("number.format"), {
                precision: 3,
                separator: ".",
                delimiter: ""
            }),
            e = this.toNumber(e, t),
            e + "%"
    },
    I18n.pluralizer = function(e) {
        return pluralizer = this.pluralizationRules[e],
            pluralizer !== undefined ? pluralizer : this.pluralizationRules.en
    },
    I18n.findAndTranslateValidNode = function(e, t) {
        for (i = 0; i < e.length; i++) {
            key = e[i];
            if (this.isValidNode(t, key))
                return t[key]
        }
        return null
    },
    I18n.pluralize = function(e, t, n) {
        var r;
        try {
            r = this.lookup(t, n)
        } catch (i) {}
        if (!r)
            return this.missingTranslation(t);
        var s;
        return n = this.prepareOptions(n),
            n.count = e.toString(),
            pluralizer = this.pluralizer(this.currentLocale()),
            key = pluralizer(Math.abs(e)),
            keys = typeof key == "object" && key instanceof Array ? key : [key],
            s = this.findAndTranslateValidNode(keys, r),
            s == null && (s = this.missingTranslation(t, keys[0])),
            this.interpolate(s, n)
    },
    I18n.missingTranslation = function() {
        var e = '[missing "' + this.currentLocale(),
            t = arguments.length;
        for (var n = 0; n < t; n++)
            e += "." + arguments[n];
        return e += '" translation]',
            e
    },
    I18n.currentLocale = function() {
        return I18n.locale || I18n.defaultLocale
    },
    I18n.t = I18n.translate,
    I18n.l = I18n.localize,
    I18n.p = I18n.pluralize;
var I18n = I18n || {};
I18n.translations = {
        de: {
            invite: {
                close: "Close",
                invite: "Invite",
                message: "Do you know %{project_name}? Join and play with me!",
                title: "Invite your friends!"
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: "External id",
                        project: "Game",
                        token: "Token",
                        user: "User id"
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: "Counld not retreive external user id"
                                },
                                project: {
                                    blank: "Game not found"
                                },
                                token: {
                                    blank: "Failed to generate session token"
                                },
                                user: {
                                    blank: "Could not create user"
                                },
                                user_provider_id: {
                                    blank: "Could not generate user provider id"
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: null,
                back_to_game: "Go back to the game",
                back_to_game_short: null,
                best: null,
                "continue": null,
                exit_game: "Exit Game",
                free: "Frei",
                game_description: "Game description",
                game_is_already_rated: null,
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: "Imprint",
                initializing_the_payment: "Initializing the payment",
                "more-games": null,
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: null
                },
                payment_not_open: "Click here to open payment window",
                payment_started: "Payment started",
                play: "Spielen",
                play_again: null,
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: null,
                play_now: "Jetzt spielen",
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: "Um dieses super Spiel zu starten, klicke bitte unten!",
                play_win: null,
                playthrough_video: null,
                points_in: null,
                promo_text: "Willkommen auf der weltgr枚脽ten HTML5 Spieleplattform! Ganz egal, ob Du Dein Gehirn mit unterhaltsamen Denkspielen trainieren willst, ob Du Dein Gl眉ck bei einem Geschicklichkeitsspiel versuchen m枚chtest oder ob Du packende Action suchst, in 250 tollen Spielen, wie Flappy Bird, Monster Hunter oder Candy Rain wirst Du auf jeden Fall f眉ndig werden. HTML5 bedeutet sofortigen Spielspa脽! Keine Downloads, keine Installation, keine Kosten. Spiele und teile die Spiele, die Du liebst auf allen Plattformen. Unsere Spiele wurden speziell daf眉r entwickelt und getestet, sowohl auf dem Handy, als auch auf Tablets und am Desktop perfekt zu funktionieren und einfach 眉berall Spa脽 zu machen!",
                ranking: null,
                recently_played: null,
                return_to_homepage_to_play_more_free_online_games: "Return to homepage to play more free online games!",
                score: null,
                share: null,
                show_all: null,
                show_less: null,
                similar_games: null,
                skip: "Skip",
                sponsored_link: null,
                start: "Start",
                terms: "Terms",
                thank_you_for_your_vote: null,
                vote: null
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: "Erfahre, wie man spielt und 眉be",
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: "Training",
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        },
        en: {
            invite: {
                close: "Close",
                invite: "Invite",
                message: "Do you know %{project_name}? Join and play with me!",
                title: "Invite your friends!"
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: "External id",
                        project: "Game",
                        token: "Token",
                        user: "User id"
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: "Counld not retreive external user id"
                                },
                                project: {
                                    blank: "Game not found"
                                },
                                token: {
                                    blank: "Failed to generate session token"
                                },
                                user: {
                                    blank: "Could not create user"
                                },
                                user_provider_id: {
                                    blank: "Could not generate user provider id"
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: "Ad-blocker detected",
                        text: "To use this offer please disable your ad-blocker and reload page. Thank you!"
                    },
                    footer: "Please disable your ad-blocker for us, and yourself :).",
                    hello: "Thank you for playing games on our portal.",
                    info: "We noticed you have an ad-blocker enabled, we completely understand that you dislike advertising. Please understand that advertisements are our only source of revenue, we need this to provide you with better and cooler games, for free!"
                },
                advertisement: "Advertisement",
                back_to_game: "Go back to the game",
                back_to_game_short: "Back to Game",
                best: "best",
                "continue": "Continue",
                exit_game: "Exit Game",
                free: "Free",
                game_description: "Game description",
                game_is_already_rated: "Game is already rated",
                highscores: {
                    buttons: {
                        "more-games": "More games",
                        "play-again": "Continue",
                        "save-profile": "Save your score to highscores and create a Profile",
                        "share-fb": "Share"
                    },
                    new_highscore_text: {
                        "best-level": "Your new highscore",
                        "best-score": "Your new highscore",
                        "level-score": "Your new level %level% highscore"
                    }
                },
                hint_next: "Next Hint",
                hints: "Hints",
                imprint: "Imprint",
                initializing_the_payment: "Initializing the payment",
                "more-games": "More games",
                more_games: {
                    modal_window: {
                        headline: "Recommended games for you:"
                    }
                },
                operamini: {
                    info: "You are using Opera Mini browser at the moment. Opera Mini does not support HTML5 games, but your phone does. Please open this game with one of the browsers below."
                },
                payment_not_open: "Click here to open payment window",
                payment_started: "Payment started",
                play: "Play",
                play_again: "play again",
                play_complete_win: "Play-Complete-Win:",
                play_game_through_widget: "To play this and other games, click below",
                play_more: "play more",
                play_now: "Play now!",
                play_now_clean: "Play now",
                play_to_win: "Play to win:",
                play_widget_games: "To play an awesome game Click below",
                play_win: "Play - Win:",
                playthrough_video: "Playthrough video",
                points_in: "points in",
                promo_text: "Welcome to the world's largest HTML5 games platform! Whether you want to tease your brain with entertaining puzzle games, try a skill game or if you're after some thrilling action, you will make a find within more than 250 high quality games like Flappy Bird, Monster Hunter or Candy Rain. HTML5 means instant access! No downloads and no installs, no costs. Play and share the games you love across all platforms! Our games are built and tested to be fun no matter if you're playing on your phone, a tablet or on your desktop computer. Join the largest HTML5 gaming platform today!",
                ranking: "ranking",
                recently_played: "Recently played",
                return_to_homepage_to_play_more_free_online_games: "Return to homepage to play more free online games!",
                score: "score",
                share: "Share",
                show_all: "show all",
                show_less: "show less",
                similar_games: "Similar games",
                skip: "Skip",
                sponsored_link: "Sponsored Link:",
                start: "Start",
                terms: "Terms",
                thank_you_for_your_vote: "Thank you for your vote!",
                vote: "Vote"
            },
            multiplayer: {
                Cash: "Cash",
                active_tournament: "Active Tournament",
                available_in: "Available in:",
                basketballs: "Basketballs",
                best_score: "Best score",
                bonus: "Bonus",
                boosters: "Boosters",
                change: "Change",
                check_later: "Check back later for updated results.",
                collect: "Collect",
                collect_free: "Collect free",
                collect_gift: "Collect your free daily gift!",
                coming_soon: "Coming soon...",
                congratulations: "Congratulations",
                daily_leaderboard: "Daily leaderboard",
                daily_tournament: "Daily tournament",
                days: "days",
                earned: "Earned",
                entry_fee: "Entry fee",
                equip: "Equip",
                exchange: "Exchange",
                fetching_results: "Fetching results",
                find_opponent: "Find an opponent",
                find_opponent_label: "find a live opponent in the {{court}} :",
                free: "Free",
                free_diamonds: "Free diamonds",
                get_more: "Get more",
                get_now: "Get now!",
                global: "Global",
                hours: "hours",
                hrs: "hrs.",
                "in": "in",
                invite_friends: "Invite friends",
                league: "League",
                league_description: "Take part in weekly tournament for a chance to be the best player of the week and win even better prizes.",
                learn_how: "Learn how to play and practice",
                level: "Level",
                level_up: "Level Up",
                level_up_plus_1: "+1 level up!",
                longest_winning_streak: "Longest winning streak",
                lvl: "lvl",
                matches_played: "Matches played",
                matches_won: "Matches won",
                minutes: "mins.",
                multiplayer: "Multiplayer",
                my_friends: "My friends",
                my_friends_description: "Invite your friends and enjoy a new social competition every week.",
                my_profile: "My profile",
                next_gift_in: "Next daily gift in",
                no_active_tournament: "No active tournament",
                not_enough: "You don't have enough cash to play in this court.",
                out_of_cash: "Out of Cash",
                play: "Play",
                play_again: "Play again",
                players_online: "Players online:",
                practice: "Practice",
                practice_court: "Practice Court",
                prize: "Prize:",
                ready: "Ready!",
                reward: "Reward",
                sale: "Sale",
                score_reset_in: "Scores reset in",
                sec: "sec.",
                see_your_friends_progress: "See your friends progress and invite them to play.",
                select_boosters: "Select your boosters:",
                sorry_not_enough: "Sorry not enough",
                statistics: "Statistics",
                time_remaining: "Time remaining:",
                tournament_just_started: "The tournament just started",
                unavailable: "unavailable",
                waiting: "waiting...",
                we_are_sorry_something_went_wrong: "We are sorry, but something went wrong. Please reload your page.",
                weekly_tournament: "Weekly Tournament",
                win_ratio: "Win ratio",
                winner: "Winner",
                xp: "XP",
                xp_for_next_level: "XP for the next level.",
                you: "You",
                you_received: "You received",
                your_latest_tournament_results: "Your latest tournament results"
            }
        },
        es: {
            invite: {
                close: null,
                invite: null,
                message: null,
                title: null
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: null,
                        project: null,
                        token: null,
                        user: null
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: null
                                },
                                project: {
                                    blank: null
                                },
                                token: {
                                    blank: null
                                },
                                user: {
                                    blank: null
                                },
                                user_provider_id: {
                                    blank: null
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: null,
                back_to_game: null,
                back_to_game_short: null,
                best: null,
                "continue": null,
                exit_game: null,
                free: null,
                game_description: null,
                game_is_already_rated: null,
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: null,
                initializing_the_payment: null,
                "more-games": null,
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: null
                },
                payment_not_open: null,
                payment_started: null,
                play: null,
                play_again: null,
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: null,
                play_now: null,
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: null,
                play_win: null,
                playthrough_video: null,
                points_in: null,
                promo_text: null,
                ranking: null,
                recently_played: null,
                return_to_homepage_to_play_more_free_online_games: null,
                score: null,
                share: null,
                show_all: null,
                show_less: null,
                similar_games: null,
                skip: null,
                sponsored_link: null,
                start: null,
                terms: null,
                thank_you_for_your_vote: null,
                vote: null
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: null,
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: null,
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        },
        it: {
            invite: {
                close: "Close",
                invite: "Invite",
                message: "Do you know %{project_name}? Join and play with me!",
                title: "Invite your friends!"
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: "External id",
                        project: "Game",
                        token: "Token",
                        user: "User id"
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: "Counld not retreive external user id"
                                },
                                project: {
                                    blank: "Game not found"
                                },
                                token: {
                                    blank: "Failed to generate session token"
                                },
                                user: {
                                    blank: "Could not create user"
                                },
                                user_provider_id: {
                                    blank: "Could not generate user provider id"
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: "Advertisement",
                back_to_game: "Go back to the game",
                back_to_game_short: null,
                best: "best",
                "continue": "Continue",
                exit_game: "Exit Game",
                free: "Free",
                game_description: "Game description",
                game_is_already_rated: "Game is already rated",
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: "Imprint",
                initializing_the_payment: "Initializing the payment",
                "more-games": "More games",
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: "You are using Opera Mini browser at the moment. Opera Mini does not support HTML5 games, but your phone does. Please open this game with one of the browsers below."
                },
                payment_not_open: "Click here to open payment window",
                payment_started: "Payment started",
                play: "GIOCA",
                play_again: "play again",
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: "play more",
                play_now: "Play now!",
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: null,
                play_win: null,
                playthrough_video: null,
                points_in: "points in",
                promo_text: null,
                ranking: "ranking",
                recently_played: "Recently played",
                return_to_homepage_to_play_more_free_online_games: "Return to homepage to play more free online games!",
                score: "score",
                share: "Share",
                show_all: null,
                show_less: null,
                similar_games: "Similar games",
                skip: "Skip",
                sponsored_link: null,
                start: "Start",
                terms: "Terms",
                thank_you_for_your_vote: "Thank you for your vote!",
                vote: "Vote"
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: null,
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: null,
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        },
        pl: {
            invite: {
                close: "Close",
                invite: "Invite",
                message: "Do you know %{project_name}? Join and play with me!",
                title: "Invite your friends!"
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: "External id",
                        project: "Game",
                        token: "Token",
                        user: "User id"
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: "Counld not retreive external user id"
                                },
                                project: {
                                    blank: "Game not found"
                                },
                                token: {
                                    blank: "Failed to generate session token"
                                },
                                user: {
                                    blank: "Could not create user"
                                },
                                user_provider_id: {
                                    blank: "Could not generate user provider id"
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: null,
                back_to_game: "Wr贸膰 do gry",
                back_to_game_short: null,
                best: null,
                "continue": null,
                exit_game: "Wyjd藕",
                free: null,
                game_description: "Szczeg贸艂y",
                game_is_already_rated: null,
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: "Imprint",
                initializing_the_payment: "Initializing the payment",
                "more-games": null,
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: null
                },
                payment_not_open: "Click here to open payment window",
                payment_started: "Payment started",
                play: "Zagraj",
                play_again: null,
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: null,
                play_now: "Zagraj teraz!",
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: "Kliknij pon偶ej aby zagra膰 w inne super gry",
                play_win: null,
                playthrough_video: null,
                points_in: null,
                promo_text: null,
                ranking: null,
                recently_played: null,
                return_to_homepage_to_play_more_free_online_games: "Return to homepage to play more free online games!",
                score: null,
                share: null,
                show_all: null,
                show_less: null,
                similar_games: null,
                skip: "Pomi艅",
                sponsored_link: null,
                start: "Start",
                terms: "Terms",
                thank_you_for_your_vote: null,
                vote: null
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: null,
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: null,
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        },
        ru: {
            invite: {
                close: "袟邪泻褉褘褌褜",
                invite: null,
                message: null,
                title: null
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: "袙薪械褕薪懈泄 袠袛",
                        project: "袠谐褉邪",
                        token: "孝芯泻械薪",
                        user: "袩芯谢褜蟹芯胁邪褌械谢褜褋泻懈泄 袠袛"
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: "袧械 褍写邪谢芯褋褜 懈蟹胁谢械褔褜 external user id"
                                },
                                project: {
                                    blank: "袠谐褉邪 薪械 薪邪泄写械薪邪"
                                },
                                token: {
                                    blank: "袧械褍写邪谢芯褋褜 褋芯蟹写邪褌褜 session token"
                                },
                                user: {
                                    blank: "袧械褍写邪谢芯褋褜 褋芯蟹写邪褌褜 锌芯谢褜蟹芯胁邪褌械谢褟"
                                },
                                user_provider_id: {
                                    blank: "薪械 褍写邪谢芯褋褜 褋谐械薪械褉懈褉芯胁邪褌褜 user provider id"
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: null,
                back_to_game: null,
                back_to_game_short: null,
                best: null,
                "continue": null,
                exit_game: null,
                free: null,
                game_description: null,
                game_is_already_rated: null,
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: null,
                initializing_the_payment: null,
                "more-games": null,
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: null
                },
                payment_not_open: null,
                payment_started: null,
                play: null,
                play_again: null,
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: null,
                play_now: null,
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: null,
                play_win: null,
                playthrough_video: null,
                points_in: null,
                promo_text: null,
                ranking: null,
                recently_played: null,
                return_to_homepage_to_play_more_free_online_games: null,
                score: null,
                share: null,
                show_all: null,
                show_less: null,
                similar_games: null,
                skip: null,
                sponsored_link: null,
                start: null,
                terms: null,
                thank_you_for_your_vote: null,
                vote: null
            },
            multiplayer: {
                Cash: "袛械薪褜谐懈",
                active_tournament: "袗泻褌懈胁薪褘泄 褌褍褉薪懈褉",
                available_in: "袘褍写械褌 褔械褉械蟹:",
                basketballs: null,
                best_score: "袪械泻芯褉写",
                bonus: null,
                boosters: "袘褍褋褌械褉褘",
                change: "袩芯屑械薪褟褌褜",
                check_later: "袩褉芯胁械褉褜褌械 褉械蟹褍谢褜褌邪褌褘 锌芯蟹卸械.",
                collect: "袟邪斜褉邪褌褜",
                collect_free: "袟邪斜械褉懈 斜械褋锌谢邪褌薪芯",
                collect_gift: "袟邪斜械褉懈 锌芯写邪褉芯泻!",
                coming_soon: "小泻芯褉芯...",
                congratulations: "袩芯蟹写褉邪胁谢械薪懈褟",
                daily_leaderboard: "孝褍褉薪懈褉薪邪褟 褌邪斜谢懈褑邪",
                daily_tournament: "袝卸械写薪械胁薪褘泄 褌褍褉薪懈褉",
                days: "写薪械泄",
                earned: "袩芯谢褍褔械薪芯",
                entry_fee: "袩谢邪褌邪 蟹邪 胁褏芯写",
                equip: null,
                exchange: "袨斜屑械薪",
                fetching_results: "袩芯写谐芯褌芯胁泻邪 褉械蟹褍谢褜褌邪褌芯胁",
                find_opponent: "袧邪泄褌懈 褋芯锌械褉薪懈泻邪",
                find_opponent_label: "袧邪泄褌懈 褋芯锌械褉薪懈泻邪 芯薪谢邪泄薪 胁 {{court}}:",
                free: "袘械褋锌谢邪褌薪.",
                free_diamonds: "袘械褋锌谢邪褌薪褘械 泻褉懈褋褌邪谢谢褘",
                get_more: "袘芯谢褜褕械",
                get_now: "袩芯谢褍褔懈 褋械泄褔邪褋!",
                global: "袙褋械",
                hours: "褔邪褋芯胁",
                hrs: null,
                "in": "褔械褉械蟹",
                invite_friends: "袩褉懈谐谢邪褋懈 写褉褍蟹械泄",
                league: "袥懈谐邪",
                league_description: "袩褉懈薪懈屑邪泄 褍褔邪褋褌懈械 胁 械卸械薪械写械谢褜薪褘褏 褌褍褉薪懈褉邪褏, 褔褌芯斜褘 褋褌邪褌褜 谢褍褔褕懈屑 懈谐褉芯泻芯屑 薪械写械谢懈 懈 胁褘懈谐褉邪褌褜 褋褍锌械褉-褑械薪薪褘械 锌褉懈蟹褘.",
                learn_how: "校褔懈褋褜 懈谐褉邪褌褜 懈谢懈 褌褉械薪懈褉褍泄褋褟",
                level: "校褉芯胁.",
                level_up: "校褉芯胁械薪褜 胁胁械褉褏",
                level_up_plus_1: "+1 胁褘褕械 褍褉芯胁械薪褜!",
                longest_winning_streak: "小邪屑邪褟 写谢懈薪薪邪褟 褋械褉懈褟 锌芯斜械写",
                lvl: "褍褉芯胁.",
                matches_played: "小褘谐褉邪薪芯 屑邪褌褔械泄",
                matches_won: "袩芯斜械写褘",
                minutes: "屑懈薪.",
                multiplayer: "袦褍谢褜褌懈锌谢械械褉",
                my_friends: "写褉褍蟹褜褟",
                my_friends_description: "袩褉懈谐谢邪褋懈 写褉褍蟹械泄 懈 薪邪褋谢邪卸写邪泄褋褟 褋芯褉械胁薪芯胁邪薪懈褟屑懈 泻邪卸写褍褞 薪械写械谢褞.",
                my_profile: "袦芯泄 锌褉芯褎懈谢褜",
                next_gift_in: "小谢械写褍褞褖懈泄 锌芯写邪褉芯泻 褔械褉械蟹",
                no_active_tournament: "袧械邪泻褌懈胁薪褘泄 褌褍褉薪懈褉",
                not_enough: "校 胁邪褋 薪械写芯褋褌邪褌芯褔薪芯 写械薪械谐 写谢褟 褌芯谐芯, 褔褌芯斜褘 懈谐褉邪褌褜 薪邪 褝褌芯泄 锌谢芯褖邪写泻械.",
                out_of_cash: "袧械写芯褋褌邪褌芯褔薪芯 写械薪械谐",
                play: "袠谐褉邪褌褜",
                play_again: "袠谐褉邪褌褜 械褖械",
                players_online: "袠谐褉芯泻芯胁 芯薪谢邪泄薪:",
                practice: "孝褉械薪懈褉芯胁邪褌褜褋褟",
                practice_court: "孝褉械薪懈褉芯胁泻邪",
                prize: "袩褉懈蟹",
                ready: null,
                reward: "袧邪谐褉邪写邪",
                sale: null,
                score_reset_in: "小斜褉芯褋 褔械褉械蟹",
                sec: null,
                see_your_friends_progress: "袩芯褋屑芯褌褉懈 锌褉芯谐褉械褋褋 褋胁芯懈褏 写褉褍蟹械泄 懈 锌褉懈谐谢邪褋懈 懈褏 懈谐褉邪褌褜.",
                select_boosters: "袙褘斜械褉懈褌械 斜褍褋褌械褉褘:",
                sorry_not_enough: "袠蟹胁懈薪懈, 薪械 写芯褋褌邪褌芯褔薪芯",
                statistics: "小褌邪褌懈褋褌懈泻邪",
                time_remaining: "袨褋褌邪谢芯褋褜 胁褉械屑械薪懈:",
                tournament_just_started: "孝褍褉薪懈褉 薪械写邪胁薪芯 薪邪褔邪谢褋褟",
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: "袩褉芯褋褌懈褌械, 薪芯 褔褌芯-褌芯 锌芯褕谢芯 薪械 褌邪泻. 袩芯卸邪谢褍泄褋褌邪, 锌械褉械谐褉褍蟹懈褌械 褋褌褉邪薪懈褑褍.",
                weekly_tournament: "袝卸械薪械写械谢褜薪褘泄 孝褍褉薪懈褉",
                win_ratio: "袩褉芯褑械薪褌 胁褘懈谐褉褘褕械泄",
                winner: "袩芯斜械写懈褌械谢褜",
                xp: "袨锌褘褌",
                xp_for_next_level: "xp 写谢褟 褋谢械写. 校褉芯胁薪褟",
                you: "袙褘",
                you_received: "孝褘 锌芯谢褍褔懈谢",
                your_latest_tournament_results: "孝胁芯泄 锌芯褋谢械写薪懈泄 褉械蟹褍谢褜褌邪褌"
            }
        },
        tr: {
            invite: {
                close: "Close",
                invite: "Invite",
                message: "Do you know %{project_name}? Join and play with me!",
                title: "Invite your friends!"
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: "External id",
                        project: "Game",
                        token: "Token",
                        user: "User id"
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: "Counld not retreive external user id"
                                },
                                project: {
                                    blank: "Game not found"
                                },
                                token: {
                                    blank: "Failed to generate session token"
                                },
                                user: {
                                    blank: "Could not create user"
                                },
                                user_provider_id: {
                                    blank: "Could not generate user provider id"
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: null,
                back_to_game: "Go back to the game",
                back_to_game_short: null,
                best: null,
                "continue": null,
                exit_game: "Exit Game",
                free: null,
                game_description: "Oyun A莽谋klamas谋",
                game_is_already_rated: null,
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: "Imprint",
                initializing_the_payment: "Initializing the payment",
                "more-games": null,
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: null
                },
                payment_not_open: "Click here to open payment window",
                payment_started: "Payment started",
                play: null,
                play_again: null,
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: null,
                play_now: "Play now!",
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: null,
                play_win: null,
                playthrough_video: null,
                points_in: null,
                promo_text: null,
                ranking: null,
                recently_played: null,
                return_to_homepage_to_play_more_free_online_games: "Return to homepage to play more free online games!",
                score: null,
                share: null,
                show_all: null,
                show_less: null,
                similar_games: null,
                skip: "reklam谋 ge莽",
                sponsored_link: null,
                start: "Ba艧la",
                terms: "Terms",
                thank_you_for_your_vote: null,
                vote: null
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: null,
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: null,
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        },
        pt: {
            invite: {
                close: "Close",
                invite: "Invite",
                message: "Do you know %{project_name}? Join and play with me!",
                title: "Invite your friends!"
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: "External id",
                        project: "Game",
                        token: "Token",
                        user: "User id"
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: "Counld not retreive external user id"
                                },
                                project: {
                                    blank: "Game not found"
                                },
                                token: {
                                    blank: "Failed to generate session token"
                                },
                                user: {
                                    blank: "Could not create user"
                                },
                                user_provider_id: {
                                    blank: "Could not generate user provider id"
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: "Advertisement",
                back_to_game: "Go back to the game",
                back_to_game_short: null,
                best: "best",
                "continue": "Continue",
                exit_game: "Exit Game",
                free: "Free",
                game_description: "Game description",
                game_is_already_rated: "Game is already rated",
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: "Imprint",
                initializing_the_payment: "Initializing the payment",
                "more-games": "More games",
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: "You are using Opera Mini browser at the moment. Opera Mini does not support HTML5 games, but your phone does. Please open this game with one of the browsers below."
                },
                payment_not_open: "Click here to open payment window",
                payment_started: "Payment started",
                play: "Jogar",
                play_again: "play again",
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: "play more",
                play_now: "Play now!",
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: null,
                play_win: null,
                playthrough_video: null,
                points_in: "points in",
                promo_text: null,
                ranking: "ranking",
                recently_played: "Recently played",
                return_to_homepage_to_play_more_free_online_games: "Return to homepage to play more free online games!",
                score: "score",
                share: "Share",
                show_all: null,
                show_less: null,
                similar_games: "Similar games",
                skip: "Skip",
                sponsored_link: null,
                start: "Start",
                terms: "Terms",
                thank_you_for_your_vote: "Thank you for your vote!",
                vote: "Vote"
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: null,
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: null,
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        },
        th: {
            invite: {
                close: null,
                invite: null,
                message: null,
                title: null
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: null,
                        project: null,
                        token: null,
                        user: null
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: null
                                },
                                project: {
                                    blank: null
                                },
                                token: {
                                    blank: null
                                },
                                user: {
                                    blank: null
                                },
                                user_provider_id: {
                                    blank: null
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: null,
                back_to_game: null,
                back_to_game_short: null,
                best: null,
                "continue": null,
                exit_game: null,
                free: null,
                game_description: null,
                game_is_already_rated: null,
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: null,
                initializing_the_payment: null,
                "more-games": null,
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: null
                },
                payment_not_open: null,
                payment_started: null,
                play: null,
                play_again: null,
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: null,
                play_now: null,
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: null,
                play_win: null,
                playthrough_video: null,
                points_in: null,
                promo_text: null,
                ranking: null,
                recently_played: null,
                return_to_homepage_to_play_more_free_online_games: null,
                score: null,
                share: null,
                show_all: null,
                show_less: null,
                similar_games: null,
                skip: null,
                sponsored_link: null,
                start: null,
                terms: null,
                thank_you_for_your_vote: null,
                vote: null
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: null,
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: null,
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        },
        zh: {
            invite: {
                close: null,
                invite: null,
                message: null,
                title: null
            },
            activemodel: {
                attributes: {
                    game_launcher: {
                        external_id: null,
                        project: null,
                        token: null,
                        user: null
                    }
                },
                errors: {
                    models: {
                        game_launcher: {
                            attributes: {
                                external_id: {
                                    blank: null
                                },
                                project: {
                                    blank: null
                                },
                                token: {
                                    blank: null
                                },
                                user: {
                                    blank: null
                                },
                                user_provider_id: {
                                    blank: null
                                }
                            }
                        }
                    }
                }
            },
            js: {
                adblocker: {
                    block_game: {
                        header: null,
                        text: null
                    },
                    footer: null,
                    hello: null,
                    info: null
                },
                advertisement: null,
                back_to_game: null,
                back_to_game_short: null,
                best: null,
                "continue": null,
                exit_game: null,
                free: null,
                game_description: null,
                game_is_already_rated: null,
                highscores: {
                    buttons: {
                        "more-games": null,
                        "play-again": null,
                        "save-profile": null,
                        "share-fb": null
                    },
                    new_highscore_text: {
                        "best-level": null,
                        "best-score": null,
                        "level-score": null
                    }
                },
                hint_next: null,
                hints: null,
                imprint: null,
                initializing_the_payment: null,
                "more-games": null,
                more_games: {
                    modal_window: {
                        headline: null
                    }
                },
                operamini: {
                    info: null
                },
                payment_not_open: null,
                payment_started: null,
                play: null,
                play_again: null,
                play_complete_win: null,
                play_game_through_widget: null,
                play_more: null,
                play_now: null,
                play_now_clean: null,
                play_to_win: null,
                play_widget_games: null,
                play_win: null,
                playthrough_video: null,
                points_in: null,
                promo_text: null,
                ranking: null,
                recently_played: null,
                return_to_homepage_to_play_more_free_online_games: null,
                score: null,
                share: null,
                show_all: null,
                show_less: null,
                similar_games: null,
                skip: null,
                sponsored_link: null,
                start: null,
                terms: null,
                thank_you_for_your_vote: null,
                vote: null
            },
            multiplayer: {
                Cash: null,
                active_tournament: null,
                available_in: null,
                basketballs: null,
                best_score: null,
                bonus: null,
                boosters: null,
                change: null,
                check_later: null,
                collect: null,
                collect_free: null,
                collect_gift: null,
                coming_soon: null,
                congratulations: null,
                daily_leaderboard: null,
                daily_tournament: null,
                days: null,
                earned: null,
                entry_fee: null,
                equip: null,
                exchange: null,
                fetching_results: null,
                find_opponent: null,
                find_opponent_label: null,
                free: null,
                free_diamonds: null,
                get_more: null,
                get_now: null,
                global: null,
                hours: null,
                hrs: null,
                "in": null,
                invite_friends: null,
                league: null,
                league_description: null,
                learn_how: null,
                level: null,
                level_up: null,
                level_up_plus_1: null,
                longest_winning_streak: null,
                lvl: null,
                matches_played: null,
                matches_won: null,
                minutes: null,
                multiplayer: null,
                my_friends: null,
                my_friends_description: null,
                my_profile: null,
                next_gift_in: null,
                no_active_tournament: null,
                not_enough: null,
                out_of_cash: null,
                play: null,
                play_again: null,
                players_online: null,
                practice: null,
                practice_court: null,
                prize: null,
                ready: null,
                reward: null,
                sale: null,
                score_reset_in: null,
                sec: null,
                see_your_friends_progress: null,
                select_boosters: null,
                sorry_not_enough: null,
                statistics: null,
                time_remaining: null,
                tournament_just_started: null,
                unavailable: null,
                waiting: null,
                we_are_sorry_something_went_wrong: null,
                weekly_tournament: null,
                win_ratio: null,
                winner: null,
                xp: null,
                xp_for_next_level: null,
                you: null,
                you_received: null,
                your_latest_tournament_results: null
            }
        }
    },
    function() {
        Softgames.prototype._randomId = function() {
                return Math.floor(Math.random() * 1e8)
            },
            Softgames.prototype._randamNumber = function(e, t) {
                return Math.floor(Math.random() * (t - e) + e)
            },
            Softgames.prototype._isiPhone = function() {
                return navigator.userAgent.match(/(iPhone)/g)
            },
            Softgames.prototype._deepCopy = function(e, t, n) {
                var r, i, s;
                n = n || 0;
                if (n > t)
                    throw new Error("Object to deep");
                return s = Object.prototype.toString.call(e).replace(/\[object (.*)]/, "$1"),
                    s !== "Array" && s !== "Object" ? e : s === "Array" ? (r = [],
                        e.forEach(function(e) {
                            return r.push(Softgames.prototype._deepCopy(e, t, n + 1))
                        }),
                        r) : (i = {},
                        Object.keys(e).forEach(function(r) {
                            i[r] = Softgames.prototype._deepCopy(e[r], t, n + 1)
                        }),
                        i)
            },
            Softgames.prototype._isOperamini = function() {
                return navigator.userAgent.indexOf("Opera Mini") > -1
            },
            Softgames.prototype._urlWithoutQueryString = function(e) {
                var t;
                return t = e.indexOf("?"),
                    t === -1 ? e : e.substring(0, e.indexOf("?"))
            },
            Softgames.prototype._getPgIds = function() {
                return !this.aid || !this.gameId ? "N/A_N/A" : (this.aid + "_" + this.gid).substring(0, 40)
            },
            Softgames.prototype._isMobile = function() {
                var e;
                return e = navigator.userAgent || navigator.vendor || window.opera,
                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e) ? !0 : !1
            },
            Softgames.prototype._inIframe = function() {
                try {
                    return window.self !== window.top
                } catch (e) {
                    return !0
                }
            },
            Softgames.prototype._isIOS = function() {
                var e;
                return e = navigator.userAgent || navigator.vendor || window.opera,
                    /iPhone|iPad|iPod/i.test(e)
            },
            Softgames.prototype._isIpad = function() {
                var e;
                return e = navigator.userAgent || navigator.vendor || window.opera,
                    /iPad/i.test(e) || /iPhone OS 3_1_2/i.test(e) || /iPhone OS 3_2_2/i.test(e)
            },
            Softgames.prototype._isAndroid = function() {
                return /Android/i.test(navigator.userAgent)
            },
            Softgames.prototype._isIE = function() {
                return navigator.userAgent.match(/Trident.*rv\:11\./)
            },
            Softgames.prototype._parseGroupedFloat = function(e) {
                var t;
                return SG_jQuery.isNumeric(e) ? parseFloat(e) : (e !== null && typeof e == "string" ? (e = e.trim(),
                        t = e.replace(/[^0-9]/g, "")) : t = 0,
                    /[,\.]\d{2}$/.test(e) && (t = t.replace(/(\d{2})$/, ".$1")),
                    parseFloat(t))
            }
    }
    .call(this),
    function() {
        window.SoftgamesVoyagerLogger = function() {
            function e() {
                var e;
                e = this._getUrlParameters(),
                    this.enabledDebugLog = e.voyager_debug === "1" || e.hasOwnProperty("logLevel")
            }
            return e.prototype.log = function() {
                    var e;
                    return this.enabledDebugLog ? (e = Array.prototype.slice.call(arguments),
                        console.log.apply(console, e)) : null
                },
                e.prototype.enableDebugLog = function() {
                    return this.enabledDebugLog = !0
                },
                e.prototype.displayDebubLog = function() {
                    return this.enabledDebugLog = !1
                },
                e.prototype._getUrlParameters = function() {
                    var e = this;
                    return this._urlParameters === void 0 && (this._urlParameters = {},
                            this._location().replace(/[?&]+([^=&]+)=([^&]*)/gi, function(t, n, r) {
                                return e._urlParameters[n] = r
                            })),
                        this._urlParameters
                },
                e.prototype._getUrlParameter = function(e) {
                    var t;
                    return t = this._getUrlParameters(),
                        t[e]
                },
                e.prototype._location = function() {
                    return window.location.href
                },
                e
        }()
    }
    .call(this),
    function() {
        Softgames.prototype.conversionTriggered = !1,
            Softgames.prototype.conversionFlowAdsAmout = "ads-amount",
            Softgames.prototype.conversionFlowLevel = "level",
            Softgames.prototype.conversionFlowLevelPlus = "level+",
            Softgames.prototype.conversionFlowLevelPoints = "level-points",
            Softgames.prototype.conversionFlowBestScore = "best-score",
            Softgames.prototype._triggerConversion = function(e, t) {
                this.events.fire("triggerConversion", {
                        flow: e,
                        value: t
                    }),
                    this._getConversionLogger().debug("Conversion?", {
                        flow: e,
                        value: t,
                        adsConversionFlow: this.adsConversionFlow,
                        level: this.adsConversionLevel
                    });
                if (this.conversionTriggered === !1)
                    switch (e) {
                        case this.conversionFlowAdsAmout:
                            if (this.adsConversionFlow === this.conversionFlowAdsAmout || this.adsConversionFlow === void 0)
                                return this._triggerConversionAdsAmount(t);
                            break;
                        case this.conversionFlowLevel:
                            if (this.adsConversionFlow === this.conversionFlowLevel)
                                return this._triggerConversionLevel(t);
                            break;
                        case this.conversionFlowLevelPlus:
                            if (this.adsConversionFlow === this.conversionFlowLevelPlus)
                                return this._triggerConversionLevelPlus(t);
                            break;
                        case this.conversionFlowLevelPoints:
                            if (this.adsConversionFlow === this.conversionFlowLevelPoints)
                                return this._triggerConversionLevelPoints(t);
                            break;
                        case this.conversionFlowBestScore:
                            if (this.adsConversionFlow === this.conversionFlowBestScore)
                                return this._triggerConversionBestScore(t)
                    }
            },
            Softgames.prototype._triggerConversionAdsAmount = function(e) {
                this.adsConversionPoints === e && (this.adConversionBanner = !0);
                if (this.adConversionBanner)
                    return this._trackConversion()
            },
            Softgames.prototype._triggerConversionLevel = function(e) {
                if (e === this.adsConversionLevel)
                    return this._trackConversion()
            },
            Softgames.prototype._triggerConversionLevelPlus = function(e) {
                if (e - this.lastUserSessionLevel === this.adsConversionLevel && this.lastUserSessionLevel !== 0)
                    return this._trackConversion()
            },
            Softgames.prototype._triggerConversionLevelPoints = function(e) {
                if (e.level === this.adsConversionLevel && e.score >= this.adsConversionLevelPoints)
                    return this._trackConversion()
            },
            Softgames.prototype._triggerConversionBestScore = function(e) {
                if (e >= this.adsConversionBestScore)
                    return this._trackConversion()
            },
            Softgames.prototype._trackConversion = function() {
                var e, t = this;
                return e = function() {
                        return t.triggerConversionCustomCallback === !0 ? t._onTriggerConversion() : (t.sgConversionsHandler && t.sgConversionsHandler.isEnabled() ? t.sgConversionsHandler.convert() : (t._cleanupConverionPointTracker(),
                                t._createConverionPointTracker(t._createConversionTrackingUrl())),
                            t.resetGameOnConversion === !0 && t.gameResetHandler.reset(t.gameStorageKeys),
                            t.conversionTriggered = !0,
                            t.events.fire("conversionTracked"))
                    },
                    this._getConversionLogger().debug("Game config", {
                        gameConfig: this.game_config
                    }),
                    this.events.fire("conversionSuccessful"),
                    this.adsConversionShowPopup && !this.prize_play.isInitiated() ? (e(),
                        this.conversionPopup.showPopup(function() {
                            if (t.resetGameOnConversion === !0)
                                return t.gameResetHandler.reload()
                        })) : e()
            },
            Softgames.prototype._createConversionTrackingUrl = function() {
                var e, t, n, r, i;
                return e = "offer_ref=" + this.game_slug + this.conversionGamePostfix,
                    this.conversionOfferId !== void 0 && (n = "offer_id=" + this.conversionOfferId),
                    this.conversionOfferRef !== void 0 && (i = "offer_ref=" + this.conversionOfferRef),
                    r = i !== void 0 ? i : n !== void 0 ? n : e,
                    document.location.protocol === "https:" ? t = "https://softgames.go2cloud.org" : t = "http://tracking.softgames.de",
                    "" + t + "/aff_l?adv_sub=" + this.adsConversionUserState + "&" + r
            },
            Softgames.prototype._getConversionLogger = function() {
                return this.conversionLogger || (this.conversionLogger = new SoftgamesLogger("ConversionLogger")),
                    this.conversionLogger
            },
            Softgames.prototype._createConverionPointTracker = function(e) {
                var t;
                return this.logger.log("Conversion tracking"),
                    t = SG_jQuery(document.createElement("iframe")),
                    t.attr("src", e),
                    t.attr("id", "voyager_conversion_point_tracker"),
                    t.attr("width", "1px"),
                    t.attr("height", "1px"),
                    t.attr("scrolling", "no"),
                    t.attr("frameborder", "0"),
                    t.css({
                        display: "none"
                    }),
                    SG_jQuery("body").append(t)
            },
            Softgames.prototype._cleanupConverionPointTracker = function() {
                var e;
                e = SG_jQuery("#voyager_conversion_point_tracker");
                if (e.length)
                    return e.remove()
            }
    }
    .call(this),
    function() {
        Softgames.prototype._positionAdOnGameDetailsPage = function() {
                var e;
                return e = parseInt(SG_jQuery(document).height() * 70 / 100) - SG_jQuery("#voyager-page-header").height() - SG_jQuery("#voyager-game-container-1").height() - Math.round(parseFloat(SG_jQuery("#voyager-page-section-1").css("padding-top"))),
                    e > SG_jQuery("#voyager-game-container-2").height() ? this._moveTextAboveAd(e) : this._moveTextBelowAd(e)
            },
            Softgames.prototype._moveTextAboveAd = function(e) {
                var t, n;
                SG_jQuery("#voyager-game-container-2").text(SG_jQuery("#voyager-game-container-2").text().replace("...", "")),
                    n = SG_jQuery("#voyager-game-container-3").text().split(" "),
                    t = 0;
                while (e > SG_jQuery("#voyager-game-container-2").height() && n.length > t)
                    n[t] !== " " && n[t].indexOf("...") < 0 && SG_jQuery("#voyager-game-container-2").append(" " + n[t]),
                    t++;
                return n.length > t && SG_jQuery("#voyager-game-container-2").append("..."),
                    SG_jQuery("#voyager-game-container-3").text("..."),
                    SG_jQuery("#voyager-game-container-3").append(n.slice(t).join(" "))
            },
            Softgames.prototype._moveTextBelowAd = function(e) {
                var t, n;
                SG_jQuery("#voyager-game-container-2").text(SG_jQuery("#voyager-game-container-2").text().replace("...", "")),
                    n = SG_jQuery("#voyager-game-container-2").text().split(" "),
                    t = n.length - 1;
                while (e < SG_jQuery("#voyager-game-container-2").height() && t >= 0)
                    n[t] !== " " && n[t].indexOf("...") < 0 && SG_jQuery("#voyager-game-container-2").text("" + n.slice(0, t).join(" ") + "..."),
                    t--;
                return SG_jQuery("#voyager-game-container-3").text(SG_jQuery("#voyager-game-container-3").text().replace("...", "")),
                    SG_jQuery("#voyager-game-container-3").text("..." + n.slice(t + 1).join(" ") + " " + SG_jQuery("#voyager-game-container-3").text())
            }
    }
    .call(this),
    function() {
        Softgames.prototype.eventGameLoaded = "game-loaded",
            Softgames.prototype.eventStartingGame = "starting-game",
            Softgames.prototype.eventLevelStarted = "level-started",
            Softgames.prototype.eventLevelFinished = "level-finished",
            Softgames.prototype.eventLevelUp = "level-up",
            Softgames.prototype.eventReadyForMatch = "ready-for-match",
            Softgames.prototype.eventGameOver = "game-over",
            Softgames.prototype.eventGameCompleted = "game-completed",
            Softgames.prototype.eventGamePause = "game-pause",
            Softgames.prototype.eventGameRestart = "game-restart",
            Softgames.prototype.eventSelectLevel = "select-level",
            Softgames.prototype.eventGoto = "goto",
            Softgames.prototype.eventSound = "sound",
            Softgames.prototype.eventIncentiviseTriggered = "incentivise-triggered",
            Softgames.prototype.eventTriggerWalktrough = "trigger-walktrough",
            Softgames.prototype.eventGetHighscoresPerLevel = "get-highscores-per-level",
            Softgames.prototype.eventTriggerLogin = "trigger-login",
            Softgames.prototype.eventIsLoginButtonEnabled = "is-login-button-enabled",
            Softgames.prototype.eventPageDisplayed = "pageDisplayed",
            Softgames.prototype._level2number = function(e) {
                var t;
                return t = parseInt(e),
                    t === void 0 ? void 0 : t < 0 ? void 0 : isNaN(t) ? void 0 : t.toString().length !== e.toString().length ? void 0 : t
            },
            Softgames.prototype.trigger = function(e, t) {
                var n, r, i, s = this;
                r = null,
                    i = null,
                    n = function() {
                        r = "level",
                            i = e.level,
                            e.level !== undefined && e.level > s.lastUserSessionLevel && s._setLastUserSessionLevel(e.level),
                            s.levelUp(e.level),
                            s._displayAdAfterFirstLevel() ? s._displayAfterFirstLevelAdPopup(function() {
                                return s._enabledEndLevelFlow() ? s._startEndLevelFlow(t, 0) : typeof t == "function" ? t() : void 0
                            }) : s._enabledEndLevelFlow() ? s._startEndLevelFlow(t, 0) : s.displayBanner(t),
                            e.level !== undefined && s._triggerConversion("level", e.level),
                            e.level !== undefined && s._triggerConversion("level+", e.level),
                            e.level !== undefined && s._triggerConversion("level-points", {
                                level: e.level,
                                score: e.prevoius_level_score
                            });
                        if (s.gameBubbleConfig.on_level_up)
                            return window.addToHome.show()
                    };
                switch (e.type) {
                    case this.eventGameLoaded:
                        Softgames.prototype.events && Softgames.prototype.events.fire("gameLoaded", {});
                        break;
                    case this.eventStartingGame:
                        Softgames.prototype.events && Softgames.prototype.events.fire("gameStarted", {
                            level: e.level,
                            status: e.status
                        }, !0);
                        break;
                    case this.eventReadyForMatch:
                        Softgames.prototype.events && Softgames.prototype.events.fire("readyForMatch", {});
                        break;
                    case this.eventLevelStarted:
                        Softgames.prototype.events && Softgames.prototype.events.fire("levelStarted", {
                            level: e.level
                        });
                        break;
                    case this.eventLevelFinished:
                        Softgames.prototype.events && Softgames.prototype.events.fire("levelFinished", {
                            level: e.level,
                            score: e.score,
                            opponentScore: e.opponentScore,
                            gameRecord: e.gameRecord
                        });
                        break;
                    case this.eventPageDisplayed:
                        Softgames.prototype.events && Softgames.prototype.events.fire("gamePageDisplayed", {
                            page: e.page
                        });
                        break;
                    case this.eventLevelUp:
                        Softgames.prototype.events && Softgames.prototype.events.fire("gameLevelUp", {
                                level: e.level,
                                lastLevelScore: e.prevoius_level_score,
                                callback: n
                            }),
                            n();
                        break;
                    case this.eventGameOver:
                        Softgames.prototype.events && Softgames.prototype.events.fire("gameGameOver", {
                                level: e.level,
                                score: e.score
                            }),
                            r = "score",
                            i = e.score,
                            this._displayAdAfterFirstLevel() ? this._displayAfterFirstLevelAdPopup(function() {
                                return s._enabledEndLevelFlow() ? s._startEndLevelFlow(t, 0) : typeof t == "function" ? t() : void 0
                            }) : this._enabledEndLevelFlow() ? this._startEndLevelFlow(t, 0) : this.displayBanner(t),
                            e.score !== undefined && this._triggerConversion("best-score", e.score),
                            this.gameBubbleConfig.on_game_over && window.addToHome.show();
                        break;
                    case this.eventGameCompleted:
                        r = "score",
                            i = e.score;
                        break;
                    case this.eventGamePause:
                        r = "state",
                            i = e.state,
                            this.gameBubbleConfig.on_pause_on && e.state === "on" && window.addToHome.show();
                        break;
                    case this.eventSelectLevel:
                        r = "level",
                            i = e.level;
                        break;
                    case this.eventGoto:
                        r = "view",
                            i = e.view;
                        break;
                    case this.eventSound:
                        r = "state",
                            i = e.state;
                        break;
                    case this.eventIncentiviseTriggered:
                        this.incentivise.trigger(t);
                        break;
                    case this.eventTriggerWalktrough:
                        Softgames.prototype.events.fire("triggerWalktrough", {})
                }
                return this._trackEvent(e.type, r, i)
            }
    }
    .call(this),
    function() {
        Softgames.prototype.lastUserSessionLevel = void 0,
            Softgames.prototype.gameLevelCookie = "sg-game-level",
            Softgames.prototype._setLastUserSessionLevel = function(e) {
                return SG_jQuery.cookie(this.gameLevelCookie, e, {
                    expires: 30
                })
            },
            Softgames.prototype._loadLastUserSessionLevel = function() {
                try {
                    this.lastUserSessionLevel = parseInt(SG_jQuery.cookie(this.gameLevelCookie))
                } catch (e) {
                    this.logger.log("Level is not a number: " + e)
                }
                if (this.lastUserSessionLevel === null || isNaN(this.lastUserSessionLevel))
                    return this.lastUserSessionLevel = 0
            }
    }
    .call(this),
    function() {
        window.addToHomeConfig = {
                automatic: !1,
                returningVisitor: !1,
                animationIn: "drop",
                animationOut: "fade",
                startDelay: 500,
                lifespan: 5e3,
                bottomOffset: 14,
                expire: 0,
                touchIcon: !1,
                arrow: !0
            },
            Softgames.prototype._addToHomeConfig = function() {
                return this._hasAppleIcon() && (window.addToHomeConfig.touchIcon = !0),
                    window.addToHomeConfig.message = "" + this.game_bubble_text,
                    window.addToHome.init()
            }
    }
    .call(this);
var addToHome = function(e) {
    function w() {
        if (!n)
            return;
        var a = Date.now(),
            f;
        if (e.addToHomeConfig)
            for (f in e.addToHomeConfig)
                y[f] = e.addToHomeConfig[f];
        y.autostart || (y.hookOnLoad = !1),
            r = /ipad/gi.test(t.platform),
            i = e.devicePixelRatio && e.devicePixelRatio > 1,
            s = /Safari/i.test(t.appVersion) && !/CriOS/i.test(t.appVersion),
            o = t.standalone,
            u = t.appVersion.match(/OS (\d+_\d+)/i),
            u = u && u[1] ? +u[1].replace("_", ".") : 0,
            l = +e.localStorage.getItem("addToHome"),
            h = e.sessionStorage.getItem("addToHomeSession"),
            p = y.returningVisitor ? l && l + 24192e5 > a : !0,
            l || (l = a),
            c = p && l <= a,
            y.hookOnLoad ? e.addEventListener("load", E, !1) : !y.hookOnLoad && y.autostart && E()
    }

    function E() {
        e.removeEventListener("load", E, !1),
            p ? y.expire && c && e.localStorage.setItem("addToHome", Date.now() + y.expire * 6e4) : e.localStorage.setItem("addToHome", Date.now());
        if (!v && (!s || !c || h || o || !p))
            return;
        var n = "",
            a = t.platform.split(" ")[0],
            f = t.language.replace("-", "_");
        d = document.createElement("div"),
            d.id = "addToHomeScreen",
            d.style.cssText += "left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:" + (u < 5 ? "absolute" : "fixed"),
            y.message in b && (f = y.message,
                y.message = ""),
            y.message === "" && (y.message = f in b ? b[f] : b.en_us),
            y.touchIcon && (n = i ? "http://games.softgames.de/assets/images/touch-icon-iphone-retina.png" : "http://games.softgames.de/assets/images/touch-icon-iphone.png",
                n ? n = '<span style="background-image:url(' + n + ')" class="addToHomeTouchIcon"></span>' : n = ""),
            d.className = (u >= 7 ? "addToHomeIOS7 " : "") + (r ? "addToHomeIpad" : "addToHomeIphone") + (n ? " addToHomeWide" : ""),
            d.innerHTML = n + y.message.replace("%device", a).replace("%icon", u >= 4.2 ? '<span class="addToHomeShare"></span>' : '<span class="addToHomePlus">+</span>') + (y.arrow ? '<span class="addToHomeArrow"' + (u >= 7 && r && n ? ' style="margin-left:-32px"' : "") + "></span>" : "") + (y.closeButton ? '<span class="addToHomeClose">x</span>' : ""),
            document.body.appendChild(d),
            y.closeButton && d.addEventListener("click", N, !1), !r && u >= 6 && window.addEventListener("orientationchange", A, !1),
            setTimeout(S, y.startDelay)
    }

    function S() {
        var t, n = 208;
        if (r) {
            u < 5 ? (f = e.scrollY,
                    a = e.scrollX) : u < 6 ? n = 160 : u >= 7 && (n = 143),
                d.style.top = f + y.bottomOffset + "px",
                d.style.left = Math.max(a + n - Math.round(d.offsetWidth / 2), 9) + "px";
            switch (y.animationIn) {
                case "drop":
                    t = "0.6s",
                        d.style.webkitTransform = "translate3d(0," + -(e.scrollY + y.bottomOffset + d.offsetHeight) + "px,0)";
                    break;
                case "bubble":
                    t = "0.6s",
                        d.style.opacity = "0",
                        d.style.webkitTransform = "translate3d(0," + (f + 50) + "px,0)";
                    break;
                default:
                    t = "1s",
                        d.style.opacity = "0"
            }
        } else {
            f = e.innerHeight + e.scrollY,
                u < 5 ? (a = Math.round((e.innerWidth - d.offsetWidth) / 2) + e.scrollX,
                    d.style.left = a + "px",
                    d.style.top = f - d.offsetHeight - y.bottomOffset + "px") : (d.style.left = "50%",
                    d.style.marginLeft = -Math.round(d.offsetWidth / 2) - (e.orientation % 180 && u >= 6 && u < 7 ? 40 : 0) + "px",
                    d.style.bottom = y.bottomOffset + "px");
            switch (y.animationIn) {
                case "drop":
                    t = "1s",
                        d.style.webkitTransform = "translate3d(0," + -(f + y.bottomOffset) + "px,0)";
                    break;
                case "bubble":
                    t = "0.6s",
                        d.style.webkitTransform = "translate3d(0," + (d.offsetHeight + y.bottomOffset + 50) + "px,0)";
                    break;
                default:
                    t = "1s",
                        d.style.opacity = "0"
            }
        }
        d.offsetHeight,
            d.style.webkitTransitionDuration = t,
            d.style.opacity = "1",
            d.style.webkitTransform = "translate3d(0,0,0)",
            d.addEventListener("webkitTransitionEnd", C, !1),
            g = setTimeout(T, y.lifespan)
    }

    function x(e) {
        if (!n || d)
            return;
        v = e,
            E()
    }

    function T() {
        clearInterval(m),
            clearTimeout(g),
            g = null;
        if (!d)
            return;
        var t = 0,
            n = 0,
            i = "1",
            s = "0";
        y.closeButton && d.removeEventListener("click", N, !1), !r && u >= 6 && window.removeEventListener("orientationchange", A, !1),
            u < 5 && (t = r ? e.scrollY - f : e.scrollY + e.innerHeight - f,
                n = r ? e.scrollX - a : e.scrollX + Math.round((e.innerWidth - d.offsetWidth) / 2) - a),
            d.style.webkitTransitionProperty = "-webkit-transform,opacity";
        switch (y.animationOut) {
            case "drop":
                r ? (s = "0.4s",
                    i = "0",
                    t += 50) : (s = "0.6s",
                    t += d.offsetHeight + y.bottomOffset + 50);
                break;
            case "bubble":
                r ? (s = "0.8s",
                    t -= d.offsetHeight + y.bottomOffset + 50) : (s = "0.4s",
                    i = "0",
                    t -= 50);
                break;
            default:
                s = "0.8s",
                    i = "0"
        }
        d.addEventListener("webkitTransitionEnd", C, !1),
            d.style.opacity = i,
            d.style.webkitTransitionDuration = s,
            d.style.webkitTransform = "translate3d(" + n + "px," + t + "px,0)"
    }

    function N() {
        e.sessionStorage.setItem("addToHomeSession", "1"),
            h = !0,
            T()
    }

    function C() {
        d.removeEventListener("webkitTransitionEnd", C, !1),
            d.style.webkitTransitionProperty = "-webkit-transform",
            d.style.webkitTransitionDuration = "0.2s";
        if (!g) {
            d.parentNode.removeChild(d),
                d = null;
            return
        }
        u < 5 && g && (m = setInterval(k, y.iterations))
    }

    function k() {
        var t = new WebKitCSSMatrix(e.getComputedStyle(d, null).webkitTransform),
            n = r ? e.scrollY - f : e.scrollY + e.innerHeight - f,
            i = r ? e.scrollX - a : e.scrollX + Math.round((e.innerWidth - d.offsetWidth) / 2) - a;
        if (n == t.m42 && i == t.m41)
            return;
        d.style.webkitTransform = "translate3d(" + i + "px," + n + "px,0)"
    }

    function L() {
        e.localStorage.removeItem("addToHome"),
            e.sessionStorage.removeItem("addToHomeSession")
    }

    function A() {
        d.style.marginLeft = -Math.round(d.offsetWidth / 2) - (e.orientation % 180 && u >= 6 && u < 7 ? 40 : 0) + "px"
    }
    var t = e.navigator,
        n = "platform" in t && /iphone|ipod|ipad/gi.test(t.platform),
        r, i, s, o, u, a = 0,
        f = 0,
        l = 0,
        c, h, p, d, v, m, g, y = {
            autostart: !0,
            returningVisitor: !1,
            animationIn: "drop",
            animationOut: "fade",
            startDelay: 2e3,
            lifespan: 15e3,
            bottomOffset: 14,
            expire: 0,
            message: "",
            touchIcon: !1,
            arrow: !0,
            hookOnLoad: !0,
            closeButton: !0,
            iterations: 100
        },
        b = {
            ar: '<span dir="rtl">賯賲 亘鬲孬亘賷鬲 賴匕丕 丕賱鬲胤亘賷賯 毓賱賶 <span dir="ltr">%device:</span>丕賳賯乇<span dir="ltr">%icon</span> 貙<strong>孬賲 丕囟賮賴 丕賱賶 丕賱卮丕卮丞 丕賱乇卅賷爻賷丞.</strong></span>',
            ca_es: "Per instal路lar aquesta aplicaci贸 al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",
            cs_cz: "Pro instalaci aplikace na V谩拧 %device, stiskn臎te %icon a v nab铆dce <strong>P艡idat na plochu</strong>.",
            da_dk: "Tilf酶j denne side til din %device: tryk p氓 %icon og derefter <strong>F酶j til hjemmesk忙rm</strong>.",
            de_de: "Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",
            el_gr: "螘纬魏伪蟿伪蟽蟿萎蟽蔚蟿蔚 伪蠀蟿萎谓 蟿畏谓 螘蠁伪蟻渭慰纬萎 蟽蟿萎谓 蟽蠀蟽魏蔚蠀萎 蟽伪蟼 %device: %icon 渭蔚蟿维 蟺伪蟿维蟿蔚 <strong>螤蟻慰蟽胃萎魏畏 蟽蔚 螒蠁蔚蟿畏蟻委伪</strong>.",
            en_us: "Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",
            es_es: "Para instalar esta app en su %device, pulse %icon y seleccione <strong>A帽adir a pantalla de inicio</strong>.",
            fi_fi: "Asenna t盲m盲 web-sovellus laitteeseesi %device: paina %icon ja sen j盲lkeen valitse <strong>Lis盲盲 Koti-valikkoon</strong>.",
            fr_fr: "Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Sur l'茅cran d'accueil</strong>.",
            he_il: '<span dir="rtl">讛转拽谉 讗驻诇讬拽爪讬讛 讝讜 注诇 讛-%device 砖诇讱: 讛拽砖 %icon 讜讗讝 <strong>讛讜住祝 诇诪住讱 讛讘讬转</strong>.</span>',
            hr_hr: "Instaliraj ovu aplikaciju na svoj %device: klikni na %icon i odaberi <strong>Dodaj u po膷etni zaslon</strong>.",
            hu_hu: "Telep铆tse ezt a web-alkalmaz谩st az 脰n %device-j谩ra: nyomjon a %icon-ra majd a <strong>F艖k茅perny艖h枚z ad谩s</strong> gombra.",
            it_it: "Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",
            ja_jp: "銇撱伄銈︺偋銉栥偄銉椼儶銈掋亗銇仧銇�%device銇偆銉炽偣銉堛兗銉仚銈嬨伀銇�%icon銈掋偪銉冦儣銇椼仸<strong>銉涖兗銉犵敾闈€伀杩藉姞</strong>銈掗伕銈撱仹銇忋仩銇曘亜銆�",
            ko_kr: '%device鞐� 鞗轨暠鞚� 靹れ箻頃橂牑氅� %icon鞚� 韯办箻 頉� "頇堩檾氅挫棎 於旉皜"毳� 靹犿儩頃橃劯鞖�',
            nb_no: "Installer denne appen p氓 din %device: trykk p氓 %icon og deretter <strong>Legg til p氓 Hjem-skjerm</strong>",
            nl_nl: "Installeer deze webapp op uw %device: tik %icon en dan <strong>Voeg toe aan beginscherm</strong>.",
            pl_pl: "Aby zainstalowa膰 t臋 aplikacje na %device: naci艣nij %icon a nast臋pnie <strong>Dodaj jako ikon臋</strong>.",
            pt_br: "Instale este aplicativo em seu %device: aperte %icon e selecione <strong>Adicionar 脿 Tela Inicio</strong>.",
            pt_pt: "Para instalar esta aplica莽茫o no seu %device, prima o %icon e depois em <strong>Adicionar ao ecr茫 principal</strong>.",
            ru_ru: "校褋褌邪薪芯胁懈褌械 褝褌芯 胁械斜-锌褉懈谢芯卸械薪懈械 薪邪 胁邪褕 %device: 薪邪卸屑懈褌械 %icon, 蟹邪褌械屑 <strong>袛芯斜邪胁懈褌褜 胁 芦袛芯屑芯泄禄</strong>.",
            sv_se: "L盲gg till denna webbapplikation p氓 din %device: tryck p氓 %icon och d盲refter <strong>L盲gg till p氓 hemsk盲rmen</strong>.",
            th_th: "喔曕复喔斷笗喔编箟喔囙箑喔о箛喔氞箒喔笧喔� 喔權傅喙夃笟喔� %device 喔傕腑喔囙竸喔膏笓: 喙佮笗喔� %icon 喙佮弗喔� <strong>喙€喔炧复喙堗浮喔椸傅喙堗斧喔權箟喔侧笀喔箓喔浮</strong>",
            tr_tr: "Bu uygulamay谋 %device'a eklemek i莽in %icon simgesine sonras谋nda <strong>Ana Ekrana Ekle</strong> d眉臒mesine bas谋n.",
            uk_ua: "袙褋褌邪薪芯胁褨褌褜 褑械泄 胁械斜 褋邪泄褌 薪邪 袙邪褕 %device: 薪邪褌懈褋薪褨褌褜 %icon, 邪 锌芯褌褨屑 <strong>袧邪 锌芯褔邪褌泻芯胁懈泄 械泻褉邪薪</strong>.",
            zh_cn: "鎮ㄥ彲浠ュ皢姝ゅ簲鐢ㄥ畨瑁呭埌鎮ㄧ殑 %device 涓娿€傝鎸� %icon 鐒跺悗閫夋嫨<strong>娣诲姞鑷充富灞忓箷</strong>銆�",
            zh_tw: "鎮ㄥ彲浠ュ皣姝ゆ噳鐢ㄧ▼寮忓畨瑁濆埌鎮ㄧ殑 %device 涓娿€傝珛鎸� %icon 鐒跺緦榛為伕<strong>鍔犲叆涓荤暙闈㈣灑骞�</strong>銆�"
        };
    return w(), {
        show: x,
        close: T,
        reset: L,
        init: w
    }
}(window);
(function(e) {
    e.fn.textfill = function(t) {
        function i() {
            if (!r.debug || typeof console == "undefined" || typeof console.debug == "undefined")
                return;
            console.debug.apply(console, arguments)
        }

        function s() {
            if (typeof console == "undefined" || typeof console.warn == "undefined")
                return;
            console.warn.apply(console, arguments)
        }

        function o(e, t, n, r, s, o) {
            function u(e, t) {
                var n = " / ";
                return e > t ? n = " > " : e == t && (n = " = "),
                    n
            }
            i("[TextFill] " + e + " { " + "font-size: " + t.css("font-size") + "," + "Height: " + t.height() + "px " + u(t.height(), n) + n + "px," + "Width: " + t.width() + u(t.width(), r) + r + "," + "minFontPixels: " + s + "px, " + "maxFontPixels: " + o + "px }")
        }

        function u(e, t, n, r, i, s, u, a) {
            o(e, t, i, s, u, a);
            while (u < a - 1) {
                var f = Math.floor((u + a) / 2);
                t.css("font-size", f);
                if (n.call(t) <= r) {
                    u = f;
                    if (n.call(t) == r)
                        break
                } else
                    a = f;
                o(e, t, i, s, u, a)
            }
            return t.css("font-size", a),
                n.call(t) <= r && (u = a,
                    o(e + "* ", t, i, s, u, a)),
                u
        }
        var n = {
                debug: !1,
                maxFontPixels: 40,
                minFontPixels: 4,
                innerTag: "span",
                widthOnly: !1,
                success: null,
                callback: null,
                fail: null,
                complete: null,
                explicitWidth: null,
                explicitHeight: null,
                changeLineHeight: !1
            },
            r = e.extend(n, t);
        return i("[TextFill] Start Debug"),
            this.each(function() {
                var t = e(r.innerTag + ":visible:first", this),
                    n = r.explicitHeight || e(this).height(),
                    o = r.explicitWidth || e(this).width(),
                    a = t.css("font-size"),
                    f = parseFloat(t.css("line-height")) / parseFloat(a);
                i("[TextFill] Inner text: " + t.text()),
                    i("[TextFill] All options: ", r),
                    i("[TextFill] Maximum sizes: { Height: " + n + "px, " + "Width: " + o + "px" + " }");
                var l = r.minFontPixels,
                    c = r.maxFontPixels <= 0 ? n : r.maxFontPixels,
                    h = undefined;
                r.widthOnly || (h = u("Height", t, e.fn.height, n, n, o, l, c));
                var p = undefined;
                p = u("Width", t, e.fn.width, o, n, o, l, c);
                if (r.widthOnly)
                    t.css({
                        "font-size": p,
                        "white-space": "nowrap"
                    }),
                    r.changeLineHeight && t.parent().css("line-height", f * p + "px");
                else {
                    var d = Math.min(h, p);
                    t.css("font-size", d),
                        r.changeLineHeight && t.parent().css("line-height", f * d + "px")
                }
                i("[TextFill] Finished { Old font-size: " + a + ", " + "New font-size: " + t.css("font-size") + " }"),
                    t.width() > o || t.height() > n && !r.widthOnly ? (t.css("font-size", a),
                        r.fail && r.fail(this),
                        i("[TextFill] Failure { Current Width: " + t.width() + ", " + "Maximum Width: " + o + ", " + "Current Height: " + t.height() + ", " + "Maximum Height: " + n + " }")) : r.success ? r.success(this) : r.callback && (s("callback is deprecated, use success, instead"),
                        r.callback(this))
            }),
            r.complete && r.complete(this),
            i("[TextFill] End Debug"),
            this
    }
})(window.jQuery),
function() {
    window.VoyagerApi = function() {
        function e(e, t, n) {
            this.api = e,
                this.game = t,
                this.user = n
        }
        return e.prototype.getScore = function() {},
            e.prototype.sendScore = function(e, t) {},
            e.prototype.levelUp = function(e, t) {},
            e.prototype.rate = function(e, t) {},
            e.prototype._apiRequest = function(e, t, n, r, i) {
                var s;
                return t = this._apiUrl(t, n),
                    console.log("Request page content with voyager:", t),
                    navigator.userAgent.toLowerCase().indexOf("android") >= 0 && e === "GET" && (t += "&android-buster=" + Math.random()),
                    s = this._openXHR(e, t),
                    s.setRequestHeader("Content-Type", "application/json-rpc"),
                    s.setRequestHeader("Softgames-Voyager-Version", "2017-06-09 13:52:07 +0000"),
                    s.onload = function() {
                        return typeof i == "function" ? i(JSON.parse(s.responseText)) : void 0
                    },
                    s.onerror = function() {
                        return console.log("Request failed.", e, t)
                    },
                    s.send(JSON.stringify(r)),
                    s
            },
            e.prototype._apiUrl = function(e, t) {
                return e + "?" + this._queryString(t)
            },
            e.prototype._queryString = function(e) {
                var t, n, r;
                t = [];
                for (n in e)
                    r = e[n],
                    r != null && t.push("" + n + "=" + encodeURIComponent(r));
                return t.join("&")
            },
            e.prototype._openXHR = function(e, t) {
                var n;
                n = new XMLHttpRequest;
                if (this._isCorsSupported(n))
                    n.open(e, t, !0);
                else {
                    if (typeof XDomainRequest == "undefined")
                        throw n = null,
                            console.log("CORS is not supported by the browser.", e, t),
                            new Error("CORS not supported.");
                    n = new XDomainRequest,
                        n.open(e, t)
                }
                return n
            },
            e.prototype._isCorsSupported = function(e) {
                return e.withCredentials != null
            },
            e
    }()
}
.call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n)
                    e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype,
                    t.prototype = new i,
                    t.__super__ = n.prototype,
                    t
            };
        window.SoftgamesKirk = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e),
                n.prototype.getScore = function() {
                    return console.log("Get score")
                },
                n.prototype.sendScore = function(e, t) {
                    return typeof t == "function" ? t() : void 0
                },
                n.prototype.getScores = function(e, t) {
                    return typeof t == "function" ? t() : void 0
                },
                n.prototype.rate = function(e, t) {
                    if (e !== undefined)
                        return this._apiRequest("POST", "" + this.api.kirk_host + "rate/" + this.game + "/" + this.user + "/" + e, null, null, t)
                },
                n
        }(VoyagerApi)
    }
    .call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n)
                    e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype,
                    t.prototype = new i,
                    t.__super__ = n.prototype,
                    t
            };
        window.SoftgamesMocospace = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e),
                n
        }(VoyagerApi)
    }
    .call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n)
                    e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype,
                    t.prototype = new i,
                    t.__super__ = n.prototype,
                    t
            };
        window.SoftgamesQeep = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e),
                n
        }(VoyagerApi)
    }
    .call(this),
    function() {
        var e = {}.hasOwnProperty,
            t = function(t, n) {
                function i() {
                    this.constructor = t
                }
                for (var r in n)
                    e.call(n, r) && (t[r] = n[r]);
                return i.prototype = n.prototype,
                    t.prototype = new i,
                    t.__super__ = n.prototype,
                    t
            };
        window.SoftgamesSandbox = function(e) {
            function n() {
                return n.__super__.constructor.apply(this, arguments)
            }
            return t(n, e),
                n.prototype.getScore = function() {
                    return console.log("Get score")
                },
                n.prototype.sendScore = function(e, t) {
                    return console.log("SANDBOX { " + this.game + " } [ " + this.user + " ] Send score: " + e),
                        typeof t == "function" ? t() : void 0
                },
                n.prototype.levelUp = function(e, t) {
                    return console.log("SANDBOX { " + this.game + " } [ " + this.user + " ] Level: " + e),
                        typeof t == "function" ? t() : void 0
                },
                n.prototype.rate = function(e, t) {
                    return console.log("SANDBOX { " + this.game + " [ " + this.user + " ] Rate: " + e + " }"),
                        typeof t == "function" ? t() : void 0
                },
                n
        }(VoyagerApi)
    }
    .call(this),
    window.SG_jQuery = jQuery.noConflict(!0),
    function(e, t) {
        "use strict";
        try {
            if (!t)
                throw new Error("No window variable defined!");
            var n = function(n) {
                function i(e) {
                    e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                    var n = new RegExp("[\\?&]" + e + "=([^&#]*)"),
                        r = n.exec(t.location.search);
                    return r === null ? !1 : decodeURIComponent(r[1].replace(/\+/g, " "))
                }

                function o(e) {
                    return "[" + n + "] " + e
                }

                function u(t, n) {
                    var r = o(t);
                    e && (n ? e.log(r, n) : e.log(r))
                }

                function a(t, n) {
                    var r = o(t);
                    e && (n ? (e.error(r, n),
                        n.error && e.log(n.error)) : e.error(r))
                }

                function f(e, t) {
                    var n = e.message,
                        r = {};
                    t && (r.data = t),
                        e.data && (r.errorData = e.data),
                        r.stacktrace = e.stack,
                        r.error = e,
                        a(n, r)
                }
                var r = 4,
                    s = i("logLevel");
                if (s === !1 || isNaN(s) || s < -1 || s > 10)
                    s = r;
                this.error = function(e, t) {
                        s < 4 && (e instanceof Error ? f(e, t) : a(e, t))
                    },
                    this.warn = function(e, t) {
                        s < 3 && u(e, t)
                    },
                    this.notice = function(e, t) {
                        s < 2 && u(e, t)
                    },
                    this.info = function(e, t) {
                        s < 1 && u(e, t)
                    },
                    this.debug = function(e, t) {
                        s < 0 && u(e, t)
                    },
                    this.log = function(e, t, n) {
                        s < e - 1 && u(t, n)
                    }
            };
            t.SoftgamesLogger = n
        } catch (r) {
            throw e && e.error("[logger] " + r.message, r.stack),
                r
        }
    }(console, window),
    function(e, t, n, r, i) {
        "use strict";
        // debugger;
        var s = "cookieVerificator";
        try {
            if (!n)
                throw new Error("No window variable defined!");
            if (!i)
                throw new Error("No SG_jQuery defined!");
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!i.cookie)
                throw new Error("No jQuery cookie defined!");
            var o = new e(s),
                u = function() {
                    function h(n) {
                        return n[e] == t
                    }

                    function p() {
                        var e = !1;
                        return document && document.location && (e = "https:" === document.location.protocol),
                            e ? "https:" : "http:"
                    }

                    function d() {
                        i.cookie(s, Date.now()),
                            r.back()
                    }

                    function v() {
                        var e = String(Date.now());
                        return i.cookie(s, e),
                            i.cookie(s) !== e
                    }

                    function m() {
                        var r = n.location.href,
                            i = e + "=" + t,
                            s = "?";
                        n.location.search !== "" && (s = "&"),
                            r = r + s + i,
                            top.window.location = r
                    }

                    function g() {
                        i.cookie(u, a)
                    }

                    function y() {
                        return i.cookie(u) === a
                    }

                    function b(e, t) {
                        try {
                            i.ajax({
                                dataType: "json",
                                url: e,
                                method: "GET",
                                cache: !0,
                                ifModified: !0
                            }).done(function(e, n, r) {
                                t(null, e, r)
                            }).fail(function(e, n, r) {
                                t(new Error(r))
                            })
                        } catch (n) {
                            t(n)
                        }
                    }

                    function w(e) {
                        try {
                            var t = new Date(Date.now() - 864e5),
                                n = t.getTime(),
                                r = p() + "//" + l;
                            b(r, function(r, i, s) {
                                try {
                                    if (r)
                                        throw r;
                                    var u = {
                                        id: i.userId,
                                        old: !1
                                    };
                                    if (s.getResponseHeader("Last-Modified")) {
                                        var a = s.getResponseHeader("Last-Modified"),
                                            f = new Date(a),
                                            l = f.getTime();
                                        o.debug("Old or new?", {
                                                yesterday: {
                                                    date: t,
                                                    ts: n
                                                },
                                                response: {
                                                    date: f,
                                                    ts: l
                                                }
                                            }),
                                            l < n && (u.old = !0)
                                    }
                                    e(null, u)
                                } catch (r) {
                                    e(r)
                                }
                            })
                        } catch (i) {
                            e(i)
                        }
                    }

                    function E(e, t) {
                        try {
                            var n = p() + "//" + c.replace("{#userId}", e);
                            b(n, function(e, n) {
                                try {
                                    if (e)
                                        throw e;
                                    if (!n || !n.timesVisited)
                                        throw new Error("Invalid response");
                                    var r = parseInt(n.timesVisited);
                                    if (!r)
                                        throw new Error("Invalid amount of visits: " + r);
                                    t(null, r)
                                } catch (e) {
                                    t(e)
                                }
                            })
                        } catch (r) {
                            t(r)
                        }
                    }

                    function S() {
                        v() ? w(function(e, t) {
                            try {
                                if (e)
                                    throw e;
                                t.old ? o.info("Tried to fix cookie problem, but failed. Skip further attempts.") : E(t.id, function(e, t) {
                                    try {
                                        if (e)
                                            throw e;
                                        var r = n.softgames.subplatform,
                                            i = 1;
                                        r != undefined && (r == "test_alexey" ? i = 3 : i = 1),
                                            o.info("timesVisited " + t + " detected"),
                                            o.info("customTimesVisited " + i + " detected"),
                                            t > i ? o.info("Tried to fix cookie problem, but failed. Skip further attempts.") : (o.info("Cookie check failed. Trying to fix ..."),
                                                m())
                                    } catch (e) {
                                        o.error("Cannot request times visited amount for checking:", e.message),
                                            o.error(e)
                                    }
                                })
                            } catch (e) {
                                o.error("Cannot request a user for checking:", e.message)
                            }
                        }) : o.info("Cookie test passed")
                    }
                    // debugger;
                    var e = "cookieBack",
                        t = "y",
                        s = "runningBunny",
                        u = "stopedBunny",
                        a = "done",
                        f = "m.sgc.io",
                        l = "//" + f + "/browser_cache_verifications.json",
                        c = "//" + f + "/browser_cache_verifications/{#userId}/times_visited.json";
                    this.isCookieRedirection = h,
                        this.redirectBack = d,
                        this.isCookieDisabled = v,
                        this.gotoCookieConfirmation = m,
                        this.markCookieRedirection = g,
                        this.isStopped = y,
                        this.checkCookie = S,
                        this.getUser = w
                };
            Softgames.prototype.cookieVerificatorHandler = new u
        } catch (a) {
            throw t && t.error("[logger] " + a.message, a.stack),
                a
        }
    }(SoftgamesLogger, console, window, history, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "locale";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            var r = new t(n),
                i = function() {
                    function e() {
                        var e = navigator.languages || navigator.userLanguages,
                            t;
                        return e !== undefined && (t = e[0]),
                            t !== undefined ? t.split("-")[0] : undefined
                    }
                    this.localeFromClient = e
                };
            e.prototype.localeHandler = new i,
                r.debug("Added localeHandler to Softgames-Prototype")
        } catch (s) {
            throw console && console.error("[" + n + "] " + s.message, s.stack),
                s
        }
    }(Softgames, SoftgamesLogger),
    function(e, t, n, r) {
        "use strict";
        try {
            if (!t)
                throw new Error("No window variable defined!");
            if (!r)
                throw new Error("SoftgamesLogger not defined!");
            var i = function() {
                var e = "imagesPreloader",
                    t = new r(e),
                    i = function(e, t, n, r) {
                        var i = new Image;
                        i.onload = function() {
                                n(e)
                            },
                            i.onerror = function() {
                                r(e)
                            },
                            i.src = t
                    },
                    s = function(e) {
                        e.resolve()
                    },
                    o = function(e) {
                        e.reject()
                    },
                    u = function(e, r, u) {
                        try {
                            var a = e + r,
                                f = n.Deferred();
                            return i(f, a, s, o),
                                n.when(f.promise()).then(function() {
                                    t.info("Image loading succeeded: " + a),
                                        u(null, !0, a)
                                }, function() {
                                    t.error("Image loading failed: " + a),
                                        u(null, !1)
                                }),
                                f
                        } catch (l) {
                            u(l)
                        }
                    },
                    a = function(e, r, i) {
                        try {
                            u(e, r[0], function(s, o, a) {
                                try {
                                    if (s)
                                        throw s;
                                    var f = {};
                                    f[r[0]] = a;
                                    var l = [];
                                    for (var c = 1; c < r.length; c++)
                                        l.push(u(e, r[c], function() {}).promise()),
                                        f[r[c]] = e + r[c];
                                    n.when.apply(n, l).then(function() {
                                        t.info("All images on set " + r.join() + " loading succeeded"),
                                            i(null, !0, f)
                                    }, function() {
                                        t.error("Rest of images on set " + r.join() + " loading failed"),
                                            i(null, !1)
                                    })
                                } catch (s) {
                                    i(s, !1),
                                        t.error("First image of the set " + r.join() + " loading failed")
                                }
                            })
                        } catch (s) {
                            i(s)
                        }
                    };
                return {
                    loadImage: u,
                    loadImageSet: a
                }
            };
            t.imagesPreloader = i
        } catch (s) {
            throw e && e.error("[imagesPreloader] " + s.message, s.stack),
                s
        }
    }(console, window, SG_jQuery, SoftgamesLogger),
    function(e, t, n, r) {
        "use strict";

        function l() {
            var e = !1;
            return r && r.location && (e = "https:" === r.location.protocol),
                e ? "https:" : "http:"
        }

        function c(e, t, n, r) {
            var i = e.getElementsByTagName("script")[0];
            if (e.getElementById(n))
                return;
            var s = e.createElement(t);
            s.id = n,
                t === "script" ? s.src = r : t === "link" && (s.href = r,
                    s.rel = "stylesheet"),
                i.parentNode.insertBefore(s, i)
        }

        function h() {
            c(r, "script", "bootstrap-js", s)
        }

        function p() {
            c(r, "script", "aes-crypt", f)
        }

        function d() {
            c(r, "link", "bootstrap-css", o)
        }

        function v() {
            c(r, "link", "bootstrap-theme-css", u)
        }

        function m() {
            c(r, "link", "font-awesome-css", a)
        }

        function g() {
            n.jQuery = e
        }

        function y() {
            e(r).off(".data-api")
        }

        function b() {
            g(),
                d(),
                h(),
                p(),
                v(),
                m(),
                y()
        }
        var i = "bootstrap", // s = l() + "//dop3jnx8my3ym.cloudfront.net/bootstrap/3.3.6/bootstrap.min.js",
            // o = l() + "//dop3jnx8my3ym.cloudfront.net/bootstrap/3.3.6/bootstrap.min.css",
            // u = l() + "//dop3jnx8my3ym.cloudfront.net/bootstrap/3.3.6/bootstrap-theme.min.css",
            // a = l() + "//dop3jnx8my3ym.cloudfront.net/fontawesome/4.5.0/css/font-awesome.min.css",
            s = "../assets/bootstrap/3.3.6/bootstrap.min.js",
            o = "../assets/bootstrap/3.3.6/bootstrap.min.css",
            u = "../assets/bootstrap/3.3.6/bootstrap-theme.min.css",
            a = "../assets/bootstrap/3.3.6/font-awesome.min.css",
            f = "../assets/aes.js";
        try {
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!e)
                throw new Error("No SG_jQuery defined!");
            var w = new t(i);
            b(),
                w.debug("Added bootstrap to page")
        } catch (E) {
            throw console && console.error("[" + i + "] " + E.message, E.stack),
                E
        }
    }(SG_jQuery, SoftgamesLogger, window, document),
    function(e) {
        "use strict";
        var t = "events",
            n = e.Softgames,
            r = e.SoftgamesLogger;
        try {
            if (!n)
                throw new Error("No Softgames variable defined!");
            if (!r)
                throw new Error("SoftgamesLogger not defined!");
            var i = new r(t),
                s = function() {
                    var e = this,
                        t = {},
                        n = {};
                    this.fire = function(e, r, s) {
                            s = !!s || !1;
                            try {
                                if (!e)
                                    throw new Error("No event string given");
                                i.debug('Starts to execute all eventListeners for event "' + e + '" [Count:' + (t[e] ? t[e].length : 0) + "]" + (s ? " and adding to delayed hooks" : ""));
                                var o = 0;
                                if (t[e]) {
                                    var u = null,
                                        a = null,
                                        f = t[e].slice();
                                    for (var l = 0; l < f.length; l++)
                                        try {
                                            u = f[l],
                                                a = null,
                                                typeof u != "function" && (u = u.callback,
                                                    a = u.moduleName),
                                                i.debug('Executing event listener for event "' + e + '" (Index:' + l + ") for module" + a + " ..."),
                                                u(r),
                                                i.debug('... executed event listener for event "' + e + '" (Index:' + l + ") for module" + a)
                                        } catch (c) {
                                            c.message = 'Failed to execute event listener for event "' + e + '": ' + c.message,
                                                i.error(c),
                                                o++
                                        }
                                }
                                s && (n[e] = r),
                                    o === 0 && i.debug("Executed all eventListeners of event " + e)
                            } catch (c) {
                                c.message = "Failed to execute all event listeners: " + c.message,
                                    i.error(c)
                            }
                        },
                        this.on = function(r, s, o, u) {
                            try {
                                var a = "[not given]";
                                o = o || a,
                                    i.debug("Connecting event listener for event", r, "for module", o, " ...");
                                if (!r)
                                    throw new Error("No event string given");
                                if (!s)
                                    throw new Error("No callback given for hooking event:" + r);
                                if ("function" != typeof s)
                                    throw new Error("Given callback is no function for hooking event:" + r);
                                u = u || s.name || a,
                                    t[r] || (t[r] = []),
                                    e.remove(r, s),
                                    o !== a ? t[r].push({
                                        moduleName: o,
                                        callback: s
                                    }) : t[r].push(s),
                                    i.debug("... added event listener to event " + r + " (Index:" + (t[r].length - 1) + ")for module " + o + ". Function name:", u)
                            } catch (f) {
                                f.message = "Failed to add event listener: " + f.message,
                                    i.error(f)
                            }
                            try {
                                n[r] && (i.info("Executing delayed hook for event", r),
                                    s(n[r]))
                            } catch (f) {
                                i.error("Failed to execute event handler for event by delayed hook. Event:" + r, f)
                            }
                        },
                        this.remove = function(e, n) {
                            try {
                                if (!e)
                                    throw new Error("No event string given");
                                if (!t[e])
                                    return;
                                var r = [];
                                t[e].forEach(function(e, t) {
                                        if (e === n) {
                                            i.debug("Removing event listener of index", t);
                                            return
                                        }
                                        if (e.callback === n) {
                                            i.debug("Removing event listener of index", t);
                                            return
                                        }
                                        r.push(e)
                                    }),
                                    t[e] = r
                            } catch (s) {
                                s.message = "Failed to remove event listener: " + s.message,
                                    i.error(s)
                            }
                        }
                };
            n.prototype.events = new s,
                i.debug("Added events to Softgames-Prototype")
        } catch (o) {
            throw e.console && e.console.error("[" + t + "] " + o.message, o),
                o
        }
    }(window),
    function(e, t, n, r, i, s) {
        "use strict";

        function U(e) {
            return (l + "-" + e).replace(/\s/g, "")
        }

        function z(e) {
            return "." + l + "." + U(e)
        }

        function W(e, t) {
            var n = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
            return "RGBA(" + parseInt(n[1], 16) + ", " + parseInt(n[2], 16) + ", " + parseInt(n[3], 16) + ", " + t + ")"
        }

        function X(e, r) {
            var i = e.getModuleName(),
                s = z(i),
                o = n(s);
            if (o.length > 0)
                return o;
            var u = U(i),
                a = u + "-" + String(Date.now()),
                f = t.createElement("div");
            f.id = a,
                n("body").append(f),
                o = n("#" + a),
                o.addClass("modal"),
                o.addClass("fade"),
                o.addClass(l),
                o.addClass(u),
                o.addClass(r);
            var d = Y(),
                v = Z(),
                m = G(),
                g = $(),
                y = Q(),
                b = V(),
                w = d + v + m + g,
                E = h + " voyager-border";
            P ? E += " has-border-image" : E += " has-no-border-image";
            var S = w + '<div class="' + E + '">' + b + '<div class="' + p + ' voyager-bg-gradient">' + y + '<div class="' + c + '"></div>' + "</div>" + "</div>";
            return o.html(S),
                et(e, o),
                o.modal({
                    backdrop: "static",
                    show: !1
                }),
                o
        }

        function V() {
            return P ? '<span class="border-image border-image-corner border-image-top-left"></span><span class="border-image border-image-corner border-image-top-right"></span><span class="border-image border-image-corner border-image-bottom-left"></span><span class="border-image border-image-corner border-image-bottom-right"></span><span class="border-image border-horizontal border-top"></span><span class="border-image border-horizontal border-bottom"></span><span class="border-image border-vertical border-left"></span><span class="border-image border-vertical border-right"></span>' : ""
        }

        function $() {
            var e = "";
            if (P)
                e = K(0) + J(m) + "  .sg-modal-window .border-horizontal {" + "    height:" + m + ";" + "    background-size: " + m + " " + m + ";" + "    background-repeat: repeat-x;" + "    left:0;" + "    right:0;" + "  }" + "  .sg-modal-window .border-vertical {" + "    width:" + m + ";" + "    background-size: " + m + " " + m + ";" + "  }" + "  .sg-modal-window .border-image-corner {" + "    background-size: " + m + " " + m + ";" + "    width: " + m + ";" + "    height: " + m + ";" + "  }" + "  .border-image-top-left {" + "    background-image: url(" + P[D.topLeft] + ");" + "    top: -" + m + ";" + "    left: -" + m + ";" + "  }" + "  .sg-modal-window .border-image-top-right {" + "    top: -" + m + ";" + "    right: -" + m + ";" + "    background-image: url(" + P[D.topRight] + ");" + "  }" + "  .sg-modal-window .border-image-bottom-left {" + "    bottom: -" + m + ";" + "    left: -" + m + ";" + "    background-image: url(" + P[D.bottomLeft] + ");" + "  }" + "  .sg-modal-window .border-image-bottom-right {" + "    bottom: -" + m + ";" + "    right: -" + m + ";" + "    background-image: url(" + P[D.bottomRight] + ");" + "  }" + "  .sg-modal-window .border-top {" + "    top:-" + m + ";" + "    background-image: url(" + P[D.top] + ");" + "  }" + "  .sg-modal-window .border-bottom {" + "    bottom:-" + m + ";" + "    background-image: url(" + P[D.bottom] + ");" + "  }" + "  .sg-modal-window .border-left {" + "    left:-" + m + ";" + "    background-image: url(" + P[D.left] + ");" + "  }" + "  .sg-modal-window .border-right {" + "    right:-" + m + ";" + "    background-image: url(" + P[D.right] + ");" + "  }";
            else if (k === 0 || k > 0)
                e = K(k);
            return e ? "<style>" + e + "</style>" : ""
        }

        function J(e) {
            var t = Number(e.substr(0, e.length - 2)) + 30,
                n = ".sg-modal-window .modal-dialog.has-border-image {margin-top:" + t + "px;" + "}";
            return n
        }

        function K(e) {
            var t = "border-radius: " + e + "px;",
                n = "";
            return n += ".sg-modal-window ." + h + " {" + t + "}",
                n += ".sg-modal-window ." + d + " {" + t + "}",
                n += ".sg-modal-window ." + p + " {" + t + "}",
                n += ".sg-modal-window .refill-lives-popup header h2 { border-top-right-radius:" + e + "px;}",
                n
        }

        function Q() {
            return B && A ? '<a href="javascript:void(0)" class="close"><img src="' + B + '" width="' + A + '" />' + "</a>" : '<button class="close"><span class="sr-only">Close</span></button>'
        }

        function G() {
            if (!B || !A)
                return "";
            var e = ".sg-modal-window a.close {";
            return e += "width: " + A + "px;" + "height: auto;" + "background-color: transparent;" + "text-shadow: none;",
                e += "}",
                e += ".sg-modal-window a.close:before {",
                e += "display: none;",
                e += "}",
                "<style>" + e + "</style>"
        }

        function Y() {
            if (!b)
                return "";
            var e, t = "<style>";
            switch (b) {
                case "color-transparency":
                    e = "",
                        g && (e = "background-color: " + g),
                        y && (e = "background-color: " + W(g, y)),
                        e && (t += ".sg-modal-window .modal-dialog {" + e + "}");
                    break;
                case "gradient-transparency":
                    e = "",
                        g && (e += "background: " + g + ";");
                    if (w && w.angle && w.color) {
                        var n = w.color.join(", "),
                            r = w.angle + "deg, " + n,
                            i = 90 - Number(w.angle) + "deg, " + n;
                        e += "background: -moz-linear-gradient(" + r + ");" + "background: " + "-webkit-linear-gradient(" + r + ");" + "background: " + "-o-linear-gradient(" + r + ");" + "background: " + "-ms-linear-gradient(" + r + ");" + "background: " + "linear-gradient(" + i + ");"
                    }
                    e && (t += ".sg-modal-window .modal-dialog {" + e + "}");
                    break;
                case "image-tiles":
                    H && (t += ".sg-modal-window .modal-dialog {    background: url(" + H + ") repeat;" + "  }");
                    break;
                case "image-contain":
                    H && (t += ".sg-modal-window .modal-dialog {    background-image: url(" + H + ");" + "    background-repeat: no-repeat;" + "    background-size: contain;" + "    background-position: center center;" + "  }");
                    break;
                case "image-cover":
                    H && (t += ".sg-modal-window .modal-dialog {    background-image: url(" + H + ");" + "    background-repeat: no-repeat;" + "    background-size: cover;" + "    background-position: center center;" + "  }");
                    break;
                case "image-centered":
                    H && (t += ".sg-modal-window .modal-dialog {    background-image: url(" + H + ");" + "    background-repeat: no-repeat;" + "    background-position: center center;" + "  }")
            }
            return t += "</style>",
                t
        }

        function Z() {
            var e = ".sg-modal-window .modal-dialog, .sg-modal-window .modal-dialog .sg-modal-window .sg-modal-window-content {";
            x && (e += "font-size: " + x + "px;"),
                S && (e += "color: " + S + ";");
            var t = _;
            return T && (t = T + ", " + t),
                e += "font-family: " + t + ";",
                N && (e += "font-weight: bold;"),
                C && (e += "font-style: italic;"),
                e += "}",
                "<style>" + e + "</style>"
        }

        function et(e, t) {
            var n = t.find(".close");
            n.unbind(),
                n.click(e.close)
        }

        function tt(e) {
            var t = e.find(".close");
            t.remove()
        }
        var o = n,
            u = r.prototype.events,
            a = "ModalWindow",
            f = "https://s3.amazonaws.com/softgames-kirk-assets/assets/games/{{gameSlug}}/modalWindowDecorations/",
            l = "sg-modal-window",
            c = "sg-modal-window-content",
            h = "modal-dialog",
            p = "modal-body",
            d = "modal-content",
            v = 50,
            m = null,
            g = null,
            y = null,
            b = null,
            w = {},
            E = "30px auto",
            S = null,
            x = null,
            T = null,
            N = null,
            C = null,
            k = null,
            L = null,
            A = null,
            O = "#fff",
            M = "21",
            _ = "Helvetica, sans-serif",
            D = {
                topLeft: "top-left.png",
                topRight: "top-right.png",
                bottomLeft: "bottom-left.png",
                bottomRight: "bottom-right.png",
                top: "top.png",
                bottom: "bottom.png",
                left: "left.png",
                right: "right.png",
                bgImg: "background-image.png",
                closeButtonImage: "close-button.png"
            },
            P = null,
            H = null,
            B = null,
            j = {
                open: "modalWindowOpened",
                close: "modalWindowClosed",
                change: "modalWindowChange",
                startingGame: "gameStarted",
                softgamesReady: "softgamesReady"
            };
        try {
            if (!i)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!u)
                throw new Error("No eventManager defined!");
            if (!s)
                throw new Error("No imagesPreloader defined!");
            var F = new s,
                I = function(t, r) {
                    function C(e, t, n, r, i, s, o, u, a, f, c, h) {
                        try {
                            r = r || function() {},
                                i = i || function() {},
                                g = !0,
                                E = h || E,
                                w = Number(o),
                                S = Number(u),
                                x = !!a || !1,
                                T = f,
                                y = t,
                                l = X(e, c),
                                s && tt(l),
                                n !== !1 && O(n),
                                L(),
                                M(r, i),
                                _(),
                                H()
                        } catch (p) {
                            m.error(p)
                        }
                    }

                    function k() {
                        return n("#voyager-menu-container")
                    }

                    function L() {
                        var e = k(),
                            t = e.css("display");
                        t && t !== "none" && (f = t,
                            e.css("display", "none"))
                    }

                    function A() {
                        f && (k().css("display", f),
                            f = null)
                    }

                    function O(e) {
                        var t = l.find("." + c);
                        t.length !== 1 ? m.warn("Modal window element not available to add content") : t.html(e)
                    }

                    function M(e, n) {
                        l.on("shown.bs.modal", function() {
                            l.unbind("shown.bs.modal"),
                                t.registerModalWindowOpen(s, y, function() {
                                    try {
                                        et(s, l),
                                            b = e,
                                            H(),
                                            u.fire(j.open, {
                                                moduleName: r,
                                                name: y
                                            }),
                                            n()
                                    } catch (t) {
                                        m.error("Could not execute openHandler"),
                                            m.error(t)
                                    }
                                })
                        })
                    }

                    function _() {
                        l.modal({
                            backdrop: "static",
                            show: !0
                        })
                    }

                    function D(e) {
                        l.on("hidden.bs.modal", function() {
                            l.unbind("hidden.bs.modal"),
                                typeof e != "function" && (e = function() {
                                    m.debug("Dummy close callback executed")
                                }),
                                t.registerModalWindowClose(function() {
                                    try {
                                        typeof b == "function" && b(),
                                            u.fire(j.close, {
                                                moduleName: r,
                                                name: y
                                            }),
                                            typeof e == "function" && e()
                                    } catch (t) {
                                        m.error(t),
                                            e(t)
                                    }
                                })
                        })
                    }

                    function P() {
                        l.modal("hide")
                    }

                    function H() {
                        try {
                            if (g) {
                                var r = l.find("." + h),
                                    i = l.find("." + p),
                                    s = l.find("." + c),
                                    u = l.find("." + d);
                                T && !t.hasDecoratedBorders() && (o(r).attr("style", function(e, t) {
                                        return t + "border-radius: " + T + ";"
                                    }),
                                    o(u).attr("style", function(e, t) {
                                        return t + "border-radius: " + T + ";"
                                    }),
                                    o(i).attr("style", function(e, t) {
                                        return t + "border-radius: " + T + ";"
                                    }));
                                if (x) {
                                    i.css("margin", "0"),
                                        i.css("padding", "0"),
                                        i.css("overflow", "hidden"),
                                        r.width(s.width()),
                                        r.css("margin", E);
                                    return
                                }
                                var a = n(e),
                                    f = a.width(),
                                    y = a.height();
                                w && f >= w && (r.width(w),
                                        r.css("margin", E)),
                                    S && y >= S && r.height(S);
                                if (w)
                                    return;
                                var b = l.find("." + c).width(),
                                    N = b + v,
                                    C = r.width();
                                m.debug("Adjust modal window:", {
                                        windowWidth: f,
                                        dialogSize: C,
                                        contentWidth: b,
                                        newDialogSize: N
                                    }),
                                    f > N && C >= N ? (r.width(N),
                                        r.css("margin", E)) : r.removeAttr("style")
                            }
                        } catch (k) {
                            m.error(k)
                        }
                    }
                    this.getModuleName = function() {
                        return r
                    };
                    var s = this,
                        f = null,
                        l, m = new i(a + "." + r),
                        g = !1,
                        y = "",
                        b = null,
                        w = !1,
                        S = !1,
                        x = !1,
                        T = null,
                        N = function() {
                            u.remove(j.startingGame, N),
                                g && H()
                        };
                    u.on(j.startingGame, N),
                        this.open = function(e, n, r, i, s, o, u, a, f, l, c) {
                            try {
                                var h = this;
                                m.debug("Try to open modal window with data", {
                                        name: e,
                                        html: !!n,
                                        closeCallback: !!r,
                                        callback: !!i
                                    }),
                                    t.addToQueue(this, e, function() {
                                        C(h, e, n, r, i, s, o, u, a, f, l, c)
                                    })
                            } catch (p) {
                                m.error(p)
                            }
                        },
                        this.close = function(e) {
                            try {
                                m.debug("Close modal window"),
                                    g = !1,
                                    A(),
                                    D(e),
                                    P()
                            } catch (t) {
                                m.error(t)
                            }
                        },
                        this.isOpen = function() {
                            return g
                        },
                        this.adjustSize = H,
                        n(e).resize(H)
                },
                q = function() {
                    function d(e, n) {
                        t.debug("pushed task", {
                                task: e,
                                pushedToFront: n
                            }),
                            n ? s.unshift(e) : s.push(e)
                    }

                    function v(n) {
                        try {
                            var r = n.modalWindowSettings || {};
                            p = f.replace("{{gameSlug}}", n.game_slug);
                            // p = f.replace("{{gameSlug}}", "n.game_slug");
                            var i = {
                                background: function(e) {
                                    _(r, e)
                                },
                                border: function(e) {
                                    q(r, e)
                                },
                                text: function(e) {
                                    R(r, e)
                                },
                                closeButton: function(e) {
                                    U(r, e)
                                }
                            };
                            E(i, function(n) {
                                if (n)
                                    for (var r in Object.keys(n))
                                        t.error("Could not initialize ", r),
                                        t.error(n[r]);
                                e.registerModalWindowClose(function() {
                                    t.info("Finished init")
                                })
                            })
                        } catch (s) {
                            t.error("Failed to init modal window module"),
                                t.error(s)
                        }
                    }

                    function E(e, n) {
                        function a(e) {
                            u || (u = !0,
                                n(e))
                        }

                        function f(e) {
                            return function(n) {
                                t.debug('Finished to execution "' + e + '"'),
                                    o++,
                                    n && (s[e] = n),
                                    o == i && (Object.keys(s).length > 0 ? a(s) : a())
                            }
                        }
                        e = e || {};
                        var r = Object.keys(e);
                        t.debug(r);
                        var i = r.length,
                            s = {},
                            o = 0,
                            u = !1;
                        try {
                            r.forEach(function(n) {
                                t.debug('Starting to execute "' + n + '" ...'),
                                    e[n](f(n))
                            })
                        } catch (l) {
                            s.async = l,
                                a(s)
                        }
                    }

                    function _(e, n) {
                        var r = e.modalBackground;
                        if (!r) {
                            c = !1,
                                n();
                            return
                        }
                        b = r.type,
                            g = r.color || O,
                            y = r.colorTransparency || "1",
                            w = {},
                            b === "gradient-transparency" && r.gradient && (w.angle = r.gradient.angle,
                                w.color = r.gradient.color.split("*"));
                        if (["image-tiles", "image-contain", "image-cover", "image-centered"].indexOf(b) === -1) {
                            t.info("Background image disabled by config"),
                                c = !1,
                                n();
                            return
                        }
                        W(function(e, t, r) {
                            try {
                                if (e)
                                    throw e;
                                c = t,
                                    c && (H = r),
                                    n()
                            } catch (e) {
                                c = !1,
                                    n(e)
                            }
                        })
                    }

                    function q(e, t) {
                        o = e && e.decoratedBorders,
                            o ? (m = e.decoratedBorderWidth + "px",
                                X(function(e, n, r) {
                                    try {
                                        if (e)
                                            throw e;
                                        l = n,
                                            l && (P = r),
                                            t()
                                    } catch (e) {
                                        l = !1,
                                            t(e)
                                    }
                                })) : (k = e.borderRadius,
                                l = !1,
                                t())
                    }

                    function R(e, t) {
                        var n = e.modalText || {};
                        S = n.color || "#000",
                            x = n.fontSize || M,
                            T = n.fontFamily,
                            N = n.bold,
                            C = n.italic,
                            t()
                    }

                    function U(e, t) {
                        L = e.modalCustomCloseButton;
                        if (!L) {
                            h = !1,
                                t();
                            return
                        }
                        A = e.modalCustomCloseButtonSize,
                            z(function(e, n, r) {
                                try {
                                    if (e)
                                        throw e;
                                    h = n,
                                        h && (B = r),
                                        t()
                                } catch (e) {
                                    h = !1,
                                        t(e)
                                }
                            })
                    }

                    function z(e) {
                        try {
                            F.loadImage(p, D.closeButtonImage, e)
                        } catch (t) {
                            e(t)
                        }
                    }

                    function W(e) {
                        try {
                            F.loadImage(p, D.bgImg, e)
                        } catch (t) {
                            e(t)
                        }
                    }

                    function X(e) {
                        try {
                            var t = Object.keys(D).map(function(e) {
                                return D[e]
                            }).slice(0, 8);
                            F.loadImageSet(p, t, e)
                        } catch (n) {
                            e(n)
                        }
                    }
                    var e = this,
                        t = new i(a),
                        n = {},
                        r = null,
                        s = [],
                        o = null,
                        l = null,
                        c = null,
                        h = null,
                        p = null;
                    this.getModalWindow = function(r) {
                            try {
                                return n[r] || (n[r] = new I(e, r)),
                                    n[r]
                            } catch (i) {
                                t.error(i)
                            }
                        },
                        this.registerModalWindowOpen = function(e, n, i) {
                            try {
                                r = {
                                    moduleName: e.getModuleName(),
                                    name: n,
                                    modalWindow: e
                                }
                            } catch (s) {
                                t.error(s)
                            }
                            i()
                        },
                        this.registerModalWindowClose = function(e) {
                            try {
                                r = null;
                                if (s.length > 0) {
                                    var n = s.splice(0, 1)[0];
                                    t.debug("Try to open modal window: " + n.moduleName + " --- " + n.name),
                                        n.openCall()
                                }
                            } catch (i) {
                                t.error(i)
                            }
                            e()
                        },
                        this.addToQueue = function(e, n, i) {
                            if (!r && l !== null && c !== null && h !== null) {
                                i();
                                return
                            }
                            var s = {
                                moduleName: e.getModuleName(),
                                name: n,
                                modalWindow: e,
                                openCall: i
                            };
                            r ? r.moduleName === s.moduleName ? (u.fire(j.change, {
                                    moduleName: s.moduleName,
                                    oldName: r.name,
                                    newName: s.name
                                }),
                                d(s, !0),
                                r.modalWindow.close(function() {
                                    t.debug("Closed previous modal window of module: " + s.moduleName)
                                })) : d(s) : d(s)
                        },
                        this.hasDecoratedBorders = function() {
                            return !!P || !1
                        },
                        u.on(j.softgamesReady, v)
                };
            e.softgamesModalWindow = new q
        } catch (R) {
            throw console && console.error("[modalWindow] " + R.message, R.stack),
                R
        }
    }(window, document, SG_jQuery, Softgames, SoftgamesLogger, imagesPreloader),
    function(e) {
        "use strict";

        function s() {
            n.prototype.adsHandler = t.sgPc && t.sgPc.ads ? t.sgPc.ads : u
        }

        function o(e) {
            return function() {
                return e
            }
        }
        var t = e,
            n = t.Softgames,
            r = t.SoftgamesLogger,
            i = "ads",
            u = {
                setAdHandler: s,
                show: function(e, t) {
                    typeof t == "function" && t()
                },
                isInitiated: o(!1),
                incentiviseAdsAvailable: o(!1),
                getExternalTargeting: o({}),
                getHost: o(""),
                SLOTS: {},
                EVENT_NAMES: {}
            };
        try {
            if (!n)
                throw new Error("No Softgames variable defined!");
            if (!r)
                throw new Error("SoftgamesLogger not defined!");
            var a = new r(i);
            s(),
                setInterval(s, 1e3),
                a.debug("Added adsHandler to Softgames-Prototype")
        } catch (f) {
            throw t.console && (t.console.error("[" + i + "] " + f.message),
                    t.console.error(f)),
                f
        }
    }(window),
    function(e, t) {
        "use strict";
        var n = e.prototype.events,
            r = "iframeGame",
            i = {
                gameDataLoaded: "gameDataLoaded"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No eventManager defined!");
            var s = new t(r),
                o = function() {
                    function u() {
                        r !== null && r !== undefined && r !== "" ? (s.debug("Redirect to: " + r),
                            window.location = r) : s.debug("Cannot redirect because redirection URL is undefined")
                    }

                    function a() {
                        return t === !1 && o === !0 ? !0 : !1
                    }

                    function f(n) {
                        r = n.game_in_iframe_url,
                            o = n.games_in_iframe,
                            e = window.softgames,
                            t = e._isIframeFlow()
                    }
                    var e = null,
                        t = !1,
                        r = null,
                        o = !1;
                    n.on(i.gameDataLoaded, f),
                        this.shouldBeIframeGame = a,
                        this.redirectToIframeGame = u
                };
            e.prototype.iframeGameHandler = new o,
                s.debug("Added iframeGameHandler to Softgames-Prototype")
        } catch (u) {
            throw console && console.error("[" + r + "] " + u.message, u.stack),
                u
        }
    }(Softgames, SoftgamesLogger),
    function(e, t) {
        "use strict";
        var n = e.prototype.events,
            r = "cdnCache",
            i = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No eventManager defined!");
            var s = new t(r),
                o = function() {
                    function o() {
                        return e
                    }

                    function u(t) {
                        t.enableCdnCache && (e = !0),
                            t.skipUser && (s = !0)
                    }

                    function a(e) {
                        return t.indexOf(e) > -1
                    }

                    function f() {
                        return r
                    }

                    function l() {
                        return s
                    }
                    var e = !1,
                        t = ["noUser", "pub-11694-11694"],
                        r = "mc.sgc.io",
                        s = !1;
                    n.on(i.softgamesReady, u),
                        this.isEnabledForPublisher = a,
                        this.isInitiated = o,
                        this.host = f,
                        this.skipUser = l
                };
            e.prototype.cdnCacheHandler = new o,
                s.debug("Added cdnCacheHandler to Softgames-Prototype")
        } catch (u) {
            throw console && console.error("[" + r + "] " + u.message, u.stack),
                u
        }
    }(Softgames, SoftgamesLogger),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "google-analytics",
            o = {
                softgamesReady: "softgamesReady",
                googleAnalyticsInitiated: "googleAnalyticsInitiated"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new n(s),
                a = function() {
                    function g() {
                        return e
                    }

                    function y() {
                        return "https:"
                    }

                    function b() {
                        var e = v;
                        return e.indexOf("http") != 0 && (e = y() + e),
                            e
                    }

                    function w(l) {
                        r._gaq = r._gaq || [],
                            m = l,
                            n = l.gaCode,
                            r.sgPlatformRestrictedHostname && (n = l.gaSecondaryCode);
                        if (l.externalGACode !== undefined && l.externalGACode !== null && l.externalGACode !== "") {
                            s = l.externalGACode,
                                a = s.split(",");
                            if (a.length === 1)
                                c.push(h);
                            else {
                                var p = 0;
                                a.forEach(function(e) {
                                    p += 1,
                                        c.push(h + p)
                                })
                            }
                        }
                        l.gaAnonymizingIp === !0 && (f = !0);
                        var d = t.ajaxSetup().cache;
                        t.ajaxSetup({
                                cache: !0
                            }),
                            t.getScript(b()).done(function(t, n) {
                                u.debug("GA API loaded"),
                                    e = !0,
                                    i.fire(o.googleAnalyticsInitiated),
                                    u.debug("initiated")
                            }),
                            t.ajaxSetup({
                                cache: d
                            })
                    }

                    function E(e, t, n) {
                        var i = e;
                        n !== l && (i = n + "." + e);
                        try {
                            r._gaq.push([i, t])
                        } catch (s) {
                            u.error(s)
                        }
                    }

                    function S(e, n) {
                        t.each(c, function(t, r) {
                            E(e, n, r)
                        })
                    }

                    function x(e) {
                        u.debug("Track event:" + JSON.stringify(e));
                        try {
                            var t = ["_trackEvent", e.category, e.action];
                            e.label && t.push(e.label),
                                (e.value || e.value === 0) && t.push(e.value),
                                r._gaq.push(t)
                        } catch (n) {
                            u.error(n)
                        }
                    }

                    function T(e) {
                        u.debug("Track pageview:" + JSON.stringify(e));
                        var n = 1;
                        t.each(e.custom, function(t, i) {
                                try {
                                    n <= 5 ? r._gaq.push(["_setCustomVar", n, t, i, 1]) : u.debug("Too much custom varaibales [" + e.custom.length + "]. Only first 5 will be send."),
                                        n++
                                } catch (s) {
                                    u.error(s)
                                }
                            }),
                            S(e.action, e.params)
                    }

                    function N() {
                        t.each(d, function(e, t) {
                                x(t)
                            }),
                            d = []
                    }

                    function C() {
                        t.each(p, function(e, t) {
                                T(t)
                            }),
                            p = []
                    }

                    function k(e) {
                        g() ? x(e) : d.push(e)
                    }

                    function L(e) {
                        g() ? T(e) : p.push(e)
                    }

                    function A(e, t, n, r) {
                        M(r);
                        var i = {
                            category: e,
                            action: t,
                            label: n,
                            value: r
                        };
                        k(i)
                    }

                    function O(e, t, n) {
                        if (!m) {
                            u.warn("No softgamesInstance yet to track", {
                                action: e,
                                label: t,
                                value: n
                            });
                            return
                        }
                        M(n);
                        var r = {
                            category: "pg_" + m.aid + "_" + m.gid,
                            action: e,
                            label: t,
                            value: n
                        };
                        k(r)
                    }

                    function M(e) {
                        var t = "Invalid value for analytics tracking given. Must be integer.";
                        if (e) {
                            e = Number(e);
                            if (isNaN(e))
                                throw new Error(t);
                            if (e % 1 !== 0)
                                throw new Error(t)
                        }
                    }

                    function _(e, t) {
                        var n = {
                            action: "_trackPageview",
                            params: e,
                            custom: t
                        };
                        L(n)
                    }

                    function D() {
                        n !== null ? E("_setAccount", n, l) : u.debug("Google Analytics Code is undefined");
                        if (s !== null)
                            if (a.length === 1)
                                E("_setAccount", s, h);
                            else {
                                var e = 0;
                                a.forEach(function(t) {
                                    e += 1,
                                        E("_setAccount", t, h + e)
                                })
                            }
                        f && E("_anonymizeIp", undefined, "_gat"),
                            N(),
                            C()
                    }
                    // debugger;
                    var e = !1,
                        n = null,
                        s = null,
                        a = null,
                        f = !1,
                        l = "",
                        c = [l],
                        h = "external",
                        p = [],
                        d = [],
                        v = "//stats.g.doubleclick.net/dc.js",
                        m = null;
                    i.on(o.softgamesReady, w),
                        i.on(o.googleAnalyticsInitiated, D),
                        this.trackPageview = _,
                        this.trackEvent = A,
                        this.trackPgEvent = O
                };
            e.prototype.gaHandler = new a,
                u.debug("Added to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window),
    function(e, t, n, r) {
        "use strict";

        function p(e) {
            v("click", e)
        }

        function d(e, t) {
            v(e, JSON.stringify(t))
        }

        function v(e, t, n) {
            try {
                l.debug("Tracking " + t + " event"),
                    s._trackEvent && s._trackEvent(e, t, n)
            } catch (r) {
                l.error(r)
            }
        }

        function m(e) {
            try {
                s = e,
                    s.eventTracker.init()
            } catch (t) {
                l.error(t)
            }
        }
        var i = e.prototype.events,
            s = null,
            o = "eventTracker",
            u = "track-click-event",
            a = "click-event-name-",
            f = ["modalWindowOpened", "modalWindowClosed", "modalWindowChange", "prizePlayTwitterTweeted", "prizePlayFacebookShared", "prizePlayVoucherShown", "prizePlayTwitterLoaded"];
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var l = new n(o),
                c = function() {
                    var e = this;
                    i.on("softgamesReady", m)
                };
            c.prototype.init = function() {
                    try {
                        this.injectUserInteractionEventListeners(),
                            this.injectEventEventListeners()
                    } catch (e) {
                        l.error(e)
                    }
                },
                c.prototype.injectEventEventListeners = function() {
                    try {
                        f.forEach(function(e) {
                            i.on(e, function(t) {
                                d(e, t)
                            })
                        })
                    } catch (e) {
                        l.error(e)
                    }
                },
                c.prototype.injectUserInteractionEventListeners = function() {
                    t("." + u).click(function(e) {
                            try {
                                var n = t(this).attr("class").split(/\s+/),
                                    r = null;
                                t.each(n, function(e, t) {
                                        t.substring(0, a.length) === a && (r = t.substring(a.length, t.length))
                                    }),
                                    r && p(r)
                            } catch (i) {
                                l.error(i)
                            }
                        }),
                        l.debug("Added click event listeners")
                },
                e.prototype.eventTracker = new c,
                l.debug("Added eventTracker to Softgames-Prototype")
        } catch (h) {
            throw console && console.error("[" + o + "] " + h.message, h.stack),
                h
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "tracker",
            o = {
                softgamesReady: "softgamesReady",
                trackerInitiated: "trackerInitiated"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function f() {
                        return e
                    }

                    function l() {
                        var e = !1;
                        return document && document.location && (e = "https:" === document.location.protocol),
                            e ? "https:" : "http:"
                    }

                    function c() {
                        var e = a;
                        return e.indexOf("http") != 0 && (e = l() + e),
                            e
                    }

                    function h(t) {
                        s = t.sgTrackConfig,
                            n.getScript(c()).done(function() {
                                u.debug("SDK loaded"),
                                    e = !0,
                                    i.fire(o.trackerInitiated),
                                    u.debug("initiated")
                            })
                    }

                    function p(e, t, n) {
                        try {
                            return s !== null && s.block !== undefined && s.block[t] !== undefined && s.block[t].indexOf(n) > -1
                        } catch (r) {
                            return u.error("Failed to read config " + t + " - " + n), !1
                        }
                    }
                    var e = !1,
                        s = null,
                        a = "../assets/sg-track-sdk.js?_v=2.1.1",
                        d = function(e, n) {
                            function f(t) {
                                try {
                                    var r = [];
                                    t.forEach(function(t) {
                                            p(e, n, t.type) ? a.debug("Event: " + n + " - " + t.type + " is blocked") : r.push(u.createEvent(n, t.type, t.data, t.summarize))
                                        }),
                                        r.length > 0 && (u.trackEvents(r),
                                            a.debug("Events tracked", {
                                                events: r
                                            }))
                                } catch (i) {
                                    a.error("Failed to track events", {
                                        events: r,
                                        error: i
                                    })
                                }
                            }

                            function l(e) {
                                e.forEach(function(e) {
                                    if (!e.type)
                                        throw new Error("No event type given")
                                })
                            }

                            function c(e, t, n) {
                                return {
                                    type: e,
                                    data: t,
                                    summarize: n
                                }
                            }

                            function h(e) {
                                Array.isArray(e) || (e = [e]),
                                    l(e),
                                    u ? f(e) : s = s.concat(e)
                            }
                            var s = [],
                                u, a = new t(n + "EventTracker");
                            r.sgTrackSdk ? u = r.sgTrackSdk : i.on(o.trackerInitiated, function() {
                                    u = r.sgTrackSdk,
                                        a.debug("Initialized"),
                                        s.length > 0 && f(s)
                                }),
                                this.createEvent = c,
                                this.sendEvents = h
                        };
                    i.on(o.softgamesReady, h),
                        this.EventTracker = d
                };
            e.prototype.trackerHandler = new a,
                u.debug("Added trackerHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    "use strict",
    function(e, t, n, r, i) {
        "use strict";
        var s = e.prototype.events,
            o = "moreGamesUtils",
            u = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var a = new t(o),
                f = function() {
                    function f(e) {
                        try {
                            t = e,
                                i = t.moreGamesCrossPromo
                        } catch (n) {
                            a.error("Failed init process"),
                                a.error(n)
                        }
                    }

                    function l(e) {
                        e instanceof n && (e = e[0]);
                        var t = e.getBoundingClientRect();
                        return t.top >= 0 && t.left >= 0 && t.bottom <= (r.innerHeight || document.documentElement.clientHeight) && t.right <= (r.innerWidth || document.documentElement.clientWidth)
                    }

                    function c(e, t, r) {
                        var s = n("<div>").addClass("preload");
                        e.forEach(function(e) {
                                s.append(n("<img>").attr("src", e))
                            }),
                            n(t).each(function(e, t) {
                                if (!r || t <= i.numberOfLinksForBubble - 1)
                                    s.append(n("<img>").attr("src", this.iconPath)),
                                    s.append(n("<img>").attr("src", this.teaserPath))
                            }),
                            n("body").append(s)
                    }

                    function h(r) {
                        n.cookie(e, JSON.stringify({
                            id: t.gameId(),
                            slug: t.game_slug,
                            instigator: r
                        }), {
                            path: "/"
                        })
                    }

                    function p(e, t) {
                        return e.indexOf(t, e.length - t.length) !== -1
                    }

                    function d(e) {
                        var n;
                        e.slug === "external" || i.externalLink ? n = e.href : (n = e.href,
                            r.location.search && n.slice(-1) !== "/" && (n += "/"),
                            n += r.location.search,
                            t._getUrlParameter("p") || (n.indexOf("/?") == -1 ? n.slice(-1) === "/" ? n += "?p=" + t.subplatform : n += "/?p=" + t.subplatform : n += "&p=" + t.subplatform));
                        var s = document.URL.indexOf("http://") === -1 && document.URL.indexOf("https://") === -1,
                            o = s ? "app" : "web";
                        return p(n, "/") ? n.indexOf("&") === -1 ? n += "?" : (n = n.slice(0, -1),
                                n += "&") : n.indexOf("?") !== -1 ? p(n, "?") || (n += "&") : n += "?",
                            n + "utm_source=" + t.subplatform + "&utm_medium=" + t.game_slug + "&utm_term=" + t.aid + "_" + t.gid + "&utm_content=" + e.slug + "&utm_campaign=xpromo"
                    }

                    function v(e, t, r) {
                        try {
                            typeof n.fn.draggable == "function" && n(e).draggable({
                                stop: t,
                                drag: r
                            })
                        } catch (i) {
                            a.error("failed to set draggable to element: ", e),
                                a.error(i)
                        }
                    }

                    function g(t) {
                        try {
                            var r = n.cookie(e);
                            r && (o = JSON.parse(r),
                                m(e),
                                a.debug("Source saved as: " + y() + ", " + b() + ", " + w()))
                        } catch (i) {
                            a.error("Failed to retrieve source"),
                                a.error(i)
                        }
                        t()
                    }

                    function y() {
                        return o.slug
                    }

                    function b() {
                        return o.id
                    }

                    function w() {
                        return o.instigator
                    }
                    var e = "cross-promo-source",
                        t = null,
                        i = null,
                        o = {},
                        m = function(e) {
                            n.cookie(e, null, {
                                path: "/"
                            })
                        };
                    this.getSourceSlug = y,
                        this.getSourceId = b,
                        this.getSourceInstigator = w,
                        this.getSourceFromCookie = g,
                        this.preloadImages = c,
                        this.isVisible = l,
                        this.setSourceCookie = h,
                        this.getGameLinkUrl = d,
                        this.setDraggable = v,
                        s.on(u.softgamesReady, f)
                };
            e.prototype.moreGamesUtils = new f,
                a.debug("Added moreGamesUtils to Softgames-Prototype")
        } catch (l) {
            throw console && console.error("[" + o + "] " + l.message, l.stack),
                l
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window, softgamesModalWindow),
    "use strict",
    function(e, t, n) {
        var r = e.prototype.events,
            i = "gameReset",
            s = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function t(t) {
                        e = t.gameStorageKeys
                    }

                    function i(t) {
                        t = t || e || [];
                        if (!t.length)
                            return !1;
                        var r = !1;
                        return n.each(t, function(e, t) {
                                try {
                                    localStorage.removeItem(window.SG_Hooks.buildKey(t)),
                                        localStorage.removeItem(t),
                                        r = !0
                                } catch (n) {
                                    o.debug("Cannot clear game value ", t)
                                }
                                o.debug("Reset value:", t)
                            }),
                            r
                    }

                    function u() {
                        o.debug("Reloading ..."),
                            window.location.reload()
                    }

                    function a(e) {
                        var t = i(e);
                        t && u()
                    }
                    var e = [];
                    this.reset = i,
                        this.reload = u,
                        this.resetAndReload = a,
                        r.on(s.softgamesReady, t)
                };
            e.prototype.gameResetHandler = new u,
                o.debug("Added gameResetHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "gameStorage",
            o = {
                softgamesReady: "softgamesReady",
                userGameDataInitialized: "userGameDataInitialized"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function p() {
                        return t
                    }

                    function d() {
                        return e.enabled
                    }

                    function v() {
                        var t = {};
                        n.each(e.storageKeys, function(e, n) {
                                localStorage.getItem(n) !== s[n] && (s[n] = localStorage.getItem(n),
                                    t[n] = s[n])
                            }),
                            n.isEmptyObject(t) === !1 && (u.debug("Sending storage: ", t),
                                a.updateStorage(t))
                    }

                    function m() {
                        f = r.setInterval(v, h)
                    }

                    function g(t) {
                        return e.overwriteStoring ? s[t] !== undefined ? s[t] : null : l(t)
                    }

                    function y(t, n) {
                        e.overwriteStoring ? s[t] = n : c(t, n);
                        var r = {};
                        r[t] = n,
                            a.updateStorage(r)
                    }

                    function b() {
                        s = a.getStorage(),
                            s === null && (s = {}),
                            t = !0,
                            n.each(e.storageKeys, function(t, n) {
                                s[n] !== undefined && (u.debug(t, " Overwriting local storage [" + n + "] : " + s[n]),
                                    e.sgHooksStoringUsed ? r.SG_Hooks.setStorageItem(n, s[n]) : r.localStorage.setItem(n, s[n]))
                            }),
                            e.sgHooksStoringUsed ? (l = r.SG_Hooks.getStorageItem,
                                c = r.SG_Hooks.setStorageItem,
                                r.SG_Hooks.getStorageItem = g,
                                r.SG_Hooks.setStorageItem = y) : m()
                    }

                    function w(t) {
                        a = t.userGameDataHandler,
                            e = t.gameStorageConfig,
                            e && e.enabled && i.on(o.userGameDataInitialized, b)
                    }
                    var e, t = !1,
                        s, a, f, l, c, h = 5e3;
                    this.isEnabled = d,
                        this.isInitiated = p,
                        i.on(o.softgamesReady, w)
                };
            e.prototype.gameStorageHandler = new a,
                u.debug("Added trackerHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n, r) {
        "use strict";
        var i = "ViewQueue";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var s = new n(i),
                o = function() {
                    function r(e, n, r) {
                        s.info("Try to add view to queue ...");
                        var o = i(e, n, r);
                        o && (t.push(o),
                                s.info("... added event to queue", {
                                    length: t.length
                                })),
                            u()
                    }

                    function i(e, r, i) {
                        function a() {
                            try {
                                r.apply(i, o(arguments))
                            } catch (e) {
                                s.error("Failed to execute given callback"),
                                    s.error(e)
                            }
                            try {
                                n = !1,
                                    s.info("... finished view execution", {
                                        length: t.length
                                    }),
                                    u()
                            } catch (e) {
                                s.error("Failed to execute next view entry"),
                                    s.error(e)
                            }
                        }
                        if (typeof e != "function")
                            return;
                        return r = typeof r == "function" ? r : function() {},
                            function() {
                                s.info("Start queue execution ...", {
                                        length: t.length
                                    }),
                                    n = !0;
                                try {
                                    e(a)
                                } catch (r) {
                                    s.error("Failed to execute call"),
                                        s.error(r),
                                        a(r)
                                }
                            }
                    }

                    function o(e) {
                        return Array.prototype.slice.call(e)
                    }

                    function u() {
                        try {
                            if (n)
                                return;
                            var e = t.splice(0, 1);
                            if (!e || !e[0])
                                return;
                            e[0]()
                        } catch (r) {
                            s.error("Failed to execute next"),
                                s.error(r)
                        }
                    }
                    var t = [],
                        n = !1;
                    this.execute = r
                };
            e.prototype.viewQueue = new o,
                s.debug("Added viewQueue to Softgames-Prototype")
        } catch (u) {
            throw console && console.error("[" + i + "] " + u.message, u.stack),
                u
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = e.prototype.eventTracker,
            a = null,
            f = "prizePlay",
            l = "levels",
            c = "ads",
            h = "prize-play-qualification-voucher",
            p = function() {},
            d = {
                tweeted: "prizePlayTwitterTweeted",
                fbShared: "prizePlayFacebookShared",
                voucherShown: "prizePlayVoucherShown",
                twitterLoaded: "prizePlayTwitterLoaded",
                twitterClicked: "prizePlayTwitterClicked",
                softgamesReady: "softgamesReady",
                firstPageLoaded: "firstPageLoaded",
                finishedLoadingFlow: "finishedLoadingFlow",
                levelUp: "gameLevelUp",
                adsClosed: "closeAd"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!o)
                throw new Error("No eventManager defined!");
            if (!u)
                throw new Error("No eventTracker defined!");
            var v = new n(f),
                m = function() {
                    function T(e) {
                        try {
                            a = e
                        } catch (t) {
                            v.error(t)
                        }
                    }

                    function N() {
                        var e = "prize-play-tac-btn",
                            n = t("#" + e);
                        if (!n.length)
                            throw new Error('No element with id "' + e + '" found');
                        n.click(function() {
                            _(function(e) {
                                try {
                                    if (e)
                                        throw e;
                                    v.debug("Termes and conditions modWid shown")
                                } catch (e) {
                                    v.error(e)
                                }
                            })
                        })
                    }

                    function C() {
                        o.on(d.tweeted, function(e) {
                                g = !0,
                                    Q(),
                                    H(function(e) {
                                        try {
                                            if (e)
                                                throw e;
                                            v.debug("Finished modWid shown")
                                        } catch (e) {
                                            v.error(e)
                                        }
                                    })
                            }),
                            o.on(d.twitterClicked, function(e) {
                                y = !0
                            })
                    }

                    function k() {
                        o.on(d.fbShared, function(e) {
                            g = !0,
                                H(function(e) {
                                    try {
                                        if (e)
                                            throw e;
                                        v.debug("Finished modWid shown")
                                    } catch (e) {
                                        v.error(e)
                                    }
                                })
                        })
                    }

                    function L() {
                        try {
                            N(),
                                u.injectUserInteractionEventListeners(),
                                v.debug("Added all event listeners")
                        } catch (e) {
                            e.message = "connectEventListener: " + e.message,
                                v.error(e)
                        }
                    }

                    function A(e) {
                        if (!e)
                            throw new Error("No data given");
                        if ("object" != typeof e)
                            throw console.log("data init type:", typeof e),
                                new Error("Given data is not an object");
                        if (!e.hasOwnProperty("termsAndConditionsContent"))
                            throw new Error("No termsAndConditionsContent in given data");
                        if (!e.hasOwnProperty("qualifiedContent"))
                            throw new Error("No qualifiedContent in given data");
                        if (!e.hasOwnProperty("targetEventType"))
                            throw new Error("No targetEventType in given data");
                        if (!e.hasOwnProperty("targetEventValue"))
                            throw new Error("No targetEventValue in given data")
                    }

                    function O() {
                        return w || (w = r.getModalWindow(f)),
                            w
                    }

                    function M(r, i, s) {
                        function a() {
                            try {
                                t(".prize-play-close-mod-win").click(o.close),
                                    u.injectUserInteractionEventListeners(),
                                    v.debug("Opened " + r + " modal window"),
                                    i()
                            } catch (e) {
                                v.error(e)
                            }
                        }

                        function f() {
                            try {
                                typeof s == "function" && s(),
                                    v.debug('Closed "' + r + '" modal window')
                            } catch (e) {
                                v.error(e)
                            }
                        }
                        var o = O();
                        try {
                            if (!e)
                                throw new Error("Not initiated");
                            o.open(r, n[r], f, a)
                        } catch (l) {
                            i(l)
                        }
                    }

                    function _(e) {
                        M("termsAndConditionsContent", e)
                    }

                    function D() {
                        var e = t(".twitter-hashtag-button");
                        e.attr("data-url", i.location.protocol + "//" + i.location.host + i.location.pathname),
                            e.attr("data-text", e.attr("data-text") + " code: " + E)
                    }

                    function P(e) {
                        function t(t) {
                            D(),
                                n.hasVoucher && (z(),
                                    W()),
                                n.withTwitter && F(),
                                e(t)
                        }

                        function r() {
                            g || (n.withTwitter || n.withFacebook ? y ? B(function() {
                                v.debug("Modal Window close after pushed share without sharing shown")
                            }) : j(function() {
                                v.debug("Modal Window for close before pushed share shown")
                            }) : x())
                        }
                        y = !1,
                            E = K(),
                            M("qualifiedContent", t, r)
                    }

                    function H(e) {
                        M("finishedContent", function() {
                            t(".prize-play-reload").click(function() {
                                    v.debug("Reload page"),
                                        i.setTimeout(function() {
                                            i.location.reload()
                                        }, 500)
                                }),
                                e()
                        }, function() {
                            x()
                        })
                    }

                    function B(e) {
                        M("notFinishedAfterPushContent", function() {
                            D(),
                                n.withTwitter && F(),
                                e()
                        }, function() {
                            g || x()
                        })
                    }

                    function j(e) {
                        M("notFinishedBeforePushContent", function() {
                            D(),
                                n.withTwitter && F(),
                                e()
                        }, function() {
                            g || x()
                        })
                    }

                    function F() {
                        i.twttr ? i.twttr.widgets && i.twttr.widgets.load() : (i.twttr = function(e, t, n) {
                                var r, s, o = e.getElementsByTagName(t)[0];
                                if (e.getElementById(n))
                                    return;
                                return s = e.createElement(t),
                                    s.id = n,
                                    s.src = "https://platform.twitter.com/widgets.js",
                                    o.parentNode.insertBefore(s, o),
                                    i.twttr || (r = {
                                        _e: [],
                                        ready: function(e) {
                                            r._e.push(e)
                                        }
                                    })
                            }(s, "script", "twitter-wjs"),
                            i.twttr.ready(function(e) {
                                o.fire(d.twitterLoaded),
                                    e.events.bind("tweet", function(e) {
                                        o.fire(d.tweeted, e)
                                    }),
                                    e.events.bind("click", function(e) {
                                        o.fire(d.twitterClicked, e)
                                    })
                            }))
                    }

                    function I() {
                        i.FB.init({
                            appId: n.facebookAppId,
                            xfbml: !0,
                            version: "v2.1"
                        })
                    }

                    function q() {
                        i.FB.ui({
                            method: "share_open_graph",
                            display: "popup",
                            action_type: "og.likes",
                            action_properties: JSON.stringify({
                                object: "http://localhost:8080/zombie-apocalypse"
                            })
                        }, function(e) {
                            e && e.post_id ? (v.debug("Facebook share window closed after sharing"),
                                o.fire(d.fbShared)) : v.debug("Facebook share window closed without sharing")
                        })
                    }

                    function R() {
                        t(".pp-fb-share-button").click(function(e) {
                            e.preventDefault(),
                                v.debug(i.location),
                                i.FB.api("me/permissions", function(e) {
                                    !e || !e.data || e.data.lengh < 1 || !("publish_actions" in e.data) ? i.FB.login(function(e) {
                                        console.log(e),
                                            q()
                                    }, {
                                        scope: "publish_actions"
                                    }) : (v.debug("Permisions:", e.data),
                                        console.log(e.data),
                                        q())
                                })
                        })
                    }

                    function U() {
                        if (!i.FB) {
                            if (t(".fb-root").length < 1) {
                                var e = s.createElement("div");
                                e.class = "fb-root",
                                    t("body").append(e)
                            }
                            i.fbAsyncInit = function() {
                                    I(),
                                        R()
                                },
                                function(e, t, n) {
                                    var r, i = e.getElementsByTagName(t)[0];
                                    if (e.getElementById(n))
                                        return;
                                    r = e.createElement(t),
                                        r.id = n,
                                        r.src = "//connect.facebook.net/en_US/sdk.js",
                                        i.parentNode.insertBefore(r, i)
                                }(s, "script", "facebook-jssdk")
                        } else
                            R()
                    }

                    function z() {
                        i.googletag = {},
                            i.googletag.cmd = [],
                            function() {
                                var e = s.createElement("script");
                                e.async = !0,
                                    e.type = "text/javascript";
                                var t = "https:" === s.location.protocol;
                                // e.src = (t ? "https:" : "http:") + "//www.googletagservices.com/tag/js/gpt.js";
                                e.src = "../assets/gpt.js";
                                var n = s.getElementsByTagName("script")[0];
                                n.parentNode.insertBefore(e, n)
                            }()
                    }

                    function W() {
                        i.googletag.cmd.push(function() {
                            i.googletag.defineSlot("/418149392/PricePlay_AdUnit", [300, 250], h).addService(i.googletag.pubads()),
                                i.googletag.pubads().enableSingleRequest(),
                                i.googletag.pubads().addEventListener("slotRenderEnded", function() {
                                    o.fire(d.voucherShown),
                                        v.debug("Voucher rendered")
                                }),
                                i.googletag.enableServices(),
                                i.googletag.display(h)
                        })
                    }

                    function X(t) {
                        var r = t.callback || function() {};
                        x = function() {
                            x = null,
                                r()
                        };
                        try {
                            v.debug("onLevelUp fired! level: ", t.level);
                            var i = Number(t.level);
                            if (!e)
                                throw new Error("Not initiated");
                            if (!g)
                                if (String(n.targetEventType) === l) {
                                    if (isNaN(i))
                                        throw new Error("No or no valid level given");
                                    var s = Number(n.targetEventValue);
                                    i >= s ? V() : (v.debug("Level is not high enough: " + i + ">" + s),
                                        x())
                                } else
                                    v.debug("TargetEvent type is not levels:", n.targetEventType),
                                    x();
                            else
                                v.debug("Already took part in prize play"),
                                x()
                        } catch (o) {
                            v.error(o),
                                x()
                        }
                    }

                    function V() {
                        P(function(e) {
                            try {
                                if (e)
                                    throw e;
                                v.debug("Showed qualification modal window due to level up")
                            } catch (e) {
                                v.error(e)
                            }
                        })
                    }

                    function $() {
                        O().adjustSize()
                    }

                    function J(t) {
                        var r = t.callback || function() {};
                        x = function() {
                            x = null,
                                r()
                        };
                        try {
                            v.debug("onAds fired", t);
                            if (!e)
                                throw new Error("Not initiated");
                            g ? (v.debug("Already took part in prize play"),
                                x()) : n.targetEventType === c ? (m++,
                                m >= Number(n.targetEventValue) && P(function(e) {
                                    try {
                                        if (e)
                                            throw e;
                                        v.debug("Showed qualification modal window due to ads shown")
                                    } catch (e) {
                                        v.error(e)
                                    }
                                })) : (v.debug("TargetEvent type is not ads:", n.targetEventType),
                                x())
                        } catch (i) {
                            v.error(i),
                                x()
                        }
                    }

                    function K() {
                        return Math.floor((1 + Math.random()) * 65536).toString(32).substr(1) + Math.floor((1 + Math.random()) * 65536).toString(32).substr(1)
                    }

                    function Q() {
                        try {
                            var e = {
                                    campaignId: n.campaignId,
                                    uniqueId: E,
                                    userId: a.userId,
                                    type: "twitter"
                                },
                                r = {
                                    client: "prize-play",
                                    type: "share",
                                    data: e
                                },
                                i = "http://tracking.softgames.com/api/v1/tracking";
                            v.debug("Try to send tweet tracking information!"),
                                t.ajax({
                                    type: "POST",
                                    url: i,
                                    async: !0,
                                    cache: !1,
                                    data: JSON.stringify(r),
                                    processData: !1,
                                    dataType: "json",
                                    contentType: "application/json",
                                    beforeSend: function(e) {
                                        e.setRequestHeader("Authorization", "Basic " + btoa("sg-tracking:$50ftg4m35$"))
                                    },
                                    error: function(e, t, n) {
                                        v.error("Failed to send this data for tracking the tweet event due to error: " + n, {
                                            url: i,
                                            data: r,
                                            textStatus: t,
                                            errorThrown: n,
                                            xhr: e
                                        })
                                    },
                                    success: function(e) {
                                        e.status ? v.info("Successfully sent this data for tracking the tweet event", r) : v.notice("Sent this data for tracking the tweet event and got a invalid response", {
                                            postedData: r,
                                            response: e
                                        })
                                    }
                                })
                        } catch (s) {
                            v.error("Failed to send data to track the tweet event due to error: " + s.message, s.stack)
                        }
                    }
                    var e = !1,
                        n = null,
                        m = 0,
                        g = !1,
                        y = !1,
                        b = !1,
                        w = null,
                        E = null,
                        S = !1,
                        x = null;
                    o.on(d.softgamesReady, T),
                        this.init = function(t) {
                            try {
                                t ? (A(t),
                                    n = t,
                                    e = !0,
                                    v.debug("Prize play initialized", {
                                        data: t
                                    })) : v.debug("No prize play")
                            } catch (r) {
                                r.message = "Failed to init: " + r.message,
                                    v.error(r, t)
                            }
                        },
                        this.isInitiated = function() {
                            return e
                        },
                        this.showLandingPage = function() {
                            return !1
                        },
                        this.displayLandingPage = function(e) {
                            try {
                                var r = "prize-play-landing-page-body";
                                t("head").append('<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=no; target-densityDpi=device-dpi" />'),
                                    t("body").append(n.landingPage).addClass(r),
                                    S = !0,
                                    t(".pzp-terms").click(function(e) {
                                        e.preventDefault(),
                                            _(p)
                                    }),
                                    t(".pzp-next-page-link").click(function() {
                                        t("body").removeClass(r),
                                            S = !1,
                                            e()
                                    }),
                                    i.navigator.userAgent.match(/iPhone/i) && t(i).resize(function() {
                                        S && i.location.reload()
                                    })
                            } catch (s) {
                                v.error(s.message, s.stack),
                                    e()
                            }
                        }
                };
            e.prototype.prize_play = new m,
                v.debug("Added prize_play to Softgames-Prototype")
        } catch (g) {
            throw console && console.error("[" + f + "] " + g.message, g.stack),
                g
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = "endLevelPopup",
            a = {
                modalWindowClosed: "modalWindowClosed",
                modalWindowOpened: "modalWindowOpened",
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var f = new n(u),
                l = function() {
                    function C() {
                        try {
                            if (w) {
                                var e = t("#end-level-popup-game-container, #end-level-popup-social-container");
                                N.width() >= 685 ? e.css("float", "left") : e.css("float", "none")
                            }
                        } catch (n) {
                            f.error(n)
                        }
                    }

                    function k() {
                        try {
                            n ? t("#voyager-like-btn-container").hide() : t("#voyager-rating-info-container").hide(),
                                c && _(),
                                D(),
                                P(),
                                H(),
                                B(E),
                                w = !0,
                                C(),
                                f.debug("Show modal window")
                        } catch (e) {
                            f.error(e)
                        }
                    }

                    function L() {
                        try {
                            M(x)
                        } catch (e) {
                            f.error(e)
                        }
                    }

                    function A(t) {
                        d = t,
                            e = d.end_level_popup,
                            n = d.game_rating,
                            l = d.gameTitle,
                            c = d._isiPhone(),
                            h = d.endLevelCloseButtonTimer,
                            v = d._trackEvent,
                            m = !0,
                            f.debug(u + " initialized")
                    }

                    function O() {
                        return p || (p = d.apiAdapter),
                            p
                    }

                    function M(e) {
                        try {
                            clearTimeout(g),
                                typeof y == "function" && y(),
                                w = !1,
                                e && e(),
                                f.debug("Closed modal window")
                        } catch (t) {
                            f.error(t)
                        }
                    }

                    function _() {
                        t("#voyager-whatsapp-container").show();
                        var e = encodeURIComponent("Play with me " + l + "!" + s.location.href);
                        t(".voyager-whatsapp-btn").click(function(t) {
                            t.preventDefault(),
                                v("whatsapp"),
                                setTimeout(function() {
                                    s.location = "whatsapp://send?text=" + e
                                }, 500)
                        })
                    }

                    function D() {
                        t("#voyager-dislike-btn").click(function(e) {
                            e.preventDefault(),
                                O().rate(1),
                                F(1),
                                j()
                        })
                    }

                    function P() {
                        t("#voyager-like-btn").click(function(e) {
                            e.preventDefault(),
                                O().rate(5),
                                F(5),
                                j()
                        })
                    }

                    function H() {
                        var e = t(".sg-modal-window .close");
                        e.hide(),
                            y = function() {
                                e.show()
                            },
                            g = setTimeout(y, h)
                    }

                    function B(e) {
                        t("#voyager-more-games-btn").click(function(t) {
                            t.preventDefault(),
                                x = e,
                                T.close(function() {
                                    f.debug("Closed via play more button")
                                })
                        })
                    }

                    function j() {
                        t("#voyager-like-btn-container").hide(),
                            t("#voyager-like-info-container").show()
                    }

                    function F(e) {
                        d.game_rating = e
                    }
                    var e = null,
                        n = null,
                        l = null,
                        c = null,
                        h = null,
                        p = null,
                        d = null,
                        v = null,
                        m = !1,
                        g = null,
                        y = null,
                        b = !1,
                        w = !1,
                        E = null,
                        S = null,
                        x = null,
                        T = r.getModalWindow(u),
                        N = t(i);
                    o.on(a.softgamesReady, A),
                        this.show = function(t, n) {
                            m ? (E = t,
                                S = n,
                                x = S,
                                T.open("endLevelPopup", e, L, k),
                                b || (N.resize(C),
                                    b = !0)) : f.warn("Could not show modal window due to bad initialization status")
                        }
                };
            e.prototype.end_level_popup_module = new l,
                f.debug("Added end_level_popup to Softgames-Prototype")
        } catch (c) {
            throw console && console.error("[" + u + "] " + c.message, c.stack),
                c
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "features",
            s = {
                gameDataLoaded: "gameDataLoaded"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function i() {
                        return t
                    }

                    function u(r) {
                        n.each(r, function(t, n) {
                                /feature_/.test(t) && n === !0 && (e[t.replace("feature_", "")] = !0)
                            }),
                            t = !0,
                            o.debug("initiated")
                    }

                    function a(t) {
                        if (!i())
                            throw new Error("Not initiated!");
                        return Object.keys(e).indexOf(t) >= 0 ? e[t] : (o.debug("Undefined " + t + " feature"), !1)
                    }
                    var e = {},
                        t = !1;
                    r.on(s.gameDataLoaded, u),
                        this.isInitiated = i,
                        this.enabled = a
                };
            e.prototype.featuresHandler = new u,
                o.debug("Added featuresHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "avatars";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            var r = new t(n),
                i = function() {
                    function t() {
                        return e
                    }
                    var e = {
                        blank: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/blank.png"
                        },
                        alien: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/alien.png"
                        },
                        robot: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/robot.png"
                        },
                        berlin: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/berlin.png"
                        },
                        diver: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/diver.png"
                        },
                        fireman: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/fireman.png"
                        },
                        grimace: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/grimace.png"
                        },
                        miki: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/miki.png"
                        },
                        mom: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/mom.png"
                        },
                        sad: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/sad.png"
                        },
                        soldier: {
                            image_url: "//d3tlss08qwqpkt.cloudfront.net/assets/avatars/soldier.png"
                        }
                    };
                    this.getList = t
                };
            window.SoftgamesAvatars = i
        } catch (s) {
            throw console && console.error("[" + n + "] " + s.message, s.stack),
                s
        }
    }(Softgames, SoftgamesLogger),
    function(e, t) {
        "use strict";
        var n = "userService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var r = new e(n),
                i = function(e, n, i, s) {
                    function a(e, n) {
                        var r = s + e;
                        return n !== undefined && !t.isEmptyObject(n) && (r = r + "?" + t.param(n)),
                            r
                    }

                    function f(e, n, r, i, s, o) {
                        t.ajax({
                            method: e,
                            url: a(n, r),
                            data: i
                        }).done(function(e) {
                            s(e)
                        }).fail(function(e) {
                            o(e)
                        })
                    }

                    function l(e, t, s) {
                        r.debug("Requesting user update"),
                            f(o, u.replace(":userId", e), {
                                game_slug: i,
                                k: n
                            }, t, function(e) {
                                typeof s == "function" && s(e, !0)
                            }, function(e) {
                                r.debug(e),
                                    typeof s == "function" && s([], !1)
                            })
                    }
                    if (!e)
                        throw new Error("No userId defined!");
                    if (!n)
                        throw new Error("No userAuthToken defined!");
                    if (!i)
                        throw new Error("No gameSlug defined!");
                    if (!s)
                        throw new Error("No apiHost defined!");
                    var o = "PUT",
                        u = "kirk/users/:userId/";
                    this.update = function(t, n) {
                        l(e, t, n)
                    }
                };
            window.SoftgamesUserService = i
        } catch (s) {
            throw console && console.error("[" + n + "] " + s.message, s.stack),
                s
        }
    }(SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "https://m.softgames.de",
            r = "https://core.gamesmedia.de",
            i = "/api",
            s = "userGameDataService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var o = new e(s),
                u = function(e, s) {
                    function b(e, t) {
                        return i + "/" + t + "/" + e
                    }

                    function w() {
                        return window.sgPlatformRestrictedHostname ? r : n
                    }

                    function E(e, n, r) {
                        var i = w() + b(n, e);
                        return r !== undefined && !t.isEmptyObject(r) && (i = i + "?" + t.param(r)),
                            i
                    }

                    function S(e, n, r, i, s, u, a) {
                        o.debug("Request: " + r),
                            t.ajax({
                                method: n,
                                url: E(e, r, i),
                                data: s,
                                dataType: "json"
                            }).done(function(e) {
                                u(e)
                            }).fail(function(e) {
                                a(e)
                            })
                    }

                    function x(t, n) {
                        o.debug("Requesting user game data"),
                            S(f, u, a.replace(":userId", e).replace(":gameSlug", s), {}, t, function(e) {
                                typeof n == "function" && n(e, !0)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n([], !1)
                            })
                    }

                    function T(t, n) {
                        o.debug("Requesting currency update"),
                            S(h, l, c.replace(":userId", e).replace(":gameSlug", s), {}, t, function(e) {
                                typeof n == "function" && n(e, !0)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n([], !1)
                            })
                    }

                    function N(t, n) {
                        o.debug("Requesting storage update"),
                            S(h, l, c.replace(":userId", e).replace(":gameSlug", s), {}, t, function(e) {
                                typeof n == "function" && n(e, !0)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n([], !1)
                            })
                    }

                    function C(t, n) {
                        o.debug("Requesting storage update"),
                            S(v, p, d.replace(":userId", e).replace(":gameSlug", s), {}, t, function(e) {
                                typeof n == "function" && n(e, !0)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n([], !1)
                            })
                    }

                    function k(t, n) {
                        o.debug("Requesting storage update"),
                            S(y, m, g.replace(":userId", e).replace(":gameSlug", s), {}, t, function(e) {
                                typeof n == "function" && n(e, !0)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n([], !1)
                            })
                    }
                    if (!e)
                        throw new Error("No userId defined!");
                    if (!s)
                        throw new Error("No gameSlug defined!");
                    var u = "GET",
                        a = "users/:userId/games/:gameSlug/user_game_datas",
                        f = "v1",
                        l = "PUT",
                        c = "users/:userId/games/:gameSlug/user_game_datas",
                        h = "v1",
                        p = "PUT",
                        d = "users/:userId/games/:gameSlug/user_game_datas/unlock_item",
                        v = "v1",
                        m = "PUT",
                        g = "users/:userId/games/:gameSlug/user_game_datas/unlock_booster",
                        y = "v1";
                    this.data = function(e) {
                            x({}, e)
                        },
                        this.updateCurrency = function(e, t) {
                            T({
                                currency: e
                            }, t)
                        },
                        this.updateStorage = function(e, n) {
                            var r = [];
                            t.each(e, function(e, t) {
                                    r.push({
                                        key: e,
                                        value: t
                                    })
                                }),
                                N({
                                    storage: r
                                }, n)
                        },
                        this.unlockItem = function(e, t) {
                            C({
                                itemSlug: e
                            }, function(e, n) {
                                var r = [];
                                n && (r = e.unlockedItems),
                                    t(r, n)
                            })
                        },
                        this.unlockBooster = function(e, t) {
                            k({
                                boosterSlug: e
                            }, function(e, n) {
                                var r = [];
                                n && (r = e.unlockedBoosters),
                                    t(r, n)
                            })
                        }
                };
            window.SoftgamesUserGameDataService = u
        } catch (a) {
            throw console && console.error("[" + s + "] " + a.message, a.stack),
                a
        }
    }(SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "https://m.softgames.de",
            r = "https://core.gamesmedia.de",
            i = "/api",
            s = "freeCurrencyService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var o = new e(s),
                u = function(e, s) {
                    function p(e, t) {
                        return i + "/" + t + "/" + e
                    }

                    function d() {
                        return window.sgPlatformRestrictedHostname ? r : n
                    }

                    function v(e, n, r) {
                        var i = d() + p(n, e);
                        return r !== undefined && !t.isEmptyObject(r) && (i = i + "?" + t.param(r)),
                            i
                    }

                    function m(e, n, r, i, s, u, a) {
                        o.debug("Request: " + r),
                            t.ajax({
                                method: n,
                                url: v(e, r, i),
                                data: s,
                                dataType: "json"
                            }).done(function(e) {
                                u(e)
                            }).fail(function(e) {
                                a(e)
                            })
                    }

                    function g(t, n) {
                        o.debug("Requesting free currency data"),
                            m(f, u, a.replace(":userId", e).replace(":gameSlug", s), {}, t, function(e) {
                                typeof n == "function" && n(e, !0)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n([], !1)
                            })
                    }

                    function y(t, n, r) {
                        o.debug("Requesting free currency collect"),
                            m(h, l, c.replace(":userId", e).replace(":gameSlug", s), {}, t, function(e) {
                                typeof n == "function" && n(e, !0)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && r([], !1)
                            })
                    }
                    if (!e)
                        throw new Error("No userId defined!");
                    if (!s)
                        throw new Error("No gameSlug defined!");
                    var u = "GET",
                        a = "users/:userId/games/:gameSlug/free_ingame_currency",
                        f = "v1",
                        l = "POST",
                        c = "users/:userId/games/:gameSlug/free_ingame_currency/collect",
                        h = "v1";
                    this.data = function(e) {
                            g({}, e)
                        },
                        this.collect = function(e, t) {
                            y({}, e, t)
                        }
                };
            window.SoftgamesFreeCurrencyService = u
        } catch (a) {
            throw console && console.error("[" + s + "] " + a.message, a.stack),
                a
        }
    }(SoftgamesLogger, SG_jQuery),
    function(e, t, n, r) {
        // debugger;
        "use strict";
        var i = e.prototype.events,
            s = "userGameData",
            o = {
                kirkUserReady: "kirkUserReady",
                softgamesReady: "softgamesReady",
                userGameDataCurrencyUpdate: "userGameDataCurrencyUpdate",
                userGameDataExperienceUpdate: "userGameDataExperienceUpdate",
                userGameDataInitialized: "userGameDataInitialized"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function c() {
                        return n
                    }

                    function h() {
                        return e
                    }

                    function p(n) {
                        // debugger;
                        r = n.game_slug,
                            t = n.userGameDataConfig,
                            e = t.enabled
                    }

                    function d(e) {
                        f.forEach(function(t) {
                            a[t] = e[t]
                        })
                    }

                    function v(e) {
                        d(e),
                            n = !0,
                            i.fire(o.userGameDataInitialized, e)
                    }

                    function m(e) {
                        a.currency += e
                    }

                    function g(e) {
                        a.experienceCurrentLevelPercentage = e.experienceCurrentLevelPercentage,
                            a.experience += e.experience,
                            e.experienceLevel !== null && (a.experienceLevel += e.experienceLevel)
                    }

                    function y(t) {
                        u.debug("User [kirk] data: ", t),
                            s = t,
                            e && (l = new SoftgamesUserGameDataService(s.userId, r),
                                l.data(v),
                                i.on(o.userGameDataCurrencyUpdate, m),
                                i.on(o.userGameDataExperienceUpdate, g))
                    }

                    function b() {
                        // return a.currency
                        return 0
                    }

                    function w() {
                        // return a.experience
                        return 0
                    }

                    function E() {
                        // return a.experienceLevel
                        return 1;
                    }

                    function S() {
                        // return a.experienceCurrentLevelPercentage
                        return 0
                    }

                    function x() {
                        // return a.storage
                        return null
                    }

                    function T(e) {
                        u.debug("Update user game currnecy: ", e)
                    }

                    function N(e) {
                        u.debug("Update user game currnecy: ", e)
                    }

                    function C(e) {
                        typeof e == "number" ? (u.debug("Increase currency by: ", e),
                            a.currency = a.currency + e,
                            l.updateCurrency(e, T)) : u.debug("Invalid amount: ", e)
                    }

                    function k(e) {
                        typeof e == "number" ? (u.debug("Decrease currency by: ", e),
                            a.currency = a.currency - e,
                            l.updateCurrency(-e, N)) : u.debug("Invalid amount: ", e)
                    }

                    function L() {
                        u.debug("Game storage sent")
                    }

                    function A(e) {
                        l.updateStorage(e, L)
                    }

                    function O(e, t) {
                        l.unlockItem(e, t)
                    }

                    function M(e, t) {
                        l.unlockItem(e, t)
                    }
                    var e = !1,
                        t, n = !1,
                        r, s, a = {
                            currency: 0,
                            experience: 0,
                            // experienceLevel: 0,
                            experienceLevel: 1,
                            experienceCurrentLevelPercentage: 0,
                            storage: {}
                        },
                        f = ["currency", "experience", "experienceLevel", "experienceCurrentLevelPercentage", "storage"],
                        l;
                    this.isEnabled = h,
                        this.isInitiated = c,
                        this.getExperience = w,
                        this.getExperienceLevel = E,
                        this.getExperiencePercentage = S,
                        this.getStorage = x,
                        this.updateStorage = A,
                        this.getCurrency = b,
                        this.addCurrency = C,
                        this.deductCurrency = k,
                        this.unlockItem = O,
                        this.unlockBooster = M,
                        i.on(o.softgamesReady, p),
                        i.on(o.kirkUserReady, y)
                };
            e.prototype.userGameDataHandler = new a,
                u.debug("Added trackerHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "userGameData",
            o = {
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady",
                userGameDataCurrencyUpdate: "userGameDataCurrencyUpdate",
                freeCurrencyAvailable: "freeCurrencyAvailable",
                freeCurrencyInitialized: "freeCurrencyInitialized"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function l(e) {
                        // debugger;
                        r = e.game_slug
                    }

                    function c(t) {
                        n = t.userId,
                            e = new SoftgamesFreeCurrencyService(n, r)
                    }

                    function h() {
                        return s
                    }

                    function p() {
                        return t.available === !0
                    }

                    function d() {
                        return p() ? null : t.availableFrom !== undefined ? new Date(t.availableFrom * 1e3) : undefined
                    }

                    function v() {
                        return t.availableFrom * 1e3 - Date.now() + 200
                    }

                    function m() {
                        return {
                            isAvailable: p(),
                            waitTill: d()
                        }
                    }

                    function g() {
                        a === undefined && t.available === !1 && t.availableFrom > 0 && (a = setTimeout(function() {
                            a = undefined,
                                b(function(e) {
                                    i.fire(o.freeCurrencyAvailable, e)
                                })
                        }, v()))
                    }

                    function y(e, n) {
                        u.debug("Data response: ", e),
                            t = e,
                            f === !1 && (i.fire(o.freeCurrencyInitialized),
                                s = !0,
                                f = !0),
                            g(),
                            typeof n == "function" && n(m())
                    }

                    function b(t) {
                        e.data(function(e) {
                            y(e, t)
                        })
                    }

                    function w(e, n) {
                        u.debug("Collect response: ", e),
                            typeof n == "function" && (t = e,
                                i.fire(o.userGameDataCurrencyUpdate, e.amount),
                                n({
                                    collected: e.amount
                                }),
                                g())
                    }

                    function E(e, t) {
                        u.debug("Collect error response: ", e),
                            typeof t == "function" && t({
                                collected: null
                            })
                    }

                    function S(t) {
                        e.collect(function(e) {
                            w(e, t)
                        }, function(e) {
                            E(e, t)
                        })
                    }

                    function x() {
                        return t.amount
                    }
                    var e = null,
                        t = {},
                        n = null,
                        r = null,
                        s = !1,
                        a, f = !1;
                    this.refresh = b,
                        this.collect = S,
                        this.isAvailable = p,
                        this.waitTill = d,
                        this.amount = x,
                        this.isInitiated = h,
                        i.on(o.kirkUserReady, c),
                        i.on(o.softgamesReady, l)
                };
            e.prototype.freeCurrencyHandler = new a,
                u.debug("Added trackerHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n, r, i) {
        "use strict";
        var s = e.prototype.events,
            o = "highscores",
            u = {
                gameDataLoaded: "gameDataLoaded",
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady",
                modalWindowOpened: "modalWindowOpened",
                modalWindowClosed: "modalWindowClosed",
                modalWindowChange: "modalWindowChange",
                gameLevelStarted: "levelStarted",
                gameLevelFinished: "levelFinished",
                finishedLoadingFlow: "finishedLoadingFlow"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("No SG_jQuery defined!");
            if (!n)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var a = new t(o),
                f = function() {
                    function C() {
                        return e
                    }

                    function k(t) {
                        p = {},
                            d = {};
                        if (t.feature_highscores)
                            if (t.highscores) {
                                m = n.getModalWindow(o),
                                    f = t.highscores.type,
                                    g = t.highscores.templates,
                                    x = t.highscores.scores;
                                var r = new SoftgamesAvatars;
                                E = r.getList(),
                                    x === undefined && (x = []),
                                    w = !t.highscores.nativeEnabled,
                                    s.on(u.kirkUserReady, tt),
                                    s.on(u.gameLevelStarted, Z),
                                    s.on(u.gameLevelFinished, et),
                                    e = !0,
                                    a.info("initiated")
                            } else
                                a.info("No highscore config given");
                        else
                            a.info("feature not enabled")
                    }

                    function L(e) {
                        t = e
                    }

                    function A(e) {
                        return e === l ? 1 : 0
                    }

                    function O(e) {
                        r.each(e, function(e, t) {
                            v[t.level] = t.usersAmount
                        })
                    }

                    function M(e) {
                        return r("<div/>").text(e).html()
                    }

                    function _(e) {
                        S = e
                    }

                    function D(e) {
                        var t = E[e],
                            n;
                        return e && (e.match(/graph.facebook.com/) || e.match(/fbcdn.net/)) ? n = e : t === undefined && (t = E.blank,
                                n = t.image_url),
                            '<img class="img-circle avatar" src="' + n + '" />'
                    }

                    function P(t) {
                        if (!e)
                            throw new Error("Not initiated");
                        var n = null;
                        x[t] !== undefined && (n = x[t]),
                            n || (n = []);
                        var i = p[t],
                            s = [],
                            o = !1;
                        r.each(n, function(e, t) {
                            if (i > t.score && o === !1) {
                                var n = S.name;
                                n === undefined && (n = "me");
                                var r = 1;
                                if (s.length > 0) {
                                    var u = s[s.length - 1];
                                    u.score === i ? r = u.position : r = u.position + 1
                                }
                                s.push({
                                        user: n,
                                        score: i,
                                        me: !0,
                                        avatar: S.avatar,
                                        position: r
                                    }),
                                    o = !0
                            }
                            (t.id !== S.externalId || o === !1) && s.push({
                                user: t.name,
                                score: t.score,
                                me: S.externalId === t.id,
                                avatar: t.avatar,
                                position: t.position
                            })
                        });
                        if (s.length < 10 && o === !1 && i !== undefined && i > 0) {
                            var u = S.name;
                            u === undefined && (u = "me");
                            var a = 1;
                            if (s.length > 0) {
                                var f = s[s.length - 1];
                                f.score === i ? a = f.position : a = f.position + 1
                            }
                            s.push({
                                user: u,
                                score: i,
                                me: !0,
                                avatar: S.avatar,
                                position: a
                            })
                        }
                        if (s.length > 0) {
                            var l = s[0].score,
                                c = 1;
                            r.each(s, function(e, t) {
                                t.score === l ? t.position = c : t.position = e + 1,
                                    c = t.position,
                                    l = t.score
                            })
                        }
                        return s
                    }

                    function H(e) {
                        return p[e]
                    }

                    function B(e) {
                        return d[e]
                    }

                    function j(e) {
                        return isNaN(parseInt(e)) ? !1 : parseInt(e) > 2147483647 ? !1 : parseInt(e).toString() !== e.toString() ? !1 : !0
                    }

                    function F(n, i) {
                        if (!e)
                            throw new Error("Not initiated");
                        // debugger;
                        r.ajax({
                            method: "GET",
                            url: location.protocol + "//" + t.host + "kirk/games/" + t.game_slug + "/highscores/?user_id=" + S.externalId
                        }).done(function(e) {
                            J(e.scores, n),
                                K(e.userScores),
                                O(e.gameLevelPlayers),
                                i(e)
                        })
                    }

                    function I(n) {
                        // debugger;
                        if (!e)
                            throw new Error("Not initiated");
                        var i = [];
                        r.each(p, function(e, t) {
                                i.push({
                                    level: e,
                                    score: t
                                })
                            }),
                            SG_jQuery.ajax({
                                method: "POST",
                                url: "https://" + t.host + "kirk/users/" + S.externalId + "/highscores/?game_slug=" + t.game_slug + "&k=" + S.authToken,
                                processData: !1,
                                contentType: "application/json",
                                data: JSON.stringify(i)
                            }).done(function() {
                                n()
                            })
                    }

                    function q(e) {
                        if (r("#voyager-highscores ul li").length > 0) {
                            var t = 0,
                                n = r("#voyager-highscores ul li")[0].clientWidth;
                            e === "last" ? t = n * (r("#voyager-highscores ul li").length - 1) : t = n * e - n / 2,
                                r("#voyager-highscores ul").animate({
                                    scrollLeft: t
                                }, 800)
                        }
                    }

                    function R(e, t) {
                        var n = r('<div class="col-md-12 col-sm-12 col-xs-12 user-score-container paddingless right"></div>');
                        n.append('<div class="col-md-3 col-sm-3 col-xs-3 paddingless left right user-level">#' + e.position + "</div>"),
                            n.append('<div class="col-md-3 col-sm-3 col-xs-3 paddingless left right user-avatar">' + D(e.avatar) + "</div>"),
                            n.append('<div class="col-md-5 col-xs-5 col-xs-5 paddingless left right user-details"><div class="col-md-12 col-sm-12 col-xs-12 paddingless left right user-name">' + e.user + "</div>" + '<div class="col-md-12 col-sm-12 col-xs-12 paddingless left right user-score">' + e.score + "</div>" + "</div>");
                        var i = r('<li class="paddingless left right"></li>');
                        t && (i.addClass("selected"),
                            r("#voyager-highscores ul li:last").addClass("before_selected"));
                        var s = i.append(n);
                        r("#voyager-highscores ul").append(s)
                    }

                    function U() {
                        var e = r('<div class="col-md-12 col-sm-12 col-xs-12 user-score-container paddingless right"></div>');
                        e.append('<div class="col-md-2 col-sm-2 col-xs-2 paddingless left right user-level">...</div>');
                        var t = r('<li class="paddingless left right small"></li>').append(e);
                        r("#voyager-highscores ul").append(t)
                    }

                    function z(e) {
                        var t = r('<div class="col-md-12 col-sm-12 col-xs-12 user-score-container paddingless right"></div>');
                        t.append('<div class="col-md-2 col-sm-2 col-xs-2 paddingless left right user-level">&nbsp;</div>'),
                            t.append('<div class="col-md-7 col-xs-7 col-xs-7 col-md-offset-1 col-sm-offset-1 col-xs-offset-1 paddingless left right user-details"><div class="col-md-12 col-sm-12 col-xs-12 paddingless left right">of ' + e + "</div>" + '<div class="col-md-12 col-sm-12 col-xs-12 paddingless left right">Players</div>' + "</div>");
                        var n = r('<li class="paddingless left right small"></li>'),
                            i = n.append(t);
                        r("#voyager-highscores ul").append(i)
                    }

                    function W(e) {
                        var t = P(e),
                            n = null;
                        r(".highscore-wrapper").css("width", r("canvas").css("width")),
                            r("#voyager-highscores ul li").remove(),
                            f === l && (r(".level-container").empty().append('<span>Level</span><span class="level">' + e + "</span>").show(),
                                r(".highscore-wrapper ul").css("margin-left", r(".level-container").css("width")));
                        var i = !1,
                            s = 1;
                        r.each(t, function(e, t) {
                                R(t, t.me),
                                    t.me && (n = e),
                                    i || (i = t.me),
                                    s = t.position
                            }),
                            i === !1 && d[e] >= s && (n = "last",
                                d[e] > s && U(),
                                R({
                                    position: d[e],
                                    avatar: S.avatar,
                                    user: S.name,
                                    score: p[e]
                                }, !0)), !S.known && p[e] !== undefined && (r(".save-highscore-container").addClass("col-md-2 col-sm-2 col-xs-2"),
                                r(".save-highscore-container").show()),
                            r("#save-highscore-container").unbind("click"),
                            r("#save-highscore-container").on("click", function(t) {
                                return I(function() {
                                        a.debug("Scores have been sent"),
                                            X(e)
                                    }),
                                    G(), !1
                            }),
                            v[e] > 1 && z(v[e]),
                            q(n),
                            y = e
                    }

                    function X(t, n, r) {
                        if (!e)
                            throw new Error("Not initiated");
                        if (!j(t)) {
                            a.debug("Invalid level: " + t);
                            return
                        }
                        r = r || function() {};
                        var i = t;
                        t === undefined && (i = 0),
                            x[i] === undefined || n === !0 ? F(i, function() {
                                w && W(i),
                                    r(x[i])
                            }) : (w && W(i),
                                r(x[i]))
                    }

                    function V(t, n, r) {
                        r = r || function() {};
                        if (!e)
                            throw new Error("Not initiated");
                        return j(n) ? j(t) ? (n > h && (a.debug("New best score: " + n),
                                h = n),
                            p[t] === undefined || p[t] <= n ? (p[t] = n,
                                S.known ? I(function() {
                                    a.debug("Scores have been sent"),
                                        X(t, !0, r)
                                }) : r(), !0) : (r(), !1)) : (a.debug("Invalid level: " + t), !1) : (a.debug("Invalid socre: " + n), !1)
                    }

                    function $() {
                        if (!e)
                            throw new Error("Not initiated");
                        return h
                    }

                    function J(e, t) {
                        x = [
                                []
                            ],
                            r.each(e, function(e, t) {
                                x[e] = [],
                                    r.each(t, function(t, n) {
                                        x[e].push(n)
                                    })
                            })
                    }

                    function K(e) {
                        r.each(e, function(e, t) {
                            if (p[t.level] === undefined || p[t.level] <= t.score)
                                p[t.level] = t.score,
                                d[t.level] = t.pos
                        })
                    }

                    function Q(o, f) {
                        function l() {
                            s.remove(u.modalWindowOpened, l),
                                S.known || r("#highscore-create-profile").removeClass("hidden"),
                                r("h3#highscore").text(f),
                                r("h4#new-highscore-label").text(r("h4#new-highscore-label").text().replace("%level%", o)),
                                r("#save-highscore").on("click", function(e) {
                                    G()
                                }),
                                r("#play-again").on("click", function(e) {
                                    m.close()
                                });
                            var e = r("#share-fb").data("href");
                            r("#share-fb").on("click", function(t) {
                                    i.open(e, "_blank")
                                }),
                                r("#more-games").on("click", function(e) {
                                    n.closeAll(),
                                        t._startEndLevelFlow(function() {}, 1)
                                })
                        }
                        try {
                            if (!e)
                                throw new Error("Not initiated");
                            s.on(u.modalWindowOpened, l),
                                s.on(u.modalWindowChange, l),
                                m.open("New highscore", g["new-highscore"])
                        } catch (c) {
                            a.debug(c)
                        }
                    }

                    function G() {
                        function t() {
                            r(".form-group#name").removeClass("has-error"),
                                r(".form-group#avatar").removeClass("has-error"),
                                r(".form-group#name span#help-block").html(""),
                                r(".form-group#avatar span#help-block").html(""),
                                r("form#user-name #inputName").attr("maxlength", N),
                                r("img.avatar").on("click", function(e) {
                                    r("img.avatar").removeClass("selected"),
                                        r(this).addClass("selected")
                                }),
                                r("form#user-name").submit(function(e) {
                                    r("form#user-name #inputName").val(M(r("form#user-name #inputName").val()));
                                    var t = !1;
                                    return r("form#user-name #inputName").val().length < T && (r(".form-group#name").addClass("has-error"),
                                            r(".form-group#name span#help-block").html("Name is too short (min " + T + " characters)"),
                                            t = !0),
                                        r("form#user-name #inputName").val().length > N && (r(".form-group#name").addClass("has-error"),
                                            r(".form-group#name span#help-block").html("Name is too long (max " + N + " characters)"),
                                            t = !0),
                                        r("img.avatar.selected").length === 0 && (r(".form-group#avatar").addClass("has-error"),
                                            r(".form-group#avatar span#help-block").html("Select your avatar"),
                                            t = !0),
                                        t ? !1 : (Y({
                                            name: r("form#user-name #inputName").val(),
                                            avatar: r("img.avatar.selected").data("avatar-slug")
                                        }, function(e) {
                                            I(function() {
                                                    a.debug("Scores have been sent"),
                                                        X(b, !0)
                                                }),
                                                S.avatar = r("img.avatar.selected").data("avatar-slug"),
                                                S.name = r("form#user-name #inputName").val(),
                                                S.known = !0,
                                                r("#save-highscore-container").hide(),
                                                r(".sg-modal-window-content").html('<div class="alert alert-success" role="alert">Your name and scores has been saved</div><button id="close-button" class="btn btn-default">Close</button>'),
                                                r("li .panel.me button").remove(),
                                                r(".sg-modal-window-content #close-button").on("click", function() {
                                                    m.close()
                                                })
                                        }), !1)
                                })
                        }
                        try {
                            if (!e)
                                throw new Error("Not initiated");
                            m.open("Enter your name", g["user-form"], null, t)
                        } catch (n) {
                            a.debug(n)
                        }
                    }

                    function Y(t, n) {
                        try {
                            if (!e)
                                throw new Error("Not initiated");
                            SG_jQuery.ajax({
                                method: "PUT",
                                url: "http://" + softgames.host + "kirk/users/" + S.externalId + "/?game_slug=" + softgames.game_slug + "&k=" + S.authToken,
                                data: t
                            }).done(function() {
                                S.name = t.name,
                                    S.avatar = t.avatar,
                                    S.known = !0,
                                    n()
                            })
                        } catch (r) {
                            a.debug(r)
                        }
                    }

                    function Z(e) {
                        C() && (y !== null && y !== e.level && X(e.level),
                            b = e.level)
                    }

                    function et(e) {
                        C() && V(e.level, e.score) && X(e.level)
                    }

                    function tt(e) {
                        _(e),
                            nt(),
                            S !== undefined && S.known === !1 && SG_jQuery(".save-highscore-container").show()
                    }

                    function nt() {
                        X(A(f))
                    }

                    function rt() {
                        s.remove(u.gameLevelStarted, Z),
                            s.remove(u.gameLevelFinished, et)
                    }

                    function it() {
                        return {
                            highscores: {
                                enableEmbedViews: C() && w == 0
                            }
                        }
                    }
                    var e = !1,
                        t = null,
                        f = null,
                        l = "level-score",
                        c = {
                            "best-level": "Best level",
                            "best-score": "Best score",
                            "level-score": "Score"
                        },
                        h = 0,
                        p, d, v = {},
                        m = null,
                        g = null,
                        y = null,
                        b = null,
                        w = !1,
                        E = {},
                        S = {
                            name: "me",
                            avatar: ""
                        },
                        x = null,
                        T = 4,
                        N = 16;
                    s.on(u.gameDataLoaded, k),
                        s.on(u.softgamesReady, L),
                        this.updateUser = Y,
                        this.isInitiated = C,
                        this.currentBestScore = $,
                        this.refreshHighscores = X,
                        this.newScore = V,
                        this.getMyScore = H,
                        this.getMyPos = B,
                        this.switchOff = rt,
                        this.isEnabled = C,
                        this.getConfig = it
                };
            e.prototype.highscoresHandler = new f,
                a.debug("Added highscoresHandler to Softgames-Prototype")
        } catch (l) {
            throw console && console.error("[" + o + "] " + l.message, l.stack),
                l
        }
    }(Softgames, SoftgamesLogger, softgamesModalWindow, SG_jQuery, window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "Login",
            s = {
                softgamesReady: "softgamesReady",
                userLogInCompleted: "userLogInCompleted"
            },
            o = {
                facebook: "facebook"
            },
            u = "kirk",
            a = "voyagerLoginModule",
            f = {
                frameLoaded: "frameLoaded",
                loginButtonClicked: "loginButtonClicked",
                loginSuccess: "loginSuccess",
                loginFailed: "loginFailed",
                alreadyLoggedIn: "alreadyLoggedIn"
            },
            l = {
                resize: "resize"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var c = new t(i),
                h = function() {
                    function m() {
                        return e
                    }

                    function g(t) {
                        try {
                            h = t,
                                window.addEventListener("message", y),
                                e = !0
                        } catch (n) {
                            c.error("Failed to init " + i, n)
                        }
                    }

                    function y(e) {
                        try {
                            var t = e.data;
                            if (t.sender === u) {
                                c.debug("message received from kirk: ", t);
                                switch (t.request) {
                                    case f.frameLoaded:
                                        n(window).on("resize", S);
                                        break;
                                    case f.loginButtonClicked:
                                        b();
                                        break;
                                    case f.alreadyLoggedIn:
                                        r.on(s.userLogInCompleted, E);
                                        break;
                                    case f.loginFailed:
                                        w();
                                        break;
                                    case f.loginSuccess:
                                        r.on(s.userLogInCompleted, E)
                                }
                            }
                        } catch (i) {
                            c.error("Failed to handle message: ", i)
                        }
                    }

                    function b() {
                        try {
                            if (!d)
                                throw new Error("No iframe created");
                            p = {
                                    position: d.css("position"),
                                    margin: d.css("margin"),
                                    top: d.css("top"),
                                    bottom: d.css("bottom"),
                                    left: d.css("left"),
                                    right: d.css("right"),
                                    height: d.css("height"),
                                    width: d.css("width")
                                },
                                d.css({
                                    position: "fixed",
                                    top: "0",
                                    left: "0",
                                    width: n(window).width(),
                                    height: n(window.height)
                                })
                        } catch (e) {
                            c.error("Failed to scale up iframe: ", e)
                        }
                    }

                    function w() {
                        try {
                            if (!d)
                                throw new Error("No iframe created");
                            if (!p)
                                throw new Error("Iframe was not previously scaled down");
                            d.css(p),
                                t({
                                    status: "failed"
                                })
                        } catch (e) {
                            c.debug("Failed to scale down iframe", e)
                        }
                    }

                    function E() {
                        typeof t == "function" && t({
                            status: h.user.known ? "success" : "failed"
                        })
                    }

                    function S() {
                        x(l.resize)
                    }

                    function x(e, t) {
                        try {
                            var n = document.getElementById(v);
                            if (!n)
                                throw new Error("No iframe created");
                            c.info("Sending message to iframe: ", e, t),
                                n.contentWindow.postMessage({
                                    sender: a,
                                    request: e,
                                    data: t
                                }, "*")
                        } catch (r) {
                            c.error("Error sending message to login iframe: ", r)
                        }
                    }

                    function T(e, n) {
                        t = n;
                        var r = o.facebook;
                        return d = N(e, r), {
                            type: r,
                            content: d[0].outerHTML
                        }
                    }

                    function N(e, t) {
                        var r = "http://m.softgames.de/games/" + h.game_slug + "/facebook_login/?p=" + h.subplatform;
                        for (var i in e)
                            e.hasOwnProperty(i) && (r += "&" + encodeURIComponent(i) + "=" + encodeURIComponent(e[i]));
                        var s = "Sign up now!";
                        return r += "&text=" + encodeURIComponent(s),
                            v = "sg-" + t + "-login-iframe",
                            n("<iframe>").attr("id", v).attr("src", r).attr("width", "100%").attr("height", "100%").css({
                                width: "100%",
                                height: "100%"
                            })
                    }
                    var e = !1,
                        t = null,
                        h = null,
                        p = null,
                        d = null,
                        v = null;
                    r.on(s.softgamesReady, g),
                        this.getLoginButton = T
                };
            e.prototype.loginHandler = new h,
                c.debug("Added loginHandler to Softgames-Prototype")
        } catch (p) {
            throw console && console.error("[" + i + "] " + p.message, p.stack),
                p
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = 1,
            s = "http://cvr.softgames.de/api",
            o = "/sessions/new",
            u = "GET",
            a = "/game_events",
            f = "POST",
            l = "ho_trans_id",
            c = "cvrService",
            h = {
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady",
                gameLevelUp: "gameLevelUp",
                gameGameOver: "gameGameOver",
                adShown: "adShown"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var p = new t(c),
                d = function() {
                    function E() {
                        return e
                    }

                    function S(e, t, n, r, o) {
                        SG_jQuery.ajax({
                            method: e,
                            url: s + t,
                            data: n,
                            headers: {
                                Accept: "application/vnd.softgames.com; version=" + i
                            }
                        }).done(function(e) {
                            r(e)
                        }).fail(function(e) {
                            o(e)
                        })
                    }

                    function x(e) {
                        // debugger;
                        S(u, o, {
                            external_user_id: m,
                            has_offers_transaction_id: n,
                            game_slug: d,
                            partner_name: v,
                            country_code: g
                        }, function(n) {
                            t = n.usid,
                                w = n.events,
                                console.log(w),
                                e()
                        }, function(e) {
                            p.debug("Problem for getting session ID: " + e)
                        })
                    }

                    function T(e) {
                        e ? y = "mobile" : y = "desktop"
                    }

                    function N(t) {
                        // debugger;
                        if (t.featuresHandler.enabled(c)) {
                            d = t.game_slug,
                                v = t.subplatform,
                                m = t.external_user_id,
                                g = t.country,
                                n = t._getUrlParameter(l),
                                T(t._isMobile()),
                                t.triggerConversionCustomCallback = !0,
                                t.adsConversionShowPopup && (b = t.conversionPopup);
                            if (d === undefined) {
                                p.debug("Game slug is undefined.");
                                return
                            }
                            if (v === undefined) {
                                p.debug("Partner name is undefined.");
                                return
                            }
                            if (g === undefined) {
                                p.debug("Country code is undefined.");
                                return
                            }
                            if (n === undefined) {
                                p.debug("HasOffers transcation id is undefined.");
                                return
                            }
                            r.on(h.kirkUserReady, function(t) {
                                m = t.userId,
                                    x(function() {
                                        e = !0,
                                            p.debug("initiated")
                                    })
                            })
                        } else
                            p.debug("CVR client is disabled")
                    }

                    function C(e, n, r) {
                        E() && S(f, a, {
                            usid: t,
                            name: e,
                            data: n
                        }, function(e) {
                            console.log(e),
                                e.conversion === "done" && b.showPopup(),
                                typeof r == "function" && r()
                        }, function(e) {
                            p.debug("Problem for sending game event: " + e),
                                typeof r == "function" && r()
                        })
                    }

                    function k(e, t) {
                        w.indexOf("levelUp") != -1 && C("levelUp", {
                            level: e.level,
                            score: e.lastLevelScore,
                            level_base: undefined
                        }, t)
                    }

                    function L(e, t) {
                        w.indexOf("gameOver") != -1 && C("gameOver", {
                            score: e.score
                        }, t)
                    }

                    function A(e, t) {
                        w.indexOf("adShown") != -1 && C("adShown", {
                            amount: e.amount,
                            platform: y
                        }, t)
                    }
                    var e = !1,
                        t = null,
                        n = null,
                        d = null,
                        v = null,
                        m = null,
                        g = null,
                        y = null,
                        b = null,
                        w = [];
                    r.on(h.softgamesReady, N),
                        r.on(h.gameLevelUp, k),
                        r.on(h.gameGameOver, L),
                        r.on(h.adShown, A, c)
                };
            e.prototype.cvrClient = new d,
                p.debug("Added cvrClient to Softgames-Prototype")
        } catch (v) {
            throw console && console.error("[" + c + "] " + v.message, v.stack),
                v
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "offerwallConversions",
            o = {
                softgamesReady: "softgamesReady",
                gameGameOver: "gameGameOver",
                adStarted: "voyagerAdCall",
                adFinished: "closeAd"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function n(e, t) {
                        var n = {
                            sender: "softgamesVoyagerOfferwallConversions",
                            request: e,
                            data: t
                        };
                        r.parent.postMessage(JSON.stringify(n), "*")
                    }

                    function a() {
                        t ? i.on(o.adFinished, h) : f()
                    }

                    function f() {
                        n("userConverted", {
                            gameSlug: e
                        })
                    }

                    function l() {
                        n("gameOver", {})
                    }

                    function c() {
                        t = !0
                    }

                    function h() {
                        i.remove(o.adFinished, h),
                            f()
                    }

                    function p(t) {
                        // debugger;
                        t.featuresHandler && t.featuresHandler.enabled(s) ? (e = t.game_slug,
                            t.triggerConversionCustomCallback = !0,
                            t._onTriggerConversion = a,
                            i.on(o.gameGameOver, l),
                            i.on(o.adStarted, c),
                            u.debug("initiated")) : u.debug("feature not enabled")
                    }
                    var e = null,
                        t = !1;
                    i.on(o.softgamesReady, p)
                };
            e.prototype.OfferwallConversionsHandler = new a,
                u.debug("Added offerwallConversionsHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    window.SplitPageAd = function(e, t) {
        "use strict";

        function n(e, t) {
            t ? console.log(e, t) : console.log(e)
        }

        function r(e, r) {
            function s(e) {
                var n = setInterval(function() {
                    t.styleSheets.length > i && (clearInterval(n),
                        e())
                }, 10)
            }
            if (o(e)) {
                n(e + " already exists - loading skipped"),
                    r();
                return
            }
            var i = t.styleSheets.length,
                u = t.createElement("link");
            u.type = "text/css",
                u.href = e,
                u.rel = "stylesheet",
                typeof r == "function" && s(r),
                t.getElementsByTagName("head")[0].appendChild(u)
        }

        function i(e, r) {
            if (s(e)) {
                n(e + " already exists - loading skipped"),
                    r();
                return
            }
            var i = t.createElement("script");
            i.src = e,
                i.async = !0,
                i.type = "text/javascript",
                typeof r == "function" && (i.onreadystatechange = i.onload = function() {
                    if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")
                        i.onreadystatechange = i.onload = null,
                        r()
                }),
                t.getElementsByTagName("head")[0].appendChild(i)
        }

        function s(e) {
            var n = t.getElementsByTagName("script");
            for (var r = 0; r < n.length; r++)
                if (n[r].src === e)
                    return !0;
            return !1
        }

        function o(e) {
            var n = t.getElementsByTagName("link");
            for (var r = 0; r < n.length; r++)
                if (n[r].href === e)
                    return !0;
            return !1
        }
        return function(s) {
            this.settings = s,
                this.showAd = function() {
                    n("Try to show ad via split page ima module"),
                        this.cleanUp(),
                        this.adSlot = t.getElementById(this.settings.slotId);
                    if (!this.adSlot) {
                        n("Could not get adSlot", this.settings.slotId);
                        return
                    }
                    this.prepareLooks();
                    var e = this,
                        s = 0,
                        o = function() {
                            s++,
                            s == 2 && e.requestAds()
                        },
                        u = "//s0.2mdn.net/instream/html5/ima3.js";
                    r("https://mediamanager.softgames.de/media-controller.css", o),
                        i(u, o)
                },
                this.getVastUrl = function() {
                    var e = this.settings,
                        r = [],
                        i = e.voyager.customParams,
                        s;
                    if (i)
                        for (s in i)
                            r.push(s + "=" + i[s]);
                    var o = e.vastBaseUrl,
                        u = e.vastUrlQuery;
                    u.url = t.location.href,
                        u.correlator = Date.now(),
                        u.cust_params = r.join("&"),
                        e.descriptionUrl ? u.description_url = e.descriptionUrl : u.description_url = "//m.softgames.de/games/adtext/" + e.voyager.game + "/?locale=" + e.voyager.language;
                    var a = [],
                        f = "";
                    for (s in u)
                        f = s,
                        u[s] && (f += "=" + encodeURIComponent(u[s])),
                        a.push(f);
                    var l = o + "?" + a.join("&");
                    return n("Created vast url:", l),
                        l
                },
                this.prepareLooks = function() {
                    n("prepare looks"),
                        t.getElementById("splitPageAdDiv") === null ? (this.adDiv = t.createElement("div"),
                            this.adDiv.id = "splitPageAdDiv",
                            this.adSlot && this.adSlot.appendChild(this.adDiv)) : (this.adDiv = t.getElementById("splitPageAdDiv"),
                            this.adDiv.innerHTML = ""),
                        this.adDiv.setAttribute("type", "video"),
                        this.adSlotBackupStyle = {},
                        e.softgames && typeof e.softgames._deepCopy == "function" && (this.adSlotBackupStyle = e.softgames._deepCopy(this.adSlot.style, 5)),
                        this.adSlot.style.width = "100%",
                        this.adSlot.style.maxWidth = "530px"
                },
                this.cleanUp = function() {
                    n("clean up"),
                        this.isVideo = !1,
                        this.adSlot && (this.adSlot.innerHTML = "",
                            this.adSlot.style.width = this.adSlotBackupStyle.width,
                            this.adSlot.style.maxWidth = this.adSlotBackupStyle.maxWidth,
                            this.adsManager && this.adsManager.destroy(),
                            this.adSlot = this.adDiv = this.adsManager = this.adsLoader = this.adDisplayContainer = null),
                        clearInterval(this.intervalReference)
                },
                this.detectDimensions = function() {
                    var t = {
                            w: 530,
                            h: 300
                        },
                        r = e.getComputedStyle(this.adDiv, null);
                    return r ? (t.w = parseInt(r.getPropertyValue("width").slice(0, -2)),
                        t.h = parseInt(r.getPropertyValue("height").slice(0, -2)),
                        n("detected dimensions: " + t.w + " x " + t.h),
                        t) : (n("No style detected for adDiv"),
                        t)
                },
                this.setAdSize = function(e, t) {
                    n("set ad size to: " + e + " x " + t),
                        this.adDiv.style.height = t + "px"
                },
                this.requestAds = function() {
                    try {
                        n("Request ads");
                        var e = this.getVastUrl();
                        this.adDisplayContainer = new google.ima.AdDisplayContainer(this.adDiv),
                            this.adDisplayContainer.initialize(),
                            this.adsLoader = new google.ima.AdsLoader(this.adDisplayContainer);
                        var t = this;
                        this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, function(e) {
                                t.onAdsManagerLoaded(e)
                            }, !1),
                            this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function(e) {
                                t.onAdError(e)
                            }, !1);
                        var r = new google.ima.AdsRequest;
                        r.adTagUrl = e,
                            this.requestedVastUrl = e;
                        var i = this.detectDimensions();
                        r.linearAdSlotWidth = i.w,
                            r.linearAdSlotHeight = i.h,
                            r.nonLinearAdSlotWidth = i.w,
                            r.nonLinearAdSlotHeight = i.h,
                            r.disableCompanionAds = this.settings.disableCompanionAds,
                            this.adsLoader.requestAds(r)
                    } catch (s) {
                        n("adsLoader-Error", s),
                            this.onAdError(s)
                    }
                },
                this.interupt = function() {
                    this.closeAd("interupt", !0)
                },
                this.onAdsManagerLoaded = function(e) {
                    try {
                        n("Ad Event: adsmanager loaded");
                        var t = new google.ima.AdsRenderingSettings;
                        t.autoAlign = !0,
                            t.useStyledNonLinearAds = !0,
                            this.adsManager = e.getAdsManager(this.adDiv, t);
                        var r = this;
                        this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, function(e) {
                                r.onAdError(e)
                            }),
                            this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK, function(e) {
                                r.onAdClicked(e)
                            });
                        var i = [google.ima.AdEvent.Type.ALL_ADS_COMPLETED, google.ima.AdEvent.Type.AD_METADATA, google.ima.AdEvent.Type.COMPLETE, google.ima.AdEvent.Type.FIRST_QUARTILE, google.ima.AdEvent.Type.LOADED, google.ima.AdEvent.Type.MIDPOINT, google.ima.AdEvent.Type.PAUSED, google.ima.AdEvent.Type.EXPANDED_CHANGED, google.ima.AdEvent.Type.STARTED, google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED, google.ima.AdEvent.Type.THIRD_QUARTILE, google.ima.AdEvent.Type.USER_CLOSE, google.ima.AdEvent.Type.SKIPPED, google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED];
                        for (var s in i)
                            this.adsManager.addEventListener(i[s], function(e) {
                                r.onAdEvent(e)
                            }, !1, this);
                        var o = this.detectDimensions();
                        this.adsManager.init(o.w, o.h, google.ima.ViewMode.NORMAL),
                            this.adsManager.start()
                    } catch (u) {
                        this.onAdError(u)
                    }
                },
                this.onAdClicked = function(e) {
                    n("Ad event:", e),
                        this.closeAd("ByUserAdClicked")
                },
                this.onAdEvent = function(e) {
                    n("Ad event: " + e.type);
                    var t = e.getAd();
                    switch (e.type) {
                        case google.ima.AdEvent.Type.LOADED:
                            this.isVideo = t.isLinear(),
                                t.isLinear() ? n("Ad is a video") : (n("Ad is NOT a video"),
                                    this.setAdSize(t.getWidth(), t.getHeight()));
                            break;
                        case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:
                            this.closeAd("ByTimeout");
                            break;
                        case google.ima.AdEvent.Type.USER_CLOSE:
                            this.closeAd("ByUser")
                    }
                },
                this.onAdError = function(e) {
                    n("OnAdError executed");
                    if (e) {
                        var t = e.message || e.getError().toString();
                        n("OnAdError executed error: " + t)
                    }
                    this.closeAd("adError")
                },
                this.closeAd = function(e, t) {
                    n("this: close ad");
                    var r = t ? 0 : 500,
                        i = this;
                    setTimeout(function() {
                            i.cleanUp()
                        }, r),
                        setTimeout(function() {
                            i.sendCloseEvent()
                        }, r)
                },
                this.sendCloseEvent = function() {
                    var e = new CustomEvent("adClosed", {});
                    t.dispatchEvent(e)
                }
        }
    }(window, document),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = null,
            a = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
            f = /iPad|iPhone|iPod/.test(navigator.userAgent),
            l = 0,
            c = 0,
            h = !0,
            p = "gamePage",
            d = {
                softgamesReady: "softgamesReady",
                finishedLoadingFlow: "finishedLoadingFlow",
                adClosed: "adClosed",
                voyagerAdCall: "voyagerAdCall",
                voyagerAdFinished: "voyagerAdFinished",
                gameStarted: "gameStarted"
            },
            v = {
                rightBanner: "voyager-right-ad-banner"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!o)
                throw new Error("No eventManager defined!");
            var m = new n(p),
                g = !1,
                y = null,
                b = function() {
                    function e(e) {
                        try {
                            u = e,
                                n()
                        } catch (t) {
                            m.error(t)
                        }
                    }

                    function n() {
                        try {
                            o.on(d.finishedLoadingFlow, b),
                                m.debug("Added all event listeners")
                        } catch (e) {
                            e.message = "connectEventListener: " + e.message,
                                m.error(e)
                        }
                    }

                    function r() {
                        try {
                            m.debug("Try to pause ad"),
                                g = !0,
                                y.interupt()
                        } catch (e) {
                            m.error(e)
                        }
                    }

                    function p() {
                        g = !1
                    }

                    function b() {
                        if (u.embedGameFN())
                            switch (u.game_page_type) {
                                case "bridge_page":
                                    E();
                                    break;
                                case "split_page":
                                    A()
                            }
                    }

                    function w() {
                        var e = 0,
                            t = setInterval(function() {
                                e++, !g && e > 2 && (clearInterval(t),
                                    L())
                            }, 1e3)
                    }

                    function E() {
                        try {
                            a ? (!f && u.scrollToTop && k(),
                                    t("#voyager-top-banner-container").css("height", t(i).height())) : u.scrollOnPlay && !a && (C(0, 0),
                                    x(),
                                    T()),
                                S()
                        } catch (e) {
                            m.error(e)
                        }
                    }

                    function S() {
                        if (u.length_of_loading_bar > 0) {
                            var e = t("<div>").addClass("voyager-progress-bar-container"),
                                n = t("<div>").addClass("voyager-progress-bar").append("Loading..."),
                                r = t("#voyager-page-body");
                            e.append(n),
                                r.prepend(e),
                                e.css("height", r.height()),
                                e.css("width", r.width());
                            var i = 0,
                                s = setInterval(function() {
                                    i += 500,
                                        i >= u.length_of_loading_bar && (e.remove(),
                                            clearInterval(s))
                                }, 500)
                        }
                    }

                    function x() {
                        var e = setInterval(function() {
                            var n = t("#voyager-middle-ad-banner.voyager-ad-label").length == 0 ? 4 : 5;
                            t("#voyager-middle-ad-banner").children().length >= n && t("#voyager-page-body").length > 0 && (c = t("#voyager-page-body").offset().top,
                                m.debug("game slot offset: " + c),
                                clearInterval(e))
                        }, 1e3)
                    }

                    function T() {
                        t("#voyager-page-body").length > 0 && (o.on(d.gameStarted, N),
                            l = t("#voyager-middle-ad-banner").offset().top,
                            c = t("#voyager-page-body").offset().top)
                    }

                    function N() {
                        var e = h ? c : l;
                        t("#voyager-middle-ad-banner").focus(C(e, 500)),
                            m.debug("scrolling to: " + e),
                            h = !h
                    }

                    function C(e, n) {
                        t("#voyager-game-page").animate({
                            scrollTop: e
                        }, n)
                    }

                    function k() {
                        var e = 0;
                        s.getElementById("voyager-game-page").onscroll = function() {
                            var n = t("#voyager-game-page"),
                                r = n.scrollTop();
                            r < e && (m.debug("scrolling top"),
                                    n.scrollTop(0, 0)),
                                e = r
                        }
                    }

                    function L() {
                        y || (y = _()),
                            y.showImaAd()
                    }

                    function A() {
                        try {
                            O()
                        } catch (e) {
                            m.error(e)
                        }
                    }

                    function O() {
                        i.googletag = i.googletag || {},
                            i.googletag.cmd = googletag.cmd || [];
                        var e = "https:" == s.location.protocol, // t = (e ? "https:" : "http:") + "//www.googletagservices.com/tag/js/gpt.js";
                            t = "../assets/gpt.js";
                        u._loadScript(t, function() {
                                m.info("Loaded gpt sdk")
                            }),
                            D()
                    }

                    function M() {
                        o.on(d.voyagerAdCall, r),
                            o.on(d.voyagerAdFinished, p),
                            s.addEventListener(d.adClosed, w),
                            L()
                    }

                    function _() {
                        var e = {
                            slotId: v.rightBanner,
                            voyager: u._getVoyagerAdConfig(),
                            disableCompanionAds: !0,
                            vastBaseUrl: "//pubads.g.doubleclick.net/gampad/ads",
                            vastUrlQuery: {
                                iu: "/418149392/A_INGAME_POPUP",
                                ciu_szs: "",
                                env: "vp",
                                gdfp_req: 1,
                                output: "xml_vast2",
                                sz: "400x300",
                                unviewed_position_start: 1
                            }
                        };
                        return new i.SplitPageAd(e)
                    }

                    function D() {
                        i.googletag && i.googletag.cmd ? i.googletag.cmd.push(function() {
                            i.googletag.defineSlot("/418149392/Side_Video_Right", [300, 250], "voyager-right-ad-banner").addService(googletag.pubads()),
                                i.googletag.pubads().enableSingleRequest(),
                                i.googletag.enableServices(),
                                i.googletag.display("voyager-right-ad-banner")
                        }) : m.error("Could not create ad due to missing sdk")
                    }
                    o.on(d.softgamesReady, e)
                };
            e.prototype.gamePageModule = new b,
                m.debug("Added SoftgamesGamePage to Softgames-Prototype")
        } catch (w) {
            throw console && console.error("[" + p + "] " + w.message, w.stack),
                w
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = 0,
            a = "hintPage",
            f = {
                softgamesReady: "softgamesReady",
                finishedLoadingFlow: "finishedLoadingFlow",
                levelUp: "gameLevelUp",
                gameOver: "gameGameOver"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!o)
                throw new Error("No eventManager defined!");
            var l = new n(a),
                c = function() {
                    function d(t) {
                        try {
                            e = t,
                                v()
                        } catch (n) {
                            l.error(n)
                        }
                    }

                    function v() {
                        try {
                            o.on(f.finishedLoadingFlow, m),
                                l.debug("Added all event listeners")
                        } catch (e) {
                            e.message = "connectEventListener: " + e.message,
                                l.error(e)
                        }
                    }

                    function m() {
                        e.hintPageOptions.display && !g() && (b(),
                            S(),
                            y())
                    }

                    function g() {
                        return '["IL"]'.indexOf(e.country) != -1
                    }

                    function y() {
                        if (!i.googletag || !i.googletag.cmd)
                            l.debug("Adding google header"),
                            i.googletag = i.googletag || {},
                            i.googletag.cmd = i.googletag.cmd || [],
                            function() {
                                var e = s.createElement("script");
                                e.async = !0,
                                    e.type = "text/javascript",
                                    e.id = "gopgle-tag-service";
                                var t = "https:" === s.location.protocol;
                                // e.src = (t ? "https:" : "http:") + "//www.googletagservices.com/tag/js/gpt.js";
                                e.src = "../assets/gpt.js";
                                var n = s.getElementsByTagName("script")[0];
                                n.parentNode.insertBefore(e, n)
                            }()
                    }

                    function b() {
                        o.on(f.gameOver, w),
                            o.on(f.levelUp, E)
                    }

                    function w() {
                        u++,
                        l.debug("Game over counter increased: " + u),
                            e.hintPageOptions.after == u && (l.debug("displaying  hint page"),
                                setTimeout(function() {
                                    if (t("#voyager-close-popup-container").length > 0)
                                        var e = setInterval(function() {
                                            t("#voyager-close-popup-container").length == 0 && (p.open(a, n, null, _),
                                                clearInterval(e))
                                        }, 500);
                                    else
                                        p.open(a, n, null, _)
                                }, 500),
                                E())
                    }

                    function E() {
                        l.debug("Resetting game over counter to 0"),
                            u = 0
                    }

                    function S() {
                        if (!e.hintPageOptions)
                            throw new Error("Hint Page Options not received from kirk");
                        switch (e.hintPageOptions.layout) {
                            case "Version A":
                                h = "hint_A",
                                    e._isMobile() ? C() : N();
                                break;
                            case "Version B":
                                h = "hint_B",
                                    x();
                                break;
                            case "Version C":
                                h = "hint_C",
                                    T()
                        }
                    }

                    function x() {
                        l.debug("creating hint page version B"),
                            n = t("<div>").addClass("sg-hint-page-version-b-container");
                        var r = t("<div>").addClass("sg-hint-page-title"),
                            i = t("<span>").addClass("sg-hint-page-title-text").text(e.gameTitle),
                            s = t("<img>").addClass("sg-hint-page-game-icon").attr("src", e.game_thumb_large);
                        r.append(i);
                        var o = t("<div>").addClass("sg-hint-page-hints-title").append(I18n.t("js.hints")),
                            u = t("<div>").addClass("sg-hint-page-long-text").append(e.hintPageOptions.longText),
                            a = t("<div>").attr("id", "sg-hint-page-ad-top-container").addClass("sg-hint-page-ad-container"),
                            f = t("<div>").addClass("sg-hint-page-ad-container").attr("id", "sg-hint-page-ad-bottom-container"),
                            c = t("<div>").addClass("sg-hint-page-next-hint-button");
                        if (!e._isMobile()) {
                            var h = t("<div>").addClass("sg-hint-page-side-ad-container").attr("id", "sg-hint-page-ad-side-container");
                            n.append(h)
                        }
                        n.append(r),
                            n.append(s),
                            n.append(o),
                            n.append(u),
                            n.append(a),
                            n.append(W().hide()),
                            n.append(f),
                            n.append(c)
                    }

                    function T() {
                        l.debug("creating hint page version C"),
                            n = t("<div>").addClass("sg-hint-page-version-c-container");
                        var r = t("<div>").addClass("sg-hint-page-title"),
                            i = t("<span>").addClass("sg-hint-page-title-text").text(e.gameTitle),
                            o = t("<img>").addClass("sg-hint-page-game-icon").attr("src", e.game_thumb_large);
                        r.append(i);
                        var u = t("<div>").addClass("sg-hint-page-hints-title").append(I18n.t("js.hints")),
                            a = t("<div>").addClass("sg-hint-page-long-text").append(e.hintPageOptions.longText),
                            f = t("<div>").attr("id", "sg-hint-page-ad-top-container").addClass("sg-hint-page-ad-container"),
                            c = t("<div>").addClass("sg-hint-page-ad-container").attr("id", "sg-hint-page-ad-bottom-container"),
                            h = t("<div>").addClass("sg-hint-page-next-hint-button").append(I18n.t("js.continue")),
                            p = t("<div>").addClass("sg-hint-page-veedi-video-container"),
                            d = s.createElement("script");
                        d.type = "text/javascript",
                            d.id = "veediInit",
                            p.append(d),
                            n.append(f),
                            n.append(o),
                            n.append(r),
                            n.append(u),
                            n.append(a),
                            n.append(p),
                            n.append(W()),
                            n.append(c),
                            n.append(h)
                    }

                    function N() {
                        n = e.first_page_templates.version_a
                    }

                    function C() {
                        n = t("<div>").addClass("sg-hint-page-container");
                        var e = t("<div>").attr("id", "sg-hint-page-ad-top-container").addClass("sg-hint-page-ad-container").css("height", t(i).height() + "px"),
                            r = t("<div>").addClass("sg-hint-page-ad-container").attr("id", "sg-hint-page-ad-bottom-container");
                        n.append(e),
                            n.append(W()),
                            n.append(r)
                    }

                    function k(n) {
                        l.debug("Creating a play image at slot: ", n),
                            t(n).empty();
                        var r = t("<div>").addClass("hint-page-play-container"),
                            i = t("<div>").addClass("sg-game-wrapper sg-game-container"),
                            s = t("<img>").addClass("hint-page-play-image").attr("src", e.game_thumb_large),
                            o = t("<div>").addClass("hint-page-play-button").text("Play"),
                            u = t("<div>").addClass("hint-page-close-button"),
                            a = t("<img>").addClass("hint-page-close-image").attr("src", "https://s3.amazonaws.com/assets.sgc.io/assets/exit-closed-symbol-hi.png");
                        u.append(a),
                            i.append(s).append(o).append(u);
                        var f = t("<div>").addClass("hint-page-play-ad-label").text("Advertisement");
                        r.append(f).append(i),
                            t(n).append(r)
                    }

                    function L(n, r, s, o) {
                        l.debug("Creating an ad at slot: ", n),
                            t(n).empty();
                        var u = t("<div>").addClass("sg-hint-page-version-b-ad").attr("id", "sg-hint-page-ad-" + s);
                        t(n).append(u);
                        var a = e.adsHandler.getExternalTargeting("hintPage");
                        i.googletag.cmd.push(function() {
                                i.googletag.defineSlot(r, o, "sg-hint-page-ad-" + s).addService(i.googletag.pubads()),
                                    Object.keys(a).forEach(function(e) {
                                        var t = a[e];
                                        googletag.pubads().setTargeting(e, t)
                                    }),
                                    i.googletag.pubads().setTargeting("adfirst", h),
                                    i.googletag.pubads().enableSingleRequest(),
                                    i.googletag.enableServices()
                            }),
                            i.googletag.cmd.push(function() {
                                i.googletag.display("sg-hint-page-ad-" + s)
                            })
                    }

                    function A() {
                        var e = t("#sg-hint-page-ad-bottom-container"),
                            n = t("<div>").addClass("sg-hint-page-close-button").append("Back to Game"),
                            r = Math.random();
                        r < .25 ? (e.addClass("sg-hint-page-ad-container-close-button-top"),
                                n.addClass("sg-hint-page-close-button-top-left")) : r < .5 ? (e.addClass("sg-hint-page-ad-container-close-button-top"),
                                n.addClass("sg-hint-page-close-button-top-right")) : r < .75 ? (e.addClass("sg-hint-page-ad-container-close-button-bottom"),
                                n.addClass("sg-hint-page-close-button-bottom-left")) : (e.addClass("sg-hint-page-ad-container-close-button-bottom"),
                                n.addClass("sg-hint-page-close-button-bottom-right")),
                            e.append(n)
                    }

                    function O(e) {
                        t(e).on("click", function() {
                            M()
                        })
                    }

                    function M() {
                        p.close(function() {
                            H(),
                                t("#voyager-game-page").scrollTop(0, 0),
                                e._isMobile() && (t("#sg-hint-page-ad-top-container").empty(),
                                    t("#sg-hint-page-ad-bottom-container").empty())
                        })
                    }

                    function _() {
                        switch (e.hintPageOptions.layout) {
                            case "Version A":
                                e._isMobile() ? X() : U();
                                break;
                            case "Version B":
                                j(),
                                    D();
                                break;
                            case "Version C":
                                F(),
                                    D()
                        }
                    }

                    function D() {
                        t(i).on("resize", P)
                    }

                    function P() {
                        B()
                    }

                    function H() {
                        t(i).off("resize", P)
                    }

                    function B() {
                        var e = t(".sg-hint-page-title-text");
                        t(".sg-hint-page-game-icon").css("left", e.position().left + e.width() + "px").css("top", e.position().top)
                    }

                    function j() {
                        z(),
                            t(".sg-hint-page-hint-container").show(),
                            t("#hint-1").show(),
                            t("#hint-2").hide(),
                            t("#hint-3").hide(),
                            t(".close").hide(),
                            B();
                        var n = t(".sg-hint-page-next-hint-button");
                        n.data("next-hint", 2),
                            n.text(I18n.t("js.hint_next")),
                            n.on("click", I),
                            q();
                        if (!e._isMobile()) {
                            var r = t("#sg-hint-page-ad-1").position(),
                                i = t(".sg-hint-page-long-text").position();
                            t("#sg-hint-page-ad-side-container").css("left", r.left + 340 + "px").css("top", i.top + 30 + "px")
                        }
                    }

                    function F() {
                        z(),
                            B(),
                            t(".close").hide(),
                            t(".modal-dialog").addClass("hints-page-version-c-dialog");
                        var n = 0;
                        R();
                        if (!e._isMobile()) {
                            var r = t("#sg-hint-page-ad-1").position(),
                                o = t(".sg-hint-page-long-text").position();
                            t("#sg-hint-page-ad-side-container").css("left", r.left + 340 + "px").css("top", o.top + 30 + "px"),
                                n = 700
                        } else
                            n = t(i).width() * .95;
                        var u, a = {
                                game: e.gameTitle,
                                publisherId: parseInt("74654787"),
                                width: n
                            },
                            f = s.createElement("script");
                        f.type = "text/javascript",
                            f.async = !0,
                            f.src = "http://www.veedi.com/player/embed/veediEmbed.js",
                            f.onload = function() {
                                var e = new VeediEmbed(a)
                            };
                        var l = s.getElementById("veediInit");
                        l.parentNode.insertBefore(f, l),
                            O(".sg-hint-page-next-hint-button")
                    }

                    function I() {
                        var e = t(".sg-hint-page-hint").length,
                            n = t(this).data("next-hint");
                        n <= e ? (t(".sg-modal-window-hintPage").scrollTop(0, 0),
                            t("#hint-" + (n - 1)).hide(),
                            t("#hint-" + n).show(),
                            t(this).data("next-hint", n + 1),
                            q(),
                            n == e && t(".sg-hint-page-next-hint-button").text(I18n.t("js.back_to_game_short"))) : M()
                    }

                    function q() {
                        t("#sg-hint-page-ad-top-container").empty(),
                            t("#sg-hint-page-ad-bottom-container").empty(),
                            L("#sg-hint-page-ad-top-container", "/418149392/A_TipPage", 1, [300, 250]),
                            L("#sg-hint-page-ad-bottom-container", "/418149392/A_TipPage_bottom", 2, [300, 250]),
                            e._isMobile() || L("#sg-hint-page-ad-side-container", "/418149392/A_TipPage_Halfpage", 3, [300, 600])
                    }

                    function R() {
                        t("#sg-hint-page-ad-top-container").empty(),
                            t("#sg-hint-page-ad-bottom-container").empty(),
                            L("#sg-hint-page-ad-top-container", "/418149392/A_TipPage_C", 1, [300, 250]),
                            L("#sg-hint-page-ad-bottom-container", "/418149392/A_TipPage_bottom_C", 2, [300, 250])
                    }

                    function U() {
                        z(),
                            t(".close").remove(),
                            t("#top-ad-section").remove(),
                            t("#middle-ad-section").remove(),
                            t("#bottom-ad-section").remove();
                        var n = t("#top-hint-ad-section");
                        n.length == 0 ? t(".sg-modal-window-content #voyager-page-body").prepend(t("<div>").attr("id", "top-hint-ad-section")) : n.empty(),
                            t("#sg-game-7894").addClass("hint-page-widget-container");
                        var r = t("<div>").addClass("voyager-wrapper");
                        r.append(W()),
                            r.insertAfter(t(".details-info-part").last());
                        if (e._isIframeFlow()) {
                            var i = t("#voyager-game-title").height() + t("#voyager-game-container-2-short").height() + 26;
                            t("#voyager-game-info").css("height", t("#voyager-game-title").height()),
                                t("#voyager-page-section-1").css("height", i)
                        }
                        O("#voyager-play-button"),
                            L("#top-hint-ad-section", "/418149392/A_TipPage", 1, [300, 250])
                    }

                    function z() {
                        t(".modal-dialog").addClass("modal-fullscreen"),
                            t(".modal-content").addClass("modal-fullscreen"),
                            t(".sg-modal-window-content").addClass("modal-fullscreen"),
                            t(".sg-modal-window").addClass("modal-fullscreen")
                    }

                    function W() {
                        var n = t("<div>").addClass("sg-hint-page-hint-container");
                        return e.hintPageOptions.hints.forEach(function(e, r) {
                                var i = "hint-" + (r + 1),
                                    s = t("<div>").addClass("sg-hint-page-hint").attr("id", i),
                                    o = t("<p>").addClass("sg-hint-page-hint-text").append(e);
                                s.append(o),
                                    n.append(s)
                            }),
                            n
                    }

                    function X() {
                        var e = Math.random();
                        e < .5 ? (L("#sg-hint-page-ad-top-container", "/418149392/A_TipPage", 1, [300, 250]),
                                k("#sg-hint-page-ad-bottom-container")) : (k("#sg-hint-page-ad-top-container"),
                                L("#sg-hint-page-ad-bottom-container", "/418149392/A_TipPage", 1, [300, 250])),
                            A(),
                            O(".sg-hint-page-close-button"),
                            t(".close").hide(),
                            c == "" && (c = t(".modal-backdrop").height() + 30),
                            t(".modal-dialog").addClass("modal-dialog-mobile"),
                            t(".modal-body").css("height", c)
                    }
                    var e = null,
                        n = null,
                        c = "",
                        h = "",
                        p = r.getModalWindow(a);
                    o.on(f.softgamesReady, d)
                };
            e.prototype.hintPageModule = new c,
                l.debug("Added SoftgamesGamePage to Softgames-Prototype")
        } catch (h) {
            throw console && console.error("[" + a + "] " + h.message, h.stack),
                h
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r, i) {
        "use strict";
        var s = "//dop3jnx8my3ym.cloudfront.net/widgets.js",
            o = e.prototype.events,
            u = null,
            a = navigator.userAgent.match(/Android/i),
            f = navigator.userAgent.match(/OS ((\d+_?){2,3})\s/),
            l = 0,
            c = 0,
            h = 0,
            p = "",
            d = "",
            v = "",
            m, g = !0,
            y = null,
            b = "firstPage",
            w = "dfp-fullscreen",
            E = "cpi-fullscreen",
            S = {
                softgamesReady: "softgamesReady",
                getNewFirstPage: "getNewFirstPage",
                firstPageLoaded: "firstPageLoaded",
                slideAd: "slideAd"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!o)
                throw new Error("No eventManager defined!");
            var x = new n(b),
                T = function(e) {
                    function A(e) {
                        try {
                            u = e,
                                n.isConfigured() && O()
                        } catch (t) {
                            x.error(t)
                        }
                    }

                    function O() {
                        try {
                            o.on(S.firstPageLoaded, M),
                                o.on(S.getNewFirstPage, ht),
                                x.debug("Added all event listeners")
                        } catch (e) {
                            e.message = "connectEventListener: " + e.message,
                                x.error(e)
                        }
                    }

                    function M() {
                        g = !0,
                            c = 0,
                            h = 0,
                            q(),
                            t("#voyager-first-page").addClass("voyager-gray-background");
                        switch (ut()) {
                            case "version_a":
                                p = "A",
                                    d = "/418149392/A_LandingPage_A1",
                                    v = "/418149392/A_LandingPage_A3",
                                    at(),
                                    I();
                                break;
                            case "version_b":
                                p = "B",
                                    d = "/418149392/A_LandingPage_B1",
                                    v = "/418149392/A_LandingPage_B3",
                                    at(),
                                    I();
                                break;
                            case "version_c":
                                p = "C",
                                    d = "/418149392/A_LandingPage_C1",
                                    v = "/418149392/A_LandingPage_C3",
                                    ot(),
                                    at();
                                break;
                            case "version_d":
                                p = "D",
                                    ot();
                                break;
                            case "version_e":
                                p = "E",
                                    d = "/418149392/A_LandingPage_E1",
                                    v = "/418149392/A_LandingPage_E3",
                                    ot(),
                                    t(".voyager-play-button").hide(),
                                    t("#voyager-first-page").on("scroll", lt),
                                    at();
                                break;
                            case "version_f":
                                p = "F",
                                    m = 50,
                                    ot(),
                                    Q(),
                                    z();
                                break;
                            case "version_f_sales":
                                p = "F",
                                    m = 50,
                                    g = !1,
                                    ot(),
                                    Q(),
                                    z();
                                break;
                            case "version_g":
                                p = "G",
                                    t("#voyager-teaser").attr("src", u.gameTeaserImage),
                                    z(),
                                    U(),
                                    R();
                                break;
                            case "version_h":
                                p = "H",
                                    m = 20,
                                    ot(),
                                    Q(),
                                    z();
                                break;
                            case "version_i":
                                p = "I",
                                    m = 0,
                                    ot(),
                                    Q(),
                                    z();
                                break;
                            case "version_j":
                                p = "J",
                                    z(),
                                    W();
                                break;
                            case "version_k":
                                p = "K",
                                    y = ["GAME_DETAILS_PAGE_K_1", "GAME_DETAILS_PAGE_K_2", "GAME_DETAILS_PAGE_K_3"],
                                    _(),
                                    V(u.game_slug, !0),
                                    J(),
                                    P(),
                                    H()
                        }
                        u.enableOverlayWidgetOnGDP && B()
                    }

                    function _() {
                        if (Math.random() * 100 <= parseInt(u.otherAdUnitsOnTop))
                            if (Math.random() * 100 <= 50) {
                                D("#gdp_k_ad_slot_1", "#gdp_k_ad_slot_2");
                                var e = y.splice(1, 1);
                                y.unshift(e[0])
                            } else {
                                D("#gdp_k_ad_slot_1", "#gdp_k_ad_slot_3");
                                var e = y.splice(2, 1);
                                y.unshift(e[0])
                            }
                    }

                    function D(e, n) {
                        var r = t(e).parent(),
                            i = t(n).parent();
                        r.append(t(n)),
                            i.append(t(e))
                    }

                    function P() {
                        u.adsHandler && u.adsHandler.isInitiated() ? y.forEach(function(e) {
                            setTimeout(function() {
                                    var t = u.adsHandler.SLOTS[e];
                                    u.adsHandler.show(t),
                                        x.info("Requested media for ", e)
                                }
                                .bind(e), 500)
                        }) : setTimeout(P, 1e3)
                    }

                    function H() {
                        setTimeout(function() {
                            t(".slot-1").show()
                        }, parseFloat(u.playButtonActiveTimer) || 3e3)
                    }

                    function B() {
                        function h() {
                            r.sgWidgets.createWidget(e, c, l)
                        }
                        var e = F(1, 1e6),
                            n = Date.now(),
                            i = t("<div>").attr("id", "sg-game-" + e);
                        t("body").append(i);
                        var o = {
                                pageLoadTime: n,
                                widgetWidth: 300,
                                widgetHeight: 250,
                                adUnitId: "/418149392/Overlay_widget"
                            },
                            a = {
                                pageLoadTime: n,
                                maxSize: 1e3,
                                buttonText: "Free for you",
                                widgetTitle: "Top Free Apps",
                                widgetContext: j(b, w),
                                transaction_id: u.user && u.user.userId ? u.user.userId : "unknown-cpi-overlay-user-" + Date.now() + "-" + e,
                                country: u.country,
                                pgIds: u._getPgIds(),
                                fixHeight: !0,
                                closeOnClick: !0,
                                cpiSpecialData: 2
                            },
                            f = u && u.adBlockerHandler && u.adBlockerHandler.isDetected(),
                            l = f ? E : w,
                            c = {
                                options: f ? a : o,
                                games: []
                            };
                        r.sgWidgets ? h() : u._loadScript(s, function() {
                            x.debug("Loaded widgetSdk"),
                                h()
                        })
                    }

                    function j(e, t, n) {
                        var r = "unknown";
                        u && (r = u._isMobile() ? "mobile" : "desktop");
                        var i = [e, r, t];
                        return n && i.push(n),
                            i.join("|")
                    }

                    function F(e, t) {
                        return Math.floor(Math.random() * (t - e) + e)
                    }

                    function I() {
                        if (u._isIframeFlow()) {
                            var e = t("#voyager-game-title").height() + t("#voyager-game-container-2-short").height() + 26;
                            t("#voyager-game-info").css("height", t("#voyager-game-title").height()),
                                t("#voyager-page-section-1").css("height", e)
                        }
                    }

                    function q() {
                        u.fingerprintLinks && u.fingerprintLinks.length > 0 && a && u.fingerprintLinks.forEach(function(e) {
                            var n = t("<iframe>").attr("src", e).addClass("voyager-tracking-frame");
                            t("#voyager-first-page").append(n)
                        })
                    }

                    function R() {
                        var e = 0,
                            n = setInterval(function() {
                                var r = t("#voyager-widget-wrapper-extra .teaser-ad-widget-game").data("gameProject");
                                r && (x.debug('game: "' + u.game_slug + '" widget game: "' + r + '" get new game? ' + (u.game_slug == r).toString()),
                                    u.game_slug == r ? (x.debug("game is the same, fetching a new widget"),
                                        t("#voyager-widget-wrapper-extra .teaser-ad-wrapper").remove(),
                                        it(10001, "m.softgames.de", [], "gdp-v-g-teaser-ad", "Spielen", "#voyager-widget-wrapper-extra"),
                                        e++,
                                        (u.game_slug == r || e > 2) && clearInterval(n)) : clearInterval(n))
                            }, 500)
                    }

                    function U() {
                        f !== "" && t("#voyager-page-body").css("background-color", f),
                            T !== "" && t("#voyager-page-body").css("color", T)
                    }

                    function z() {
                        var e = t("#voyager-page-section-1"),
                            n = e.find("#voyager-game-description-first-part").length == 0 && e.find("#game-rating").length == 0;
                        if (u._isMobile() && n) {
                            var r;
                            i.compatMode === "BackCompat" ? r = i.body.clientHeight : r = i.documentElement.clientHeight,
                                e.css("height", r + "px"),
                                p === "J" && e.css("overflow", "scroll")
                        }
                    }

                    function W() {
                        Math.random() * 100 <= parseInt(u.percentageOfVeedi || 0) && l === 0 ? (t(".voyager-play-button").css("opacity", 0),
                            X(),
                            setTimeout(K, 5e3)) : ft("/418149392/A_LandingPage_J1", [300, 250], "game-details-page-ad-container")
                    }

                    function X() {
                        t("#game-details-page-ad-container").addClass("veedi-wrapper").append(t("<div>").addClass("veedi-container").append(t("<div>").attr("id", "veediInit")));
                        var e = Math.min(700, t(r).width());
                        t(".veedi-container, .veedi-wrapper").css("width", e),
                            t(".veedi-wrapper").append(t("<div>").addClass("veedi-header").css("width", e + 2)).append(t("<div>").addClass("veedi-footer").css("width", e + 2)),
                            t(r).on("resize", $).trigger("resize"),
                            V(u.game_slug)
                    }

                    function V(e, n) {
                        var s = i.getElementById("veediInit");
                        if (s) {
                            var o = Math.min(700, t(r).width() - 30);
                            n && t(s).parent().css("width", o);
                            var a, f = {
                                    game: e,
                                    publisherId: 74654787,
                                    customDomain: "softgames_games",
                                    onVideoFound: function() {},
                                    onVideoNotFound: function() {
                                        e === u.game_slug && (t("#Veediframe").remove(),
                                            V(u.veediFallbackSlug, n))
                                    },
                                    width: o
                                },
                                l = i.createElement("script");
                            l.type = "text/javascript",
                                l.async = !0,
                                l.src = "http://www.veedi.com/player/embed/veediEmbed.js",
                                l.onload = function() {
                                    a = new VeediEmbed(f)
                                },
                                s.parentNode.insertBefore(l, s)
                        }
                    }

                    function $() {
                        if (u._isMobile()) {
                            var e = t(".veedi-wrapper");
                            t(r).width() < 700 ? (t(".veedi-header, .veedi-footer").css("height", "95px"),
                                    e.css("margin-top", "0")) : (t(".veedi-header").css("height", "43px"),
                                    t(".veedi-footer").css("height", "88px")),
                                e.css("margin-top", -(e.height() / 2 - t(r).height() / 2) + "px"),
                                z()
                        }
                    }

                    function J() {
                        setTimeout(function() {
                            t(".voyager-success-btn").show()
                        }, parseFloat(u.playButtonActiveTimer) || 3e3)
                    }

                    function K() {
                        t(".voyager-play-button").animate({
                            opacity: 1
                        }, 1e3)
                    }

                    function Q() {
                        m = L !== undefined && L !== "" ? L : m,
                            p === "F" || p === "I" ? G() : p === "H" && Y()
                    }

                    function G() {
                        var e = Math.random() * 100;
                        e <= m ? (rt("#voyager-page-section-1"),
                            Z("#voyager-page-section-5")) : (Z("#voyager-page-section-1"),
                            rt("#voyager-page-section-5"));
                        var t = ["#voyager-page-section-2", "#voyager-page-section-3", "#voyager-page-section-4"];
                        t = st(t),
                            et(t[0], t[1]),
                            nt(t[2])
                    }

                    function Y() {
                        var e = Math.random() * 100,
                            t = ["#voyager-page-section-2", "#voyager-page-section-3", "#voyager-page-section-4", "#voyager-page-section-5"];
                        e <= m ? rt("#voyager-page-section-1") : t.push("#voyager-page-section-1"),
                            t = st(t),
                            et(t[0], t[1]),
                            nt(t[2]),
                            Z(t[3]),
                            e > m && rt(t[4])
                    }

                    function Z(e) {
                        var n = parseInt(e.substr(e.length - 1)),
                            r = t("<div>").attr("id", "game-details-page-ad-container-" + n).addClass("game-details-page-ad-container social-section-ad"),
                            i = t("<div>"),
                            s = t("<div>").addClass("voyager-wrapper social-button-section-wrapper");
                        s.append(r).append(i).append(t("#social-buttons")),
                            t(e).append(s);
                        var o = g ? "/418149392/A_LandingPage_F1" : "/418149392/S_LandingPage_F1";
                        p === "H" ? o = "/418149392/A_LandingPage_H1" : p === "I" && (o = "/418149392/A_LandingPage_I1"),
                            ft(o, [300, 250], "game-details-page-ad-container-" + n)
                    }

                    function et(e, t) {
                        var n = parseInt(e.substr(e.length - 1)),
                            r = parseInt(t.substr(t.length - 1)),
                            i, s;
                        n > r ? (i = t,
                                s = e) : (i = e,
                                s = t),
                            tt(i, "#voyager-game-description-first-part"),
                            tt(s, "#voyager-game-description-second-part")
                    }

                    function tt(e, n) {
                        var r = parseInt(e.substr(e.length - 1)),
                            i = t("<div>").attr("id", "game-details-page-ad-container-" + r).addClass("game-details-page-ad-container ad-container-with-label"),
                            s = t("<div>").addClass("voyager-ad-label").text("Ads");
                        i.append(s);
                        var o;
                        g ? o = n == "#voyager-game-description-second-part" ? "/418149392/A_LandingPage_F3" : "/418149392/A_LandingPage_F2" : o = n == "#voyager-game-description-second-part" ? "/418149392/S_LandingPage_F3" : "/418149392/S_LandingPage_F2",
                            p === "H" ? o = n == "#voyager-game-description-second-part" ? "/418149392/A_LandingPage_H3" : "/418149392/A_LandingPage_H2" : p === "I" && (o = n == "#voyager-game-description-second-part" ? "/418149392/A_LandingPage_I3" : "/418149392/A_LandingPage_I2");
                        var u = t("<div>").addClass("voyager-wrapper");
                        u.append(t(n)).append(i),
                            t(e).append(u),
                            ft(o, [300, 250], "game-details-page-ad-container-" + r);
                        var a = 400,
                            f = 670;
                        t(n).height() + a > f && t(e).css("height", t(n).height() + a + "px")
                    }

                    function nt(e) {
                        var n = parseInt(e.substr(e.length - 1)),
                            r = t("<div>").attr("id", "game-details-page-ad-container-" + n).addClass("game-details-page-ad-container"),
                            i = t("<div>").addClass("voyager-wrapper");
                        i.append(t("#game-details")).append(r).append(t("#game-rating")),
                            t(e).append(i);
                        var s = g ? "/418149392/A_LandingPage_F4" : "/418149392/S_LandingPage_F4";
                        p === "H" && (s = "/418149392/A_LandingPage_H4"),
                            p === "I" && (s = "/418149392/A_LandingPage_I4"),
                            ft(s, [300, 250], "game-details-page-ad-container-" + n)
                    }

                    function rt(e) {
                        var n = t("<div>").addClass("voyager-wrapper").attr("id", "#voyager-widget-wrapper");
                        it(1e4, u.subplatform, [u.game_slug], "teaser ad widget", "Play", n),
                            t(e).append(n)
                    }

                    function it(e, n, s, o, u, a) {
                        var f = t("<div>").attr("id", "sg-game-" + e).addClass("play-image-container");
                        t(a).append(f),
                            function(e, t) {
                                var i = Date.now(),
                                    a = {
                                        options: {
                                            widgetName: o,
                                            publisher: n,
                                            buttonColor: "#FF0000",
                                            buttonText: u,
                                            buttonTextColor: "#FFFFFF",
                                            clickType: "click",
                                            showCloseButton: !0,
                                            pageLoadTime: i
                                        },
                                        games: s
                                    };
                                s.length > 0 && (a.options.gameOnPage = s[0]);
                                if (r.sgWidgets)
                                    r.sgWidgets.createWidget(t, a, "teaser-ad");
                                else {
                                    var f = e.createElement("script");
                                    f.type = "text/javascript",
                                        f.onload = function() {
                                            r.sgWidgets.createWidget(t, a, "teaser-ad")
                                        },
                                        f.src = "//dop3jnx8my3ym.cloudfront.net/widgets.js",
                                        e.getElementsByTagName("head")[0].appendChild(f)
                                }
                            }(i, e)
                    }

                    function st(e) {
                        for (var t, n, r = e.length; r; t = Math.floor(Math.random() * r),
                            n = e[--r],
                            e[r] = e[t],
                            e[t] = n)
                        ;
                        return e
                    }

                    function ot() {
                        t("#voyager-footer-container-1").attr("id", "voyager-footer-container-1-gray"),
                            t("#voyager-footer-container-2").attr("id", "voyager-footer-container-2-gray")
                    }

                    function ut() {
                        var e = C ? t(".voyager-first-page-version").data("page-version") : N[l];
                        return x.debug("Handling first page version: " + e),
                            e
                    }

                    function at() {
                        var e = Math.random() * 100;
                        k != "" && e <= k ? (x.debug("Displaying CPMStar ad at the bottom of the page"),
                            ft(v, [300, 250], "top-ad"),
                            ft(d, [300, 250], "bottom-ad")) : (x.debug("Displaying CPMStar ad at the top of the page"),
                            ft(d, [300, 250], "top-ad"),
                            ft(v, [300, 250], "bottom-ad"))
                    }

                    function ft(e, t, n) {
                        // debugger;
                        var r = u._getPgIds(),
                            i = u.user && u.user.userId ? u.user.userId : "unknown-first-page-user-" + Date.now() + "-" + F(1, 100),
                            s = "cpi",
                            o = "cpi-gd-alt-a";
                        googletag.cmd.push(function() {
                                googletag.defineSlot(e, t, n).addService(googletag.pubads()),
                                    googletag.pubads().setTargeting("partner", u.subplatform),
                                    googletag.pubads().setTargeting("game", u.game_slug),
                                    googletag.pubads().setTargeting("lang", u.locale),
                                    googletag.pubads().setTargeting("affiliate", null),
                                    googletag.pubads().setTargeting("pg-ids", r),
                                    googletag.pubads().setTargeting("pg_ids_pp", r),
                                    googletag.pubads().setTargeting("pg_ids_sales", r),
                                    googletag.pubads().setTargeting("pg_ids_marketing", r),
                                    googletag.pubads().setTargeting("transaction_id", i),
                                    googletag.pubads().setTargeting("widget_context", j("landingPage" + p, s, o)),
                                    googletag.pubads().setTargeting("widget_type", s),
                                    googletag.pubads().setTargeting("widget_layout", o),
                                    googletag.pubads().setTargeting("client_ip", u.clientIpHash),
                                    googletag.pubads().setTargeting("user_agent", u.userAgent),
                                    googletag.pubads().setTargeting("pg_ids", r),
                                    googletag.pubads().setTargeting("country", u.country),
                                    p && googletag.pubads().setTargeting("adfirst", p),
                                    googletag.pubads().enableSingleRequest(),
                                    googletag.enableServices()
                            }),
                            googletag.cmd.push(function() {
                                googletag.display(n)
                            })
                    }

                    function lt() {
                        ct(t("#voyager-game-image")) && h >= 1 && (x.debug("Top of page is visible!"),
                                c++),
                            ct(t("#voyager-footer-container-1-gray")) && (x.debug("Bottom of page is visible!"),
                                h++),
                            c >= 1 && h >= 1 && t(".voyager-play-button").show()
                    }

                    function ct(e) {
                        var n = t(e),
                            i = t(r);
                        if (n.is(":visible") == 0)
                            return !1;
                        var s = i.scrollTop(),
                            o = s + i.height(),
                            u = n.offset().top,
                            a = u + n.height();
                        return a <= o && u >= s
                    }

                    function ht() {
                        u.playClickedCounter++,
                            l++;
                        var e = N[l];
                        x.debug("Now displaying a new details page: ", e);
                        if (t("#old-play-button").length < 1) {
                            var n = t(".voyager-success-btn");
                            n.attr("id", "old-play-button").css("hidden", "hidden").removeClass("voyager-play-button"),
                                t("html").append(n)
                        }
                        t("body").html(u.first_page_templates[e]);
                        var r = u._randomId();
                        t("#voyager-ad-content").attr("id", "voyager-ad-content_" + r),
                            M(),
                            o.fire(S.slideAd);
                        var i = !1;
                        t(".voyager-success-btn").one("click", function(n) {
                            !i && e != "version_b" && e != "version_g" && (i = !0,
                                t("#old-play-button").click())
                        })
                    }
                    e = e || {},
                        e.positionRandomisers = e.positionRandomisers || {},
                        x.debug("Initializing First Page Module with settings: ", e);
                    var n = this,
                        f = e.backgroundColor,
                        T = e.fontColor,
                        N = e.versions,
                        C = e.random,
                        k = e.positionRandomisers.cpmStarAdAtBottomPercentage,
                        L = e.positionRandomisers.playButtonAtTopPercentage;
                    this.isConfigured = function() {
                            return this.getAmountOfFirstPages() > 0
                        },
                        this.getAmountOfFirstPages = function() {
                            return !N || !Array.isArray(N) ? 0 : N.length
                        },
                        o.on(S.softgamesReady, A)
                };
            r.SoftgamesFirstPage = T,
                x.debug("Added SoftgamesFirstPage to Softgames-Prototype")
        } catch (N) {
            throw console && console.error("[" + b + "] " + N.message, N.stack),
                N
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window, document),
    function(e, t, n, r, i) {
        "use strict";
        var s = e.prototype.events,
            o = null,
            u = !1,
            a = !1,
            f = !1,
            l = !1,
            c = !1,
            h = "",
            p = 0,
            d = "slideAd",
            v = {
                softgamesReady: "softgamesReady",
                firstPageLoaded: "firstPageLoaded",
                newFirstPage: "slideAd",
                finishedLoadingFlow: "finishedLoadingFlow"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var m = new n(d),
                g = "",
                y = !0,
                b = function(e, n) {
                    function T(e) {
                        try {
                            o = e,
                                N()
                        } catch (t) {
                            m.error(t)
                        }
                    }

                    function N() {
                        try {
                            s.on(v.firstPageLoaded, L),
                                s.on(v.newFirstPage, k),
                                s.on(v.finishedLoadingFlow, C),
                                m.debug("Added all event listeners")
                        } catch (e) {
                            e.message = "connectEventListener: " + e.message,
                                m.error(e)
                        }
                    }

                    function C() {
                        R() && (c = !0,
                            m.debug("Displaying slide ad on description visible with delay of: ", b),
                            t("#voyager-game-page").on("scroll", M))
                    }

                    function k() {
                        u = !1,
                            p++,
                            L()
                    }

                    function L() {
                        u = !1,
                            c = !1,
                            A();
                        if (q()) {
                            m.debug("create slide ad, slide ad on: ", w);
                            if (!w || w === "loaded" || b && b !== "" && !w) {
                                m.debug("Displaying slide ad on load with delay of: ", b),
                                    l = !0;
                                var e = b ? b : 0;
                                P(e)
                            } else if (w == "playClicked") {
                                m.debug("Displaying slide ad on Play button clicked"),
                                    f = !0;
                                if ((t("#voyager-widget-wrapper").length > 0 || h === "F" || h === "H") && h !== "A")
                                    var n = setInterval(function() {
                                        t(".main-game-play-trigger").length > 0 && (clearInterval(n),
                                            O())
                                    }, 500);
                                else
                                    O()
                            } else
                                w === "playVisible" && (m.debug("Displaying slide ad on Play button visible with delay of: ", b),
                                    t("#voyager-first-page").on("scroll", M))
                        } else
                            m.debug("Not creating slide ad for first page, slideAdOn: ", w, " slideAdDelay: ", b)
                    }

                    function A() {
                        y = !0;
                        switch (D()) {
                            case "version_a":
                                h = "A",
                                    g = "A_LandingPage_Slide_A1";
                                break;
                            case "version_b":
                                h = "B",
                                    g = "A_LandingPage_Slide_B1";
                                break;
                            case "version_c":
                                h = "C",
                                    g = "A_LandingPage_Slide_C1";
                                break;
                            case "version_d":
                                h = "D",
                                    g = "A_LandingPage_Slide_D1";
                                break;
                            case "version_e":
                                h = "E",
                                    g = "A_LandingPage_Slide_E1";
                                break;
                            case "version_f":
                                h = "F",
                                    g = "A_LandingPage_Slide_F1";
                                break;
                            case "version_f_sales":
                                h = "F",
                                    g = "",
                                    y = !1;
                                break;
                            case "version_g":
                                h = "G",
                                    g = "A_LandingPage_Slide_G1";
                                break;
                            case "version_h":
                                h = "H",
                                    g = "A_LandingPage_Slide_H1";
                                break;
                            case "version_i":
                                h = "I",
                                    g = "A_LandingPage_Slide_I1";
                                break;
                            case "version_j":
                                h = "J",
                                    g = "A_LandingPage_Slide_J1";
                                break;
                            default:
                                h = "default",
                                    g = "A_LandingPage_Slide_Default1"
                        }
                    }

                    function O() {
                        var e = t(".main-game-play-trigger").length > 0 ? ".main-game-play-trigger" : ".voyager-play-button",
                            n = t(e),
                            r = t("<div>").addClass("voyager-play-button-wrapper"),
                            i = t("<div>").addClass("voyager-play-button-cover").css("width", n.width() + 30).css("height", n.height() + 30);
                        h === "A" ? r.css("display", "inline-block") : (h === "F" || h === "H" || h === "G") && i.css("margin-top", -n.height() - 30),
                            n.wrap(r),
                            i.insertAfter(n),
                            i.on("click", function() {
                                t(".voyager-play-button-cover").remove(),
                                    M()
                            })
                    }

                    function M() {
                        var e = f ? 0 : b;
                        if (c)
                            t("#voyager-first-page").off("scroll", M),
                            E = "bottomLeft",
                            P(e);
                        else {
                            var n = t(".main-game-play-trigger").length > 0 ? ".main-game-play-trigger" : ".voyager-play-button";
                            n += ":not(#old-play-button)",
                                _(n) && P(e)
                        }
                    }

                    function _(e) {
                        var n = t(e),
                            i = t(r);
                        if (n.is(":visible") == 0)
                            return !1;
                        var s = i.scrollTop(),
                            o = s + i.height(),
                            u = n.offset().top,
                            a = u + n.height();
                        return a <= o && u >= s
                    }

                    function D() {
                        var e = x ? t(".voyager-first-page-version").data("page-version") : S[p];
                        return m.debug("Handling first page version: " + e),
                            e
                    }

                    function P(e) {
                        if (!u || c && !a)
                            c && (a = !0),
                            u = !0,
                            setTimeout(function() {
                                j(),
                                    F()
                            }, e)
                    }

                    function H() {
                        if (!E || E == "topRight" || E == "bottomRight")
                            return "right";
                        if (E == "topLeft" || E == "bottomLeft")
                            return "left";
                        if (E == "bottom")
                            return "bottom"
                    }

                    function B() {
                        return !E || E == "topRight" || E == "topLeft"
                    }

                    function j() {
                        var e = t(".main-game-play-trigger").length > 0 ? ".main-game-play-trigger" : ".voyager-play-button";
                        e = c ? "#voyager-top-ad-banner" : e;
                        var n = t("<div>").addClass("voyager-slide-ad-container");
                        c && n.addClass("voyager-slide-ad-container-game-page");
                        var i = t(e),
                            s = t("<div>").attr("id", "voyager-slide-ad-wrapper"),
                            o = t("<div>").addClass("voyager-slide-ad-close-button"),
                            u = t("<div>").addClass("voyager-slide-ad-close-button-image"),
                            a = {},
                            f = c ? t("#voyager-game-page") : t("#voyager-first-page"),
                            h = H(),
                            p = B();
                        o.append(u),
                            o.on("click", function() {
                                h == "bottom" ? a[h] = -f.scrollTop() - 250 : a[h] = "-300px",
                                    n.animate(a, 500, function() {
                                        n.hide()
                                    })
                            });
                        switch (h) {
                            case "bottom":
                                n.css("bottom", -f.scrollTop() - 250),
                                    n.css("left", r.innerWidth / 2 - 150),
                                    a[h] = -f.scrollTop(),
                                    o.addClass("voyager-slide-ad-close-button-bottom"),
                                    u.addClass("slide-ad-close-arrow-bottom");
                                break;
                            case "left":
                                a[h] = "0px",
                                    o.addClass("voyager-slide-ad-close-button-left"),
                                    u.addClass("slide-ad-close-arrow-left");
                                break;
                            case "right":
                                a[h] = "0px",
                                    o.addClass("voyager-slide-ad-close-button-right"),
                                    u.addClass("slide-ad-close-arrow-right")
                        }
                        n.css(h, "-300px"),
                            n.append(s).append(o);
                        if (l || h == "bottom")
                            n.addClass("slide-ad-after-load"),
                            f.append(n),
                            p ? (n.css("top", f.scrollTop() + n.width() / 2),
                                f.on("scroll", function() {
                                    n.css("top", f.scrollTop() + n.width() / 2)
                                })) : (n.css("bottom", -f.scrollTop()),
                                f.on("scroll", function() {
                                    n.css("bottom", -f.scrollTop())
                                }));
                        else {
                            var d = i.length > 1 ? i[0] : i;
                            t(".voyager-play-button-wrapper").length > 0 ? n.insertAfter(t(d).parent()) : n.insertAfter(d)
                        }
                        I("/418149392/" + g, [300, 250], "voyager-slide-ad-wrapper"),
                            n.animate(a, 500)
                    }

                    function F() {
                        setTimeout(function() {
                            var e = H(),
                                n = {},
                                r = c ? t("#voyager-game-page") : t("#voyager-first-page"),
                                i = t(".voyager-slide-ad-container"),
                                s = t("<div>").addClass("voyager-slide-ad-delayed-close-button");
                            i.append(s),
                                s.on("click", function() {
                                    e == "bottom" ? n[e] = -r.scrollTop() - 250 : n[e] = "-300px",
                                        i.animate(n, 500, function() {
                                            i.hide()
                                        })
                                })
                        }, 5e3)
                    }

                    function I(e, t, n) {
                        var i = o.adsHandler.getExternalTargeting("slideAd");
                        r.googletag = r.googletag || {},
                            r.googletag.cmd = r.googletag.cmd || [],
                            r.googletag.cmd.push(function() {
                                Object.keys(i).forEach(function(e) {
                                        var t = i[e];
                                        r.googletag.pubads().setTargeting(e, t)
                                    }),
                                    r.googletag.defineSlot(e, t, n).addService(r.googletag.pubads()),
                                    h && googletag.pubads().setTargeting("adfirst", h),
                                    r.googletag.pubads().enableSingleRequest(),
                                    r.googletag.enableServices()
                            }),
                            r.googletag.cmd.push(function() {
                                r.googletag.display(n)
                            })
                    }

                    function q() {
                        return o._isMobile() && i && y
                    }

                    function R() {
                        return o._isMobile() && d && y
                    }
                    m.debug("Initializing Slide Ad Module with Settings: ", e, n);
                    var i = e != undefined && e !== {},
                        d, b, w, E;
                    i && (d = e.onBridgePage,
                        b = e.showAdInSec,
                        w = e.triggerEvent,
                        E = e.startingPosition);
                    var S = n.versions,
                        x = n.random;
                    s.on(v.softgamesReady, T)
                };
            r.SoftgamesSlideAd = b,
                m.debug("Added SoftgamesSlideAd to Softgames-Prototype")
        } catch (w) {
            throw console && console.error("[" + d + "] " + w.message, w.stack),
                w
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window, document),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = null,
            a = "conversionPopup",
            f = {
                softgamesReady: "softgamesReady",
                modalWindowClosed: "modalWindowClosed",
                modalWindowOpened: "modalWindowOpened"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!o)
                throw new Error("No eventManager defined!");
            var l = new n(a),
                c, h, p = function() {
                    function e() {
                        return c || (c = r.getModalWindow(a)),
                            c
                    }

                    function n(e) {
                        try {
                            u = e
                        } catch (t) {
                            l.error(t)
                        }
                    }
                    this.showPopup = function(n) {
                            function r() {
                                try {
                                    typeof n == "function" && (n(),
                                        l.debug("Conversion callback called"))
                                } catch (e) {
                                    l.error(e)
                                }
                            }
                            l.debug("Show conversion popup ...");
                            try {
                                h = u.gid;
                                var i = SG_jQuery.cookie("cv_" + h);
                                l.debug("checking cookies for conversion popup"),
                                    l.debug(i);
                                if (i == undefined || i == 1) {
                                    SG_jQuery.cookie("cv_" + h, !1, {
                                        path: "/"
                                    });
                                    var s = u.conversionModalWindowContent,
                                        o = e();
                                    o.open("conversion", s, r, function() {
                                        try {
                                            t("#conversion-modal-window .conversion-ok-button").click(o.close)
                                        } catch (e) {
                                            l.error(e)
                                        }
                                    })
                                }
                            } catch (a) {
                                l.error(a),
                                    n()
                            }
                        },
                        o.on(f.softgamesReady, n)
                };
            e.prototype.conversionPopup = new p,
                l.debug("Added conversionPopup to Softgames-Prototype")
        } catch (d) {
            throw console && console.error("[" + a + "] " + d.message, d.stack),
                d
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r, i) {
        "use strict";
        var s = e.prototype.events,
            o = "adBlocker",
            u = 1e4,
            a = "//games.softgames.de/assets/showads.js",
            f = "//games.softgames.de/assets/advertisement.js",
            l = i.document,
            c = {
                softgamesReady: "softgamesReady",
                trackerInitiated: "trackerInitiated",
                modalWindowOpened: "modalWindowOpened",
                modalWindowClosed: "modalWindowClosed"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!r)
                throw new Error("No SG_jQuery defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var h = new t(o),
                p = function() {
                    function w() {
                        return e
                    }

                    function E() {
                        return m === null && h.warn("Ad blocker active information requested, before the detection ran"), !!m
                    }

                    function S(e) {
                        if (t === undefined)
                            throw new Error("No tracker defined!");
                        t.sendEvents(t.createEvent("ad-blocker-detection", {
                                game: i,
                                country: p,
                                partner: d,
                                detected: e
                            }, !1)),
                            h.debug("adblocker tracker event sent")
                    }

                    function x(r) {
                        // debugger;
                        t = new r.trackerHandler.EventTracker(r.subplatform, "adBlocker"),
                            i = r.game_slug,
                            d = r.subplatform,
                            p = r.country,
                            y = n.getModalWindow(o),
                            b = r.adblockerBlockGameTemplate,
                            e = !0
                    }

                    function T(e, t) {
                        try {
                            if (e.skipAds) {
                                m = !1,
                                    h.info("Skip ad blocker test"),
                                    t();
                                return
                            }
                            N([C, k], function(e) {
                                m = !!e,
                                    h.info(m ? "Ad blocker detected" : "No ad blocker detected"),
                                    e && h.debug("Determined ad blocker due to error", e),
                                    t()
                            })
                        } catch (n) {
                            t(n)
                        }
                    }

                    function N(e, t) {
                        function u(e) {
                            s || (s = !0,
                                t(e, r))
                        }

                        function a(e) {
                            return function(t, s) {
                                try {
                                    if (o[e]) {
                                        h.warn("Callback of step " + e + " called a second time");
                                        return
                                    }
                                    o[e] = !0,
                                        i++;
                                    if (t)
                                        throw t;
                                    r[e] = s,
                                        i === n && u()
                                } catch (a) {
                                    u(a)
                                }
                            }
                        }
                        var n = e.length,
                            r = [],
                            i = 0,
                            s = !1,
                            o = [];
                        try {
                            e.forEach(function(e, t) {
                                e(a(t))
                            })
                        } catch (f) {
                            u(f)
                        }
                    }

                    function C(e) {
                        h.debug("Loading advertisement.js...");
                        var t = L() + f;
                        A(t, function(n) {
                            if (n) {
                                h.debug("... failed to load ad.js probably due to ad blocker"),
                                    e(n);
                                return
                            }
                            O(t, function(t) {
                                t ? h.debug("... failed to load ad.js probably due to ad blocker") : h.debug("... loaded advertisement.js"),
                                    e(t)
                            })
                        })
                    }

                    function k(e) {
                        h.debug("Loading showAds.js...");
                        var t = L() + a;
                        A(t, function(n) {
                            if (n) {
                                h.debug("... failed to load ad.js probably due to ad blocker"),
                                    e(n);
                                return
                            }
                            O(t, function(t) {
                                t ? h.debug("... failed to load ad.js probably due to ad blocker") : h.debug("... loaded showAds.js"),
                                    e(t)
                            })
                        })
                    }

                    function L() {
                        var e = !1;
                        return l && l.location && (e = "https:" === l.location.protocol),
                            e ? "https:" : "http:"
                    }

                    function A(e, t, n) {
                        typeof t == "function" && (n = t,
                                t = null),
                            t = t || u;
                        try {
                            if (!e || !e.trim())
                                throw new Error("No url given");
                            r ? r.ajax({
                                method: "GET",
                                url: e,
                                dataType: "script",
                                timeout: t,
                                crossDomain: !0,
                                cache: !0,
                                success: function(t, r, i) {
                                    try {
                                        if (i.status !== 200)
                                            throw new Error("Failed to load script: " + e + "! Status: " + i.status);
                                        n()
                                    } catch (s) {
                                        n(s)
                                    }
                                },
                                error: function(e, t, r) {
                                    n(new Error(r))
                                }
                            }) : O(e, t, n)
                        } catch (i) {
                            n(i)
                        }
                    }

                    function O(e, t, n) {
                        // debugger;
                        typeof t == "function" && (n = t,
                                t = null),
                            t = t || u;
                        var r = l.createElement("script"),
                            i = null;
                        r.type = "text/javascript",
                            r.async = !0,
                            r.onload = function() {
                                try {
                                    i && clearTimeout(i),
                                        n()
                                } catch (e) {
                                    n(e),
                                        h.error(e)
                                }
                            },
                            r.onerror = function() {
                                i && clearTimeout(i),
                                    n(new Error("Failed to load script: " + e))
                            },
                            // r.src = e;kkkkkkkkkkkkkkkkkkkkkkkkkkkkkk
                            r.src = "../assets/advertisement.js";
                        var s = l.getElementsByTagName("script")[0];
                        s.parentNode.insertBefore(r, s),
                            i = setTimeout(function() {
                                n(new Error("Failed to load script due to timeout: " + e))
                            }, t)
                    }

                    function M() {
                        function e() {
                            r(".sg-modal-window .modal-content button.close").hide()
                        }
                        y.open("AdBlocker detected", b, null, e)
                    }

                    function _() {
                        g.indexOf(d) > -1 && S(E())
                    }
                    var e = !1,
                        t = undefined,
                        i = undefined,
                        p = undefined,
                        d = undefined,
                        v = !1,
                        m = null,
                        g = ["spilgames-gamesgames", "spilgames-agame", "m.spielaffe.de", "spilgames-a10", "other", "unknown", "m.softgames.de"],
                        y = null,
                        b = null;
                    s.on(c.softgamesReady, x),
                        s.on(c.trackerInitiated, _),
                        this.isDetected = E,
                        this.checkForAdBlocker = T,
                        this.displayAdBlockerInfo = M
                };
            e.prototype.adBlockerHandler = new p,
                h.debug("Added adBlockerHandler to Softgames-Prototype")
        } catch (d) {
            throw console && console.error("[" + o + "] " + d.message, d.stack),
                d
        }
    }(Softgames, SoftgamesLogger, softgamesModalWindow, SG_jQuery, window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "famobi",
            s = {
                softgamesReady: "softgamesReady",
                famobiLoaded: "famobiLoaded",
                highscoresLoaded: "highscoresLoaded",
                gameLevelFinished: "levelFinished"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function c() {
                        return t
                    }

                    function h() {
                        return i
                    }

                    function p(e) {
                        u = e,
                            a = u.famobi_game_id,
                            t = !0,
                            d() === !0 && (g(),
                                o.debug("initiated"))
                    }

                    function d() {
                        try {
                            var e = u._getUrlParameters();
                            if (e.fg_domain !== undefined && e.fg_uid !== undefined && e.fg_pid !== undefined || e.kg_domain !== undefined && e.kg_uid !== undefined)
                                return !0
                        } catch (t) {
                            o.debug(t)
                        }
                        return !1
                    }

                    function v() {
                        return window.famobi !== undefined
                    }

                    function m() {
                        f = setInterval(function() {
                            v() === !0 && (clearInterval(f),
                                r.fire(s.famobiLoaded))
                        }, 500)
                    }

                    function g() {
                        window.famobi_gameID = a,
                            window.famobi_gameJS = [],
                            n.getScript(e).done(function(e, t) {
                                o.debug("API loaded"),
                                    m()
                            })
                    }

                    function y() {
                        u.highscoresHandler.isInitiated() && u.highscoresHandler.switchOff(),
                            r.on(s.gameLevelFinished, E),
                            i = !0,
                            o.debug("Highscores initiated")
                    }

                    function b() {
                        o.debug("FaMobi API loaded"),
                            l = window.famobi,
                            y()
                    }

                    function w(e, t) {
                        if (h())
                            try {
                                l.submitHighscore(e, t),
                                    o.debug("Score submited - level: " + e + " score: " + t)
                            } catch (n) {
                                o.debug(n)
                            }
                    }

                    function E(e) {
                        c() && w(e.level, e.score)
                    }
                    var e = "http://games.cdn.famobi.com/html5games/gameapi/v1.js?e=",
                        t = !1,
                        i = !1,
                        u = null,
                        a = null,
                        f = null,
                        l = null;
                    r.on(s.softgamesReady, p),
                        r.on(s.famobiLoaded, b),
                        r.on(s.highscoresLoaded, y)
                };
            e.prototype.famobiHandler = new u,
                o.debug("Added famobiHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "spilgames",
            s = {
                softgamesReady: "softgamesReady",
                spilgamesLoaded: "spilgamesLoaded",
                highscoresLoaded: "highscoresLoaded",
                gameLevelFinished: "levelFinished"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function d() {
                        return i
                    }

                    function v() {
                        return u
                    }

                    function m(e, t) {
                        return c.indexOf(e) > -1 && h.indexOf(t) > -1
                    }

                    function g(e) {
                        // debugger;
                        a = e,
                            f = a.spilgamesGameId,
                            i = !0,
                            y() === !0 && m(a.subplatform, a.game_slug) && (E(),
                                o.debug("initiated"))
                    }

                    function y() {
                        try {
                            var e = a._getUrlParameters();
                            if (a.spilgamesGameId != undefined)
                                return !0
                        } catch (t) {
                            o.debug(t)
                        }
                        return !1
                    }

                    function b() {
                        return window.GameAPI !== undefined
                    }

                    function w() {
                        l = setInterval(function() {
                            b() === !0 && (clearInterval(l),
                                r.fire(s.spilgamesLoaded))
                        }, 500)
                    }

                    function E() {
                        window.spilgames_gameID = f,
                            window.spilgames_gameJS = [],
                            n.when(n.getScript(e), n.getScript(t)).done(function(e, t) {
                                o.debug("scripts from spilgames were loaded");
                                if (GameAPI !== undefined) {
                                    var n = {
                                        id: spilgames_gameID
                                    };
                                    GameAPI.loadAPI(function(e) {
                                            o.debug("GameAPI version " + e.version + " loaded!")
                                        }, n),
                                        o.debug("Spilgames API loaded")
                                }
                                w()
                            })
                    }

                    function S() {
                        a.highscoresHandler.isInitiated() && a.highscoresHandler.switchOff(),
                            r.on(s.gameLevelFinished, N),
                            u = !0,
                            o.debug("Highscores initiated")
                    }

                    function x() {
                        o.debug("Spilgames API loaded"),
                            p = window.GameApi,
                            S()
                    }

                    function T(e, t) {
                        if (v())
                            try {
                                GameAPI !== undefined && GameAPI.loadAPI(function(e) {
                                        o.debug("-------------submit score to spilgames-----------"),
                                            GameAPI.Score.submit(t)
                                    }),
                                    o.debug("Score submited: " + t)
                            } catch (n) {
                                o.debug(n)
                            }
                    }

                    function N(e) {
                        o.debug("-----------TRY--send highscore to spilgames-----------"),
                            d() && T(e.level, e.score)
                    }
                    var e = "http://cdn.gameplayer.io/api/js/game.js",
                        t = "http://cdn.gameplayer.io/api/js/developer.js",
                        i = !1,
                        u = !1,
                        a = null,
                        f = null,
                        l = null,
                        c = ["spilgames-gamesgames"],
                        h = ["shoot-them-all"],
                        p = null;
                    r.on(s.softgamesReady, g),
                        r.on(s.spilgamesLoaded, x),
                        r.on(s.highscoresLoaded, S)
                };
            e.prototype.spilgamesHandler = new u,
                o.debug("Added spilgamesHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "social",
            s = {
                socialModuleReady: "socialModuleReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function t() {
                        return e !== null
                    }

                    function n(t) {
                        e !== null ? o.debug("Social module already initiated. More then one social module running in this same time is not supported.") : e = t.handler
                    }

                    function i() {
                        t() ? (o.debug("Social [" + e.NAME + "] config called"),
                            e.config()) : o.debug("Social module not initiated")
                    }

                    function u(n, r) {
                        t() ? (o.debug("Social [" + e.NAME + "] displayInvite called: " + n),
                            e.displayInvite(n, r)) : o.debug("Social module not initiated")
                    }

                    function a(n) {
                        t() ? (o.debug("Social [" + e.NAME + "] getFriendsList called"),
                            e.getFriendsList(n)) : o.debug("Social module not initiated")
                    }

                    function f(n, r, i) {
                        t() ? (o.debug("Social [" + e.NAME + "] sendGameRequest called for: " + n, r),
                            e.sendGameRequest(n, r, i)) : o.debug("Social module not initiated")
                    }

                    function l(n, r, i) {
                        t() ? (o.debug("Social [" + e.NAME + "] displayGameRequest called: " + n, r),
                            e.displayGameRequest(n, r, i)) : o.debug("Social module not initiated")
                    }

                    function c(n) {
                        t() ? (o.debug("Social [" + e.NAME + "] registerGameRequestCallback called"),
                            e.registerGameRequestCallback(n)) : o.debug("Social module not initiated")
                    }

                    function h(n, r) {
                        t() ? (o.debug("Social [" + e.NAME + "] sendHighscore called: " + n),
                            e.sendHighscore(n, r)) : o.debug("Social module not initiated")
                    }

                    function p(n, r) {
                        t() ? (o.debug("Social [" + e.NAME + "] getHighscoresList called", n),
                            e.getHighscoresList(n, r)) : o.debug("Social module not initiated")
                    }

                    function d(n, r, i) {
                        t() ? (o.debug("Social [" + e.NAME + "] postMessageOnWall called: " + n, r),
                            e.postMessageOnWall(n, r, i)) : o.debug("Social module not initiated")
                    }

                    function v(n, r, i, s, u) {
                        t() ? (o.debug("Social [" + e.NAME + "] triggerPurchase called", {
                                itemName: n,
                                itemDescription: r,
                                itemSlug: i,
                                itemPrice: s
                            }),
                            e.triggerPurchase(n, r, i, s, u)) : o.debug("Social module not initiated")
                    }

                    function m() {
                        var n = {};
                        return t() ? (o.debug("Social [" + e.NAME + "] getPurchaseItems called"),
                                n = e.getPurchaseItems()) : o.debug("Social module not initiated"),
                            n
                    }
                    var e = null;
                    this.getConfig = i,
                        this.displayInvite = u,
                        this.getFriendsList = a,
                        this.sendGameRequest = f,
                        this.displayGameRequest = l,
                        this.registerGameRequestCallback = c,
                        this.sendHighscore = h,
                        this.getHighscoresList = p,
                        this.postMessageOnWall = d,
                        this.getPurchaseItems = m,
                        this.triggerPurchase = v,
                        r.on(s.socialModuleReady, n)
                };
            e.prototype.socialHandler = new u,
                o.debug("Added socialHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "vkontakte_sg",
            s = {
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady",
                socialModuleReady: "socialModuleReady",
                gameLevelUp: "gameLevelUp"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function p() {
                        return {
                            friends: {
                                enabled: !0,
                                inviate: {
                                    enabled: !0
                                }
                            },
                            gameRequests: {
                                enabled: !0
                            },
                            highscores: {
                                enabled: !0
                            },
                            messages: {
                                postOnWall: {
                                    enabled: !0
                                }
                            },
                            payments: {
                                enabled: !0
                            }
                        }
                    }

                    function d() {
                        try {
                            if (u.enableVkontakteApi !== undefined && u.enableVkontakteApi === !0)
                                return !0
                        } catch (e) {
                            o.debug(e)
                        }
                        return !1
                    }

                    function v() {
                        n.cookie("gameInstance" + u.gid) === undefined || n.cookie("gameInstance" + u.gid) === null ? (n.cookie("gameInstance" + u.gid, "gameInstance" + Math.random(), {
                                expires: u.userCookieExpressions,
                                path: "/"
                            }),
                            u.gameOpenedInAnotherTab = !1) : u.gameOpenedInAnotherTab = !0
                    }

                    function m() {
                        n(window).on("beforeunload", function() {
                                u.gameOpenedInAnotherTab === !1 && n.removeCookie("gameInstance" + u.gid, {
                                    path: "/"
                                })
                            }),
                            n(window).on("unload", function() {
                                u.gameOpenedInAnotherTab === !1 && n.removeCookie("gameInstance" + u.gid, {
                                    path: "/"
                                })
                            })
                    }

                    function g() {
                        n.getScript(e).done(function() {
                            i = window.VK,
                                r.fire(s.socialModuleReady, {
                                    handler: u.vkontakteHandler,
                                    name: t
                                }),
                                o.debug("API loaded"),
                                r.on(s.gameLevelUp, O)
                        })
                    }

                    function y(e) {
                        u = e,
                            d() === !0 && g()
                    }

                    function b(e) {
                        return n.ajax({
                            method: "GET",
                            dataType: "json",
                            url: a + "v1/vk/user/" + u.user.userId + "/friends?k=" + u.user.authToken
                        }).done(function(t) {
                            return e(t)
                        })
                    }

                    function w(e, t) {
                        return o.debug("getVkFriendsHighscores called: ", e),
                            n.ajax({
                                method: "GET",
                                dataType: "json",
                                url: a + "v1/vk/user/" + u.user.userId + "/game/" + u.gid + "/friends_highscores?k=" + u.user.authToken
                            }).done(function(e) {
                                return t(e)
                            })
                    }

                    function E(e, t, r) {
                        function s(e, l) {
                            i.removeCallback("onRequestSuccess", s),
                                o.debug("Vkontakte onRequestSuccess was called: " + e, l),
                                n.ajax({
                                    method: "POST",
                                    dataType: "json",
                                    url: a + "v1/vk/sender/" + u.user.userId + "/game/" + u.gid + "/gift_requests/?k=" + u.user.authToken,
                                    data: {
                                        externalUid: t.extUserId,
                                        giftName: t.name,
                                        giftAmount: t.amount,
                                        requestKey: f
                                    }
                                }).done(function(e) {
                                    return r({
                                        status: e.status
                                    })
                                })
                        }
                        try {
                            var f = Math.random() + "sgu___" + u.user.userId;
                            i !== undefined && (i.addCallback("onRequestSuccess", s),
                                i.callMethod("showRequestBox", t.extUserId, e, f))
                        } catch (l) {
                            o.debug(l)
                        }
                    }

                    function S(e, t, r) {
                        try {
                            o.debug("SendGift was called: " + e, t),
                                n.ajax({
                                    method: "POST",
                                    dataType: "json",
                                    url: a + "v1/vk/sender/" + u.user.userId + "/game/" + u.gid + "/send_gifts/?k=" + u.user.authToken,
                                    data: {
                                        externalUid: e,
                                        giftName: t.itemName,
                                        giftAmount: t.amount
                                    }
                                }).done(function(e) {
                                    return r({
                                        status: e.status
                                    })
                                })
                        } catch (i) {
                            o.debug(i)
                        }
                    }

                    function S(e, t, r) {
                        try {
                            o.debug("SendGift was called: " + e, t),
                                n.ajax({
                                    method: "POST",
                                    dataType: "json",
                                    url: a + "v1/vk/sender/" + u.user.userId + "/game/" + u.gid + "/send_gifts/?k=" + u.user.authToken,
                                    data: {
                                        externalUid: e,
                                        giftName: t.itemName,
                                        giftAmount: t.amount
                                    }
                                }).done(function(e) {
                                    return r({
                                        status: e.status
                                    })
                                })
                        } catch (i) {
                            o.debug(i)
                        }
                    }

                    function x(e) {
                        o.debug("Register game request callback called"),
                            typeof e == "function" ? f = e : o.debug("Cannot register game request callback. Callback is not a function")
                    }

                    function T(e) {
                        return n.ajax({
                            method: "GET",
                            url: a + "v1/vk/user/" + u.user.userId + "/friends/gifts_accepted?k=" + u.user.authToken
                        }).done(function(t) {
                            return e(t)
                        })
                    }

                    function N(e, t) {
                        function n(e) {
                            i.removeCallback("onInviteBoxDone", n),
                                t({
                                    status: e
                                })
                        }
                        try {
                            i !== undefined && (i.addCallback("onInviteBoxDone", n),
                                    i.callMethod("showInviteBox")),
                                o.debug("Vkontakte showInviteBox was called [Invitation text not used]: " + e)
                        } catch (r) {
                            t({
                                    status: "error"
                                }),
                                o.debug(r)
                        }
                    }

                    function C() {
                        return [c, h].join(",")
                    }

                    function k(e, t, n) {
                        try {
                            o.debug("Post on vk wall called [imageUrl not used]: " + e, t),
                                i !== undefined && i.api("wall.post", {
                                    owner_id: l.extUserId,
                                    friends_only: 0,
                                    message: e,
                                    attachments: t
                                }, function(e) {
                                    o.debug("Vkontakte wall.post was called", e),
                                        n({
                                            status: "success"
                                        })
                                })
                        } catch (r) {
                            n({
                                    status: "error"
                                }),
                                o.debug(r)
                        }
                    }

                    function L(e, t, n, r, s) {
                        function u() {
                            i.removeCallback("onOrderSuccess", a),
                                i.removeCallback("onOrderFail", f),
                                i.removeCallback("onOrderCancel", l)
                        }

                        function a(e) {
                            o.debug("Order successful: " + e),
                                u(),
                                s({
                                    status: "success"
                                })
                        }

                        function f() {
                            o.debug("Order failed"),
                                u(),
                                s({
                                    status: "failed"
                                })
                        }

                        function l() {
                            o.debug("Order canceled"),
                                u(),
                                s({
                                    status: "canceled"
                                })
                        }

                        function c() {
                            i.addCallback("onOrderSuccess", a),
                                i.addCallback("onOrderFail", f),
                                i.addCallback("onOrderCancel", l)
                        }
                        o.debug("trigger VK purchase called", {
                            itemName: e,
                            itemDescription: t,
                            itemSlug: n,
                            itemPrice: r
                        });
                        try {
                            if (i !== undefined && e !== undefined) {
                                var h = {
                                    type: "item",
                                    item: n
                                };
                                c(),
                                    i.callMethod("showOrderBox", h)
                            }
                            o.debug("Vkontakte showOrderBox was called")
                        } catch (p) {
                            o.debug(p)
                        }
                    }

                    function A(e) {
                        l = e
                    }

                    function O(e) {
                        try {
                            o.debug("onLevelUp fired! level: ", e.level);
                            var t = Number(e.level);
                            n.ajax({
                                method: "POST",
                                dataType: "json",
                                url: a + "v1/vk/user/" + u.user.userId + "/game/" + u.gid + "/activity/?k=" + u.user.authToken,
                                data: {
                                    level: t
                                }
                            }).done(function(e) {
                                return callback({
                                    status: e.status
                                })
                            })
                        } catch (r) {
                            o.debug(r)
                        }
                    }

                    function M() {
                        return {}
                    }

                    function _(e, t) {
                        o.debug("VK is using platform highscore module", e),
                            u.highscoresHandler.isInitiated() || o.debug("Score is not send. Highscore module not initialized. Score will not be send");
                        try {
                            t()
                        } catch (n) {
                            o.debug(n)
                        }
                    }
                    // debugger;
                    var e = "https://vk.com/js/api/xd_connection.js?2",
                        t = "Vkontakte",
                        i = null,
                        u = null,
                        a = "http://m.softgames.de/api/".replace("http:", "https:"), ////////////////////////////////---------
                        f, l, c = "photo399658023_456239025",
                        h = "https://vk.com/app5765511";
                    r.on(s.softgamesReady, y),
                        r.on(s.kirkUserReady, A),
                        this.showVkRequestBox = E,
                        this.getAcceptedGifts = T,
                        this.sendGift = S,
                        this.NAME = t,
                        this.getConfig = p,
                        this.displayInvite = N,
                        this.getFriendsList = b,
                        this.sendGameRequest = S,
                        this.displayGameRequest = E,
                        this.registerGameRequestCallback = x,
                        this.sendHighscore = _,
                        this.getHighscoresList = w,
                        this.postMessageOnWall = k,
                        this.getPurchaseItems = M,
                        this.triggerPurchase = L
                };
            e.prototype.vkontakteHandler = new u,
                o.debug("Added vkontakteHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = e.prototype.events,
            r = "starthomejp",
            i = {
                softgamesReady: "softgamesReady",
                levelStarted: "levelStarted",
                levelFinished: "levelFinished"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No eventManager defined!");
            var s = new t(r),
                o = "http://img.gesoten.com/js/plus.func.js",
                u = "starthome.jp",
                a = function() {
                    function a() {
                        return e
                    }

                    function f(t) {
                        r = t,
                            r.subplatform === u ? r._loadScript(o, function() {
                                n.on(i.levelStarted, l),
                                    n.on(i.levelFinished, c),
                                    e = !0,
                                    s.info("initiated")
                            }) : s.debug("Module not activated since the publisher is not " + u)
                    }

                    function l() {
                        try {
                            s.debug("Try to send game_start event ..."),
                                window.game_start({
                                    callback: function() {
                                        s.info("Send game_start event")
                                    }
                                })
                        } catch (e) {
                            s.error("Failed to execute start level flow", e)
                        }
                    }

                    function c(e) {
                        try {
                            s.debug("Try to send game_end event ...", e),
                                h(e);
                            var t = p();
                            window.game_end({
                                score: t,
                                callback: function() {
                                    s.info("... send game_end event with score: " + t)
                                }
                            })
                        } catch (n) {
                            s.error("Failed to execute end level flow", n)
                        }
                    }

                    function h(e) {
                        e = e || {};
                        var n = Number(e.score) || 0,
                            r = Number(e.level) || 1;
                        t[r] = n
                    }

                    function p() {
                        var e = t || {},
                            n = 0;
                        return Object.keys(e).forEach(function(t) {
                                var r = Number(e[t]);
                                r && (n += r)
                            }),
                            n
                    }
                    var e = !1,
                        t = {},
                        r = null;
                    n.on(i.softgamesReady, f),
                        this.isInitiated = a
                };
            e.prototype.startHomeJpModule = new a,
                s.debug("Added startHomeJpModule to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + r + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger),
    "use strict",
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "partnerHighscoreMethod",
            s = {
                softgamesReady: "softgamesReady",
                partnerJsLoaded: "partnerJsLoaded",
                highscoresLoaded: "highscoresLoaded",
                gameLevelFinished: "levelFinished"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function h() {
                        return i.highscoreMethod ? [{
                            name: "s5Innovations",
                            jsUrl: "//sclub.onlines5i.com:8110/um/Scripts/score.js",
                            namespace: "scoreBoardSpace",
                            submitFunction: function() {
                                scoreBoardSpace.submitScore(i.game_slug, c.level, c.score, l),
                                    o.debug("Score submited - game: " + i.game_slug + " level: " + c.level + " score: " + c.score + " userId: " + l)
                            }
                        }, {
                            name: "Owbe",
                            submitFunction: function() {
                                android.submitHighscore(c.score, i.game_slug),
                                    o.debug("Score submitted - game: " + i.game_slug + " score: " + c.score)
                            }
                        }, {
                            name: "Minijuegos",
                            jsUrl: "//lechuck.minijuegosgratis.com/js/latest.js",
                            jsId: "LeChuckAPIjs",
                            namespace: "LeChuckAPI",
                            submitFunction: function() {
                                function e(e, t) {
                                    LeChuckAPI.stat.put(function(n) {
                                        o.debug('Response from minijuegos for "' + e + " submited: " + t + '" : ' + JSON.stringify(n))
                                    }, e, t)
                                }
                                c.level && e("level", c.level),
                                    c.score && e("score", c.score)
                            },
                            submitSingleValues: !0
                        }, {
                            name: "Actinetwork",
                            jsUrl: "//sys.acticdn.com/js/softgames/init.js",
                            jsId: "SoftGamesActinetwork",
                            namespace: "ActiSoftGames",
                            submitFunction: function() {
                                o.debug("Sending to API: level: " + c.level + " score: " + c.score),
                                    ActiSoftGames.submitHighscore(c.level, c.score, i.game_slug, l)
                            }
                        }, {
                            name: "e-novative.dk",
                            jsUrl: "//gratisspil.dk/onlineGame/premium/SoftGames/include/js/SoftGames.js",
                            namespace: "gsSoftGames",
                            submitFunction: function() {
                                o.debug("Sending to API: level: " + c.level + " score: " + c.score),
                                    window.gsSoftGames.submitHighscore(c.level, c.score, i.game_slug, l)
                            }
                        }][i.highscoreMethod - 1] : null
                    }

                    function p() {
                        return e
                    }

                    function d() {
                        return t
                    }

                    function v() {
                        return n
                    }

                    function m(e) {
                        i = e,
                            f = h();
                        if (f !== null) {
                            t = !0;
                            var n = i._getUrlParameters();
                            l = n.userid,
                                r.on(s.highscoresLoaded, w),
                                f.jsUrl ? (r.on(s.partnerJsLoaded, E),
                                    b()) : w(),
                                o.debug(f.name + " Highscore Method initiated")
                        }
                    }

                    function g() {
                        return typeof window[f.namespace] != "undefined"
                    }

                    function y() {
                        u = setInterval(function() {
                            g() === !0 && (clearInterval(u),
                                r.fire(s.partnerJsLoaded))
                        }, 500)
                    }

                    function b() {
                        var e = document.createElement("script");
                        e.src = f.jsUrl + "?v=" + (new Date).getTime(),
                            e.async = !0,
                            e.type = "text/javascript",
                            e.id = f.jsId || "partnerHighscoreMethodScript",
                            e.onload = function() {
                                o.debug(f.name + " JS loaded from " + f.jsUrl),
                                    y()
                            },
                            document.getElementsByTagName("head")[0].appendChild(e)
                    }

                    function w() {
                        v() || (i.highscoresHandler.isInitiated() && i.highscoresHandler.switchOff(),
                            r.on(s.gameLevelFinished, S),
                            n = !0,
                            e = !0,
                            o.debug("Highscores initiated"))
                    }

                    function E() {
                        try {
                            var e = window[f.namespace];
                            if (typeof e == "function")
                                a = new e({});
                            else {
                                if (typeof e == "undefined")
                                    throw new Error("No namespace or api was provided");
                                a = e
                            }
                            w()
                        } catch (t) {
                            o.error("Partner namespace/api was not created ", t)
                        }
                    }

                    function S(e) {
                        if (p() && d()) {
                            c = e;
                            try {
                                o.debug("Calling highscore function for " + f.name + ": ", e),
                                    f.submitFunction()
                            } catch (t) {
                                o.debug(t)
                            }
                        }
                    }
                    var e = !1,
                        t = !1,
                        n = !1,
                        i = null,
                        u = null,
                        a = null,
                        f = null,
                        l, c = {};
                    r.on(s.softgamesReady, m)
                };
            e.prototype.partnerHighscoreMethodHandler = new u,
                o.debug("Added partnerHighscoreMethodHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "exclusiveGame",
            s = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function n() {
                        var e = null;
                        t !== null && t !== undefined && t !== "" ? (e = t,
                            o.debug("Redirect to: " + e),
                            window.location = e) : o.debug("Cannot redirect because redirection URL is undefined")
                    }

                    function i(r) {
                        e = r.exclusiveGameData.block_game,
                            r.exclusiveGameData.redirect_to !== undefined && r.exclusiveGameData.redirect_to !== "" ? t = r.exclusiveGameData.redirect_to : t = r._getBackUrl(),
                            e && e === !0 && n()
                    }
                    var e = !1,
                        t = null;
                    r.on(s.softgamesReady, i)
                };
            e.prototype.exclusiveGameHandler = new u,
                o.debug("Added exclusiveGameHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "bildde",
            s = {
                softgamesReady: "softgamesReady",
                bildDeLoaded: "bildDeLoaded",
                gameStarted: "gameStarted"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function h() {
                        return i
                    }

                    function p(e) {
                        u = e,
                            i = !0,
                            d() === !0 && (y(),
                                o.debug("initiated"))
                    }

                    function d() {
                        try {
                            var e = u._getUrlParameters();
                            if (u.bildDeTrackingSettings != undefined && u.bildDeTrackingSettings.stBildTrackingParamDesktop != undefined && u.bildDeTrackingSettings.cpBildTrackingParamDesktop != undefined)
                                return !0
                        } catch (t) {
                            o.debug(t)
                        }
                        return !1
                    }

                    function v() {
                        return window.iom !== undefined
                    }

                    function m() {
                        intervalLoading = setInterval(function() {
                            v() === !0 && (clearInterval(intervalLoading),
                                r.fire(s.bildDeLoaded))
                        }, 500)
                    }

                    function g() {
                        o.debug("====onStartGame=======")
                    }

                    function y() {
                        r.on(s.gameStarted, g),
                            n.when(n("body").append("<iframe id='partnerTracking' name='partnerTracking' width='1', heigth='1' src='//games.softgames.de/assets/bildde_tracking.html'></iframe>"), n.getScript(t)).done(function(e, t) {
                                o.debug("script from iam was loaded"),
                                    b()
                            })
                    }

                    function b() {
                        n(document).on("click", function() {
                            f += 1,
                                l = u.bildDeTrackingSettings.bildTrackingClickInterval,
                                f == l && (o.debug("detected " + l + " click, send tracking"),
                                    window.frames.partnerTracking.document.head.innerHTML = '<script src="' + e + '" type="text/javascript"></script>',
                                    u._isMobile() ? E() : w(),
                                    f = 0),
                                gujTracker !== undefined && gujTracker.track({
                                    frequency: {
                                        tracking: 1,
                                        ads: 1
                                    }
                                })
                        })
                    }

                    function w() {
                        try {
                            var e = {
                                st: u.bildDeTrackingSettings.stBildTrackingParamDesktop,
                                cp: u.bildDeTrackingSettings.cpBildTrackingParamDesktop,
                                sv: "in"
                            };
                            o.debug("-----------TRY--send tracking for desktop-----------"),
                                window.frames.partnerTracking.iom.c(e),
                                c = !0,
                                o.debug("clicks tracking initiated")
                        } catch (t) {
                            window.frames.partnerTracking.$(document).triggerHandler("trackEvent", [t, {
                                    category: "Tracker",
                                    action: "IVW Script",
                                    label: "failed"
                                }]),
                                c = !1,
                                o.debug("clicks tracking failed to initialize"),
                                o.debug("error: " + t)
                        }
                    }

                    function E() {
                        try {
                            var e = {
                                st: u.bildDeTrackingSettings.stBildTrackingParamMobile,
                                cp: u.bildDeTrackingSettings.cpBildTrackingParamMobile,
                                sv: "in"
                            };
                            o.debug("-----------TRY--send tracking for mobile-----------"),
                                window.frames.partnerTracking.iom.c(e),
                                c = !0,
                                o.debug("clicks tracking initiated")
                        } catch (t) {
                            window.frames.partnerTracking.$(document).triggerHandler("trackEvent", [t, {
                                    category: "Tracker",
                                    action: "IVW Script",
                                    label: "failed"
                                }]),
                                c = !1,
                                o.debug("clicks tracking failed to initialize")
                        }
                    }
                    var e = "https://script.ioam.de/iam.js",
                        t = "//weblications.guj.de/js/gujTrackerChild.js",
                        i = !1,
                        u = null,
                        a = null,
                        f = 0,
                        l = 8,
                        c = null;
                    r.on(s.softgamesReady, p)
                };
            e.prototype.bildDeHandler = new u,
                o.debug("Added bildDeHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    window.b || (window.b = {}),
    I18n.fallbacks = !0,
    function(e, t, n) {
        "use strict";

        function u(t, n, r) {
            try {
                var i = f() ? l() : t.detectedPortalUrl;
                n.debug({
                        targetUrl: i,
                        event: t
                    }, "DefaultEventHandler executed"),
                    e.open(i, r)
            } catch (s) {
                n.error(s)
            }
        }

        function a(e, t, n) {
            try {
                t.debug({
                        event: e
                    }, "NewFlowEventHandler executed"),
                    r.fire(o.showMoreGamesModalWindow, {
                        type: "new",
                        targetType: n
                    })
            } catch (i) {
                t.error(i)
            }
        }

        function f() {
            return s && s.yahooJapanModule && s.yahooJapanModule.isYahooJapanPublisher(s.subplatform)
        }

        function l() {
            return s.yahooJapanModule.getMoreGamesUrl()
        }
        var r = t.prototype.events,
            i = "redirectToPortalHock",
            s = null,
            o = {
                softgamesReady: "softgamesReady",
                redirectToPortal: "redirectToPortal",
                showMoreGamesModalWindow: "showMoreGamesModalWindow"
            };
        try {
            if (!t)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            var c = new n(i);
            r.on(o.softgamesReady, function(t) {
                    var n = t,
                        s = u,
                        f = t.moreGamesTargetType;
                    t.moreGamesType === "new" && (s = a),
                        r.on(o.redirectToPortal, function(e) {
                            s(e, c, f)
                        }),
                        c.debug(i + " connected")
                }),
                c.debug("Waiting to connect hock ...")
        } catch (h) {
            throw console && console.error("[" + i + "] " + h.message, h.stack),
                h
        }
    }(window, Softgames, SoftgamesLogger),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = "moreGamesModule",
            a = {
                modalWindowClosed: "modalWindowClosed",
                modalWindowOpened: "modalWindowOpened",
                showMoreGamesModalWindow: "showMoreGamesModalWindow",
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var f = new n(u),
                l = function() {
                    function c(e) {
                        e = e || function() {};
                        if (n)
                            try {
                                if (s)
                                    f.info("Starting more games call per override ..."),
                                    s(function(t) {
                                        f.info("... more games call per override done!"),
                                            e(t)
                                    });
                                else if (t.moreGamesBannerHandler && t.moreGamesBannerHandler.moduleShouldBeEnabled())
                                    t.moreGamesBannerHandler.openRandomPromotion("ingameMoreGamesButton", e);
                                else {
                                    var r = h();
                                    if (r) {
                                        var o = p(),
                                            u = i.innerHeight - 80,
                                            a = i.innerWidth - 50,
                                            l = '<iframe id="moreGamesModalWindowYahooJapan" src="' + o + '" height="' + u + '" width="' + a + '" style="border: 0; margin: 0; padding: 0;"></iframe>';
                                        d(l, e)
                                    } else {
                                        var c = t.moreGamesBubbleHandler.openModal("ingameMoreGames");
                                        c || f.error("Failed to open more games modal window")
                                    }
                                }
                            } catch (v) {
                                f.error(v),
                                    e(v)
                            }
                        else
                            f.warn("Could not show modal window due to bad initialization status"),
                            e()
                    }

                    function h() {
                        return t && t.yahooJapanModule && t.yahooJapanModule.isYahooJapanPublisher(t.subplatform)
                    }

                    function p() {
                        return t.yahooJapanModule.getMoreGamesUrl()
                    }

                    function d(e, t) {
                        l.open("moreGamesPopup", e, function() {
                            try {
                                f.debug("Closed modal window"),
                                    setTimeout(t, 500)
                            } catch (e) {
                                f.error("Could not execute given callback ", {
                                    error: e.stack
                                })
                            }
                        }, function() {
                            f.debug("Show modal window")
                        }, !1, !1, !1, !0)
                    }

                    function v(e) {
                        try {
                            t = e,
                                n = !0,
                                f.debug(u + " initialized")
                        } catch (r) {
                            f.error(r)
                        }
                    }

                    function m() {
                        e.show()
                    }

                    function g(e) {
                        if (typeof e != "function")
                            throw new Error("No function given!");
                        s = e,
                            f.info("Normal more game call overridden!")
                    }
                    var e = this,
                        t = null,
                        n = !1,
                        s = null,
                        l = r.getModalWindow(u);
                    o.on(a.softgamesReady, v),
                        o.on(a.showMoreGamesModalWindow, m),
                        this.show = c,
                        this.injectFlow = g
                };
            e.prototype.moreGamesModule = new l,
                f.debug("Added moreGamesModule to Softgames-Prototype")
        } catch (c) {
            throw console && console.error("[" + u + "] " + c.message, c.stack),
                c
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r) {
        "use strict";

        function a(e) {
            e ? r('<style type="text/css">' + e + "</style>").appendTo("head") : u.info("No css given")
        }
        var i = t.prototype.events,
            s = "gameIdentity",
            o = {
                softgamesReady: "softgamesReady"
            },
            u;
        try {
            if (!t)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            u = new n(s);
            var f;
            i.on(o.softgamesReady, function(t) {
                    try {
                        f = t.gameIdentity,
                            f ? (a(f.css),
                                u.info("... game identity initiated!")) : u.info("... no game identity given!")
                    } catch (n) {
                        u.error(n)
                    }
                }),
                u.debug("Waiting to init game identity ...")
        } catch (l) {
            throw console && console.error("[" + s + "] " + l.message, l.stack),
                l
        }
    }(window, Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "gamesEventsTracker",
            o = {
                softgamesReady: "softgamesReady",
                loadingFlowFinished: "loadingFlowFinished",
                gameStarted: "gameStarted",
                gameLevelUp: "gameLevelUp",
                gameGameOver: "gameGameOver",
                gameLevelStarted: "levelStarted",
                gameLevelFinished: "levelFinished"
            },
            u = "sg-highest-level-";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var a = new t(s),
                f = function() {
                    function w() {
                        return e
                    }

                    function E() {
                        return "gameEventTracking_" + t
                    }

                    function S() {
                        n.cookie(E()) && (y = g)
                    }

                    function x() {
                        return y == m ? !0 : !1
                    }

                    function T() {
                        n.cookie(E(), {
                            expires: b
                        })
                    }

                    function N(n) {
                        // debugger;
                        t = n.game_slug,
                            r = n.subplatform,
                            s = n.highscores,
                            f = new n.trackerHandler.EventTracker(n.subplatform, "ingames"),
                            l = new n.trackerHandler.EventTracker(n.subplatform, "playDuration"),
                            S(),
                            T(),
                            e = !0,
                            a.debug("initiated")
                    }

                    function C(e) {
                        var t = 0;
                        for (var n = 0; n <= e; n++)
                            t += d[n];
                        return t
                    }

                    function k() {
                        return {
                            game: t,
                            partner: r,
                            newUser: x()
                        }
                    }

                    function L() {
                        var e = d[v];
                        if (e !== undefined)
                            if (w()) {
                                var t = {
                                    seconds: C(v)
                                };
                                softgames.moreGamesUtils && softgames.moreGamesUtils.getSourceSlug() && softgames.moreGamesUtils.getSourceSlug() !== softgames.game_slug && (t.from = softgames.moreGamesUtils.getSourceSlug()),
                                    l.sendEvents(l.createEvent("gameTimerTick", n.extend({}, k(), t), !0))
                            } else
                                a.debug("Not initiated")
                    }

                    function A() {
                        var e = d[v];
                        e !== undefined && setTimeout(function() {
                            L(),
                                v++,
                                A()
                        }, e * 1e3)
                    }

                    function O(e) {
                        h[e] == undefined && (h[e] = 0),
                            h[e] += 1
                    }

                    function M(e) {
                        return s !== null && s !== undefined && s.type === "best-level" ? e.score : e.level
                    }

                    function _(e) {
                        return s !== null && s !== undefined && s.type === "best-level" ? 0 : e.score
                    }

                    function D(e) {
                        var n = {
                            game: t,
                            partner: r
                        };
                        return s !== null && s !== undefined && s.type === "best-level" && (n.level = M(e)),
                            n
                    }

                    function P() {
                        w() ? c === !1 && (f.sendEvents(f.createEvent("gameStarted", n.extend({}, k(), {}), !0)),
                            c = !0) : a.debug("Not initiated")
                    }

                    function H(e) {
                        var t = [0, 0, 0, 0, 0],
                            n = 0,
                            r = [];
                        for (; n < e.length; n++)
                            e[n][1] != null && (t[0] += e[n][0],
                                t[1] += e[n][1],
                                t[2] += e[n][0] * e[n][0],
                                t[3] += e[n][0] * e[n][1],
                                t[4] += e[n][1] * e[n][1]);
                        var i = (n * t[3] - t[0] * t[1]) / (n * t[2] - t[0] * t[0]),
                            s = t[1] / n - i * t[0] / n;
                        for (var o = 0, u = e.length; o < u; o++) {
                            var f = [e[o][0], e[o][0] * i + s];
                            r.push(f)
                        }
                        var l = "y = " + Math.round(i * 100) / 100 + "x + " + Math.round(s * 100) / 100;
                        a.debug({
                            equation: [i, s],
                            points: r,
                            string: l
                        });
                        var c = Math.floor(Math.atan(i) / (Math.PI / 10));
                        return isNaN(c) && (c = 0),
                            a.debug("returned RetryImprovementRateValue is " + Math.floor(Math.round(i * 10) / 100)),
                            a.debug("RetryImprovementRateAlphaAngle is " + Math.floor(Math.atan(i) / (Math.PI / 10))),
                            a.debug("normalized RetryImprovementRateAlphaAngle is " + (90 - Math.floor(Math.atan(i) / (Math.PI / 180)))),
                            c
                    }

                    function B(e) {
                        if (w()) {
                            f.sendEvents(f.createEvent("gameLevelUp", n.extend({}, k(), {
                                level: e.level
                            }), !0));
                            var r = z(u + t),
                                i = h[e.level] ? h[e.level] + 1 : 1;
                            p[i] = e.lastLevelScore;
                            if (!r) {
                                U(u + t, e.level);
                                for (var s = 1; s < e.level; s++)
                                    a.debug("-1--trackUniqueLevelUp--------------------"),
                                    a.debug(s),
                                    a.debug(1),
                                    a.debug(e.lastLevelScore),
                                    console.log(p),
                                    a.debug("-----------------------"),
                                    W(s, 1, H(j(p)));
                                a.debug("-2--trackUniqueLevelUp--------------------"),
                                    a.debug(e.level),
                                    a.debug(i),
                                    a.debug(e.lastLevelScore),
                                    console.log(p),
                                    a.debug("-----------------------"),
                                    W(e.level, i, H(j(p)))
                            } else
                                e.level > r && (U(u + t, e.level),
                                    a.debug("-3--trackUniqueLevelUp--------------------"),
                                    a.debug(e.level),
                                    a.debug(i),
                                    a.debug(e.lastLevelScore),
                                    console.log(p),
                                    a.debug("-----------------------"),
                                    W(e.level, i, H(j(p))))
                        } else
                            a.debug("Not initiated")
                    }

                    function j(e) {
                        var t = [];
                        for (var n in e) {
                            var r = [];
                            r.push(parseInt(n), parseInt(e[n])),
                                t.push(r)
                        }
                        return t
                    }

                    function F(e) {
                        O(e.level),
                            w() ? f.sendEvents(f.createEvent("gameGameOver", n.extend({}, k(), {
                                level: e.level,
                                retry: h[e.level]
                            }), !0)) : a.debug("Not initiated")
                    }

                    function I(e) {
                        w() ? f.sendEvents(f.createEvent("gameLevelStarted", n.extend({}, k(), {
                            level: e.level
                        }), !0)) : a.debug("Not initiated")
                    }

                    function q(e) {
                        var t = {};
                        w() ? f.sendEvents(f.createEvent("gameLevelFinished", n.extend({}, k(), D(e)), !0)) : a.debug("Not initiated")
                    }

                    function R() {
                        w() ? (A(),
                            f.sendEvents(f.createEvent("gameLoaded", n.extend({}, k(), {}), !1))) : a.debug("Not initiated")
                    }

                    function U(e, t) {
                        n.cookie(e, t)
                    }

                    function z(e) {
                        var t = "; " + document.cookie,
                            n = t.split("; " + e + "=");
                        if (n.length == 2)
                            return parseInt(n.pop().split(";").shift())
                    }

                    function W(e, t, r) {
                        f.sendEvents(f.createEvent("gameUniqueLevelUp", n.extend({}, k(), {
                            level: e,
                            attempts: t,
                            retryImprovementRate: r
                        }), !0))
                    }
                    var e = !1,
                        t = null,
                        r = null,
                        s = null,
                        f = null,
                        l = null,
                        c = !1,
                        h = {},
                        p = {},
                        d = [0, 30, 30, 60, 60, 60, 60, 120, 180],
                        v = 0,
                        m = "new",
                        g = "returning",
                        y = m,
                        b = 365;
                    i.on(o.softgamesReady, N),
                        i.on(o.loadingFlowFinished, R),
                        i.on(o.gameStarted, P),
                        i.on(o.gameLevelUp, B),
                        i.on(o.gameGameOver, F),
                        i.on(o.gameLevelStarted, I),
                        i.on(o.gameLevelFinished, q)
                };
            e.prototype.gamesEventsTrackerHandler = new f,
                a.debug("Added gamesEventsTrackerHandler to Softgames-Prototype")
        } catch (l) {
            throw console && console.error("[" + s + "] " + l.message, l.stack),
                l
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "conversionSettingsTracker",
            o = {
                softgamesReady: "softgamesReady",
                conversionTracked: "conversionTracked"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function l() {
                        return e
                    }

                    function c() {
                        return {
                            gameSlug: t,
                            partner: n,
                            sessionId: r,
                            conversionFlow: s.adsConversionFlow,
                            conversionLevel: s.adsConversionLevel,
                            conversionLevelPoints: s.adsConversionLevelPoints,
                            conversionPoints: s.adsConversionPoints,
                            conversionPointsDesktop: s.adsConversionPointsDesktop,
                            conversionPointsMobile: s.adsConversionPointsMobile,
                            conversionBestScore: s.adsConversionBestScore,
                            userState: s.adsConversionUserState
                        }
                    }

                    function h(e) {
                        return a.indexOf(e) >= 0
                    }

                    function p() {
                        l() && h(n) ? f.sendEvents(f.createEvent("onInitSettings", c(), !1)) : u.debug("Not initiated")
                    }

                    function d() {
                        l() && h(n) ? f.sendEvents(f.createEvent("onConversionTriggred", c(), !1)) : u.debug("Not initiated")
                    }

                    function v(i) {
                        r = Math.random() * 1e17,
                            s = i,
                            t = i.game_slug,
                            n = i.subplatform,
                            f = new i.trackerHandler.EventTracker(i.subplatform, "conversionSettings"),
                            e = !0,
                            u.debug("initiated"),
                            p()
                    }
                    var e = !1,
                        t = null,
                        n = null,
                        r = null,
                        s = null,
                        a = ["affiliate__trailpay"],
                        f = null;
                    i.on(o.softgamesReady, v),
                        i.on(o.conversionTracked, d)
                };
            e.prototype.conversionSettingsTrackerHandler = new a,
                u.debug("Added conversionSettingsTrackerHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "offerWallConnector",
            o = "offerWall",
            u = {
                triggerConversion: "triggerConversion",
                displayInGameAdPopupStarted: "displayInGameAdPopupStarted",
                displayInGameAdPopupDone: "displayInGameAdPopupDone"
            },
            a = {
                "ads-amount": "adsAmount",
                level: "afterLevel",
                "level+": "afterLevel",
                "level-points": "levelPoints",
                "best-score": "highscore"
            },
            f = {
                adsAmount: function(e, t) {
                    return e >= t
                },
                afterLevel: function(e, t) {
                    return e >= t
                },
                levelPoints: function(e, t) {
                    return e.level === t.level && e.score >= t.points
                },
                highscore: function(e, t) {
                    return e >= t
                }
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var l = new t(s),
                c = function() {
                    function m(t, n) {
                        try {
                            e = t._getUrlParameter("offerWallId"),
                                e ? (c = !0,
                                    l.debug("Start initiating offer wall connector ..."),
                                    r.addEventListener("message", function(e) {
                                        S(e, n)
                                    }, !1),
                                    _("getOffer")) : (l.debug("feature not enabled"),
                                    n())
                        } catch (i) {
                            l.error(i),
                                n()
                        }
                    }

                    function g() {
                        return t
                    }

                    function y() {
                        return !t || !t.versions ? null : t.versions.slice()
                    }

                    function b() {
                        return !t || !t.random ? null : t.random
                    }

                    function w() {
                        return n
                    }

                    function E() {
                        return c
                    }

                    function S(e, t) {
                        var n = e.data;
                        try {
                            n && n.hasOwnProperty("system") && n.hasOwnProperty("action") && (n.system = o && n.action === "init" && n.data) && x(n.data, t)
                        } catch (r) {
                            l.error("Error while processing a message event"),
                                l.error(r)
                        }
                    }

                    function x(r, o) {
                        try {
                            l.debug("... initialized with offerWallId: " + e),
                                n = r.sliderAd,
                                t = r.landingPage;
                            if (!r.flow || !r.value)
                                throw new Error("No conversion settings given");
                            if (!f[r.flow])
                                throw new Error("No check function defined for given flow");
                            s = {
                                    flow: r.flow,
                                    value: r.value
                                },
                                i.on(u.triggerConversion, T),
                                i.on(u.displayInGameAdPopupStarted, N),
                                i.on(u.displayInGameAdPopupDone, C),
                                o()
                        } catch (a) {
                            l.error("Error while initializing"),
                                l.error(a),
                                o()
                        }
                    }

                    function T(e) {
                        O(e.flow) && M(e.value) && k()
                    }

                    function N() {
                        h = !0,
                            L()
                    }

                    function C() {
                        h = !1,
                            L(),
                            A()
                    }

                    function k() {
                        if (d)
                            return;
                        d = !0,
                            p = setTimeout(function() {
                                h || A()
                            }, 1e3)
                    }

                    function L() {
                        p && clearTimeout(p)
                    }

                    function A() {
                        d && !v && (_("offerCompleted"),
                            v = !0)
                    }

                    function O(e) {
                        return s.flow === a[e]
                    }

                    function M(e) {
                        return f[s.flow](e, s.value)
                    }

                    function _(t, n) {
                        if (!t)
                            return;
                        n = n || {},
                            n.offerWallId = e;
                        var i = {
                            system: o,
                            action: t,
                            data: n
                        };
                        r.parent.postMessage(i, "*"),
                            l.debug("Message sent", {
                                message: i
                            })
                    }
                    var e = null,
                        t = null,
                        n = null,
                        s = null,
                        c = !1,
                        h = !1,
                        p = null,
                        d = !1,
                        v = !1;
                    this.isOfferwallConnectorActive = E,
                        this.getLandingPageSettings = g,
                        this.getSliderAdSetting = w,
                        this.getLandingPageVersions = y,
                        this.getRandom = b,
                        this.init = m
                };
            e.prototype.offerWallConnector = new c,
                l.debug("Added offerWallConnector to Softgames-Prototype")
        } catch (h) {
            throw console && console.error("[" + s + "] " + h.message, h.stack),
                h
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = "refillLives",
            a = "cpi-call2action",
            f = "//dop3jnx8my3ym.cloudfront.net/widgets.js",
            l = "//s3.eu-central-1.amazonaws.com/offerwall-sdk/offerwall-sdk.js",
            c = 75,
            h = 1e3,
            p = 3,
            d = 3,
            v = "refillLives",
            m = {
                popupShown: "popupShown",
                refilledByTime: "refilledByTime",
                refilledByCpi: "refilledByCpi",
                cpiClicked: "cpiClicked",
                cpiDisplayFailed: "cpiDisplayFailed",
                refilledByOffer: "refilledByOffer",
                offerStarted: "offerStarted",
                offerCanceled: "offerCanceled"
            },
            g = {
                popupShown: "popup-shown",
                refilledByTime: "refilled-by-time",
                refilledByCpi: "refilled-by-cpi",
                cpiClicked: "cpi-clicked",
                cpiDisplayFailed: "cpi-display-failed",
                refilledByOffer: "refilled-by-offer",
                offerStarted: "offer-started",
                offerCanceled: "offer-canceled"
            },
            y = {
                softgamesReady: "softgamesReady",
                loadingFlowFinished: "loadingFlowFinished",
                gameGameOver: "gameGameOver"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var b = new n(u),
                w = {
                    topLeft: function(e, t, n) {
                        e.style.top = n + "px" || 0,
                            e.style.left = t + "px" || 0
                    },
                    bottomLeft: function(e, t, n) {
                        e.style.bottom = n + "px" || 0,
                            e.style.left = t + "px" || 0
                    },
                    topRight: function(e, t, n) {
                        e.style.top = n + "px" || 0,
                            e.style.right = t + "px" || 0
                    },
                    bottomRight: function(e, t, n) {
                        e.style.bottom = n + "px" || 0,
                            e.style.right = t + "px" || 0
                    }
                },
                E = function() {
                    function z(r) {
                        try {
                            var i = r.refillLifeSettings;
                            if (i && !r.offerWallConnector.isOfferwallConnectorActive()) {
                                C = Number(r.aid),
                                    e = Number(i.maxLifes),
                                    n = Number(i.countdownInSec),
                                    E = Number(i.refillAmount),
                                    S = String(i.displayCorner),
                                    x = Number(i.horizontalMargin),
                                    T = Number(i.verticalMargin),
                                    N = String(i.modalWindowContent),
                                    k = String(i.cpiGames),
                                    F = new r.trackerHandler.EventTracker(r.subplatform, "refillLives");
                                if (!e || !n || !E || !S || isNaN(x) || isNaN(T) || !N)
                                    throw new Error("No valid settings given");
                                j = r,
                                    U = j._isMobile(),
                                    r.events.on(y.loadingFlowFinished, et),
                                    r.events.on(y.gameGameOver, dt);
                                if (U)
                                    switch (k) {
                                        case "cpi widget button":
                                            V(r),
                                                L = Tt;
                                            break;
                                        case "game requests":
                                            X(r),
                                                d = 0,
                                                L = function() {
                                                    t("#sgRefillLifesOffers").remove(),
                                                        Et("#dualOffers")
                                                };
                                            break;
                                        case "both":
                                            V(r),
                                                X(r),
                                                L = function() {
                                                    Tt(),
                                                        Et("#dualOffers")
                                                };
                                            break;
                                        default:
                                            V(r),
                                                L = Tt
                                    }
                                else
                                    W() ? (V(r),
                                        L = Tt) : (X(r),
                                        L = Et);
                                b.info("Initialized with settings", {
                                    settings: i
                                })
                            } else
                                b.debug("No settings given")
                        } catch (s) {
                            b.error(s),
                                b.error("Settings", r.refillLifeSettings)
                        }
                    }

                    function W() {
                        return U
                    }

                    function X(e) {
                        i.sgOfferWall ? (B = i.sgOfferWall,
                            b.debug("offerWallSdk already present")) : e.scriptLoader.loadScript(l, function() {
                            B = i.sgOfferWall,
                                b.debug("Loaded offerWallSdk")
                        })
                    }

                    function V(e) {
                        i.sgWidgets ? (H = i.sgWidgets,
                            b.debug("sgWidgets already present")) : e.scriptLoader.loadScript(f, function() {
                            H = i.sgWidgets,
                                b.debug("Loaded sgWidgets")
                        })
                    }

                    function $() {
                        setInterval(G, h)
                    }

                    function J(e, t) {
                        s.cookie = "sg-lives-" + j.subplatform + "-" + j.game_slug + "=" + e;
                        var n = setInterval(function() {
                            var r = K();
                            r === e && (clearInterval(n),
                                t())
                        }, 250)
                    }

                    function K() {
                        var e = Q("sg-lives-" + j.subplatform + "-" + j.game_slug);
                        return !e && e !== 0 ? null : e > 0 ? e : 0
                    }

                    function Q(e) {
                        var t = s.cookie.match(new RegExp(e + "=([^;]+)"));
                        return t && t.length > 0 ? parseInt(t[1]) : null
                    }

                    function G() {
                        var e = gt(),
                            t = K();
                        e !== t && (b.info("Detected run in other window"),
                            lt(),
                            R = !1,
                            Y(t))
                    }

                    function Y() {
                        try {
                            var t = gt();
                            yt(t, function() {
                                R && (!M && t < e && ft(),
                                        M && t >= e && lt()),
                                    rt(t),
                                    t <= 0 ? bt() : !I && q.isOpen() && q.close()
                            })
                        } catch (n) {
                            b.error("Could not update lives"),
                                b.error(n)
                        }
                    }

                    function Z(e, t) {
                        return e === null ? t : e
                    }

                    function et() {
                        tt(),
                            yt(mt(), function() {
                                Y(),
                                    ct(),
                                    $()
                            })
                    }

                    function tt() {
                        ut(),
                            ot();
                        var e = s.createElement("div");
                        e.id = "sgRefillLifesStatusWidget",
                            nt(e),
                            e.appendChild(_),
                            e.appendChild(D);
                        var n = s.getElementsByTagName("BODY")[0];
                        n.appendChild(e),
                            t(i).resize(function() {
                                nt(e)
                            })
                    }

                    function nt(e) {
                        var t = w[S];
                        t && t(e, st(x), it(T))
                    }

                    function rt(t) {
                        _ && (_.innerHTML = t,
                            D && t >= e && (D.innerHTML = "full"))
                    }

                    function it(e) {
                        if (!e || e == 0)
                            return 0;
                        var n = t(i).height();
                        return e / 100 * n - c / 2 < 0 ? 0 : e / 100 * n - c / 2
                    }

                    function st(e) {
                        if (!e || e == 0)
                            return 0;
                        var n = t(i).width();
                        return e / 100 * n - c / 2 < 0 ? 0 : e / 100 * n - c / 2
                    }

                    function ot() {
                        _ = s.createElement("div"),
                            _.id = "sgRefillLifeStatusLifeCounter",
                            rt(mt())
                    }

                    function ut() {
                        D = s.createElement("div"),
                            D.id = "sgRefillLifeStatusCountdown",
                            D.innerHTML = at(n)
                    }

                    function at(e) {
                        if (!e || e < 0)
                            return "00:00";
                        var t = String(e % 60),
                            n = String(Math.floor(e / 60));
                        return t.length < 2 && (t = "0" + t),
                            n.length < 2 && (n = "0" + n),
                            n + ":" + t
                    }

                    function ft() {
                        b.debug("Start countdown"),
                            M && lt();
                        var e = Math.floor(Date.now() / 1e3);
                        M = setInterval(function() {
                            try {
                                var t = Math.floor(Date.now() / 1e3),
                                    n = t - e;
                                e = t,
                                    O -= n,
                                    ht(),
                                    O < 0 && pt()
                            } catch (r) {
                                b.error("Could not run countdown interval"),
                                    b.error(r)
                            }
                        }, 1e3)
                    }

                    function lt() {
                        M && (clearInterval(M),
                            M = null)
                    }

                    function ct() {
                        O = n,
                            ht()
                    }

                    function ht() {
                        var e = at(O);
                        D.innerHTML = e,
                            P && (P.innerHTML = e)
                    }

                    function pt() {
                        ct(),
                            vt(1),
                            wt(m.refilledByTime, null, g.refilledByTime)
                    }

                    function dt() {
                        vt(-1)
                    }

                    function vt(t) {
                        var n = gt();
                        n += t,
                            n > e && (n = e),
                            yt(n, function() {
                                Y()
                            })
                    }

                    function mt() {
                        var t = Z(K(), e);
                        return b.debug("Return initial lives:", t),
                            t
                    }

                    function gt() {
                        return A
                    }

                    function yt(e, t) {
                        b.debug("Set current lives to", e),
                            A = e,
                            J(e, t)
                    }

                    function bt() {
                        q.isOpen() || (St(),
                            q.open("outOfLifes", N, Lt, L, !0, 440))
                    }

                    function wt(e, n, r, i) {
                        j._trackEvent(v + "-" + e, n);
                        if (!F)
                            throw new Error("No tracker defined!");
                        var s = t.extend({
                            game: j.game_slug,
                            partner: j.subplatform,
                            mobile: U
                        }, i);
                        F.sendEvents(F.createEvent(r, s, !0))
                    }

                    function Et(n) {
                        try {
                            wt(m.popupShown, null, g.popupShown),
                                P = s.getElementById("sgRefillLifesCountdown"),
                                B && B.create({
                                    containerSelector: n || "#sgRefillLifesOffers",
                                    offerWallId: "refillLifes",
                                    agentId: C,
                                    offerCount: p,
                                    cpiDealsCount: d,
                                    transaction_id: String(j.user ? j.user.userId : "unknown-refill-lives-offer-wall-user-" + Date.now()),
                                    hasOffers: {
                                        affSub2: "refillLives",
                                        affSub3: j._getPgIds(),
                                        affSub5: 7
                                    },
                                    conversionCallback: function(e) {
                                        I = !1,
                                            lt(),
                                            ct(),
                                            vt(E);
                                        try {
                                            wt(m.refilledByOffer, e.game, g.refilledByOffer, {
                                                refillGame: e.game
                                            })
                                        } catch (t) {
                                            b.error("Error sending track: ", t)
                                        }
                                        b.debug("Refill lifes due to offer conversion")
                                    },
                                    playStartedCallback: function(e) {
                                        I = !0;
                                        try {
                                            wt(m.offerStarted, e.game, g.offerStarted, {
                                                refillGame: e.game
                                            })
                                        } catch (t) {
                                            b.error("Error sending track: ", t)
                                        }
                                    },
                                    playStoppedCallback: function(e) {
                                        Y(),
                                            I = !1;
                                        try {
                                            wt(m.offerCanceled, e.game, g.offerCanceled, {
                                                refillGame: e.game
                                            })
                                        } catch (t) {
                                            b.error("Error sending track: ", t)
                                        }
                                    },
                                    cpiDealCompletedCallback: function() {
                                        I = !1,
                                            vt(e),
                                            wt(m.refilledByCpi, null, g.refilledByCpi),
                                            b.debug("Refill lives due to CPI offer conversion")
                                    },
                                    loadedCallback: function() {
                                        xt()
                                    }
                                }),
                                t(".sg-modal-window-refillLifes .modal-body").css("overflow", "visible"),
                                b.debug("Show modal window")
                        } catch (r) {
                            b.error(r)
                        }
                    }

                    function St() {
                        var e = t("<div>");
                        e.attr("id", "dualOffersOverlay"),
                            e.attr("style", "position: absolute; z-index: 9999; top: 0; left: 0; bottom: 0; right: 0; background-color: #000000;"),
                            e.html('<div class="text-center" style="position: absolute; margin: 0 auto; top: 50%; transform: translateY(-50%); width: 100%;"><i class="fa fa-spinner fa-spin" style="color: #FFFFFF"></i></div>'),
                            t("body").append(e)
                    }

                    function xt() {
                        t("#dualOffersOverlay").remove()
                    }

                    function Tt() {
                        try {
                            wt(m.popupShown, null, g.popupShown),
                                P = s.getElementById("sgRefillLifesCountdown"),
                                H && t("#sgRefillLifesOffers").click(function() {
                                    wt(m.cpiClicked, null, g.cpiClicked),
                                        I = !0;
                                    var e = kt(1, 1e6),
                                        n = Date.now(),
                                        r = t("<div>").attr("id", "sg-game-" + e);
                                    t("body").append(r);
                                    var i = "cpi-fullscreen-alt-d",
                                        s = {
                                            options: {
                                                pageLoadTime: n,
                                                maxSize: 1e3,
                                                buttonText: "Play now",
                                                widgetTitle: "Online - Spiele",
                                                widgetContext: Nt(i),
                                                transaction_id: j && j.user && j.user.userId ? j.user.userId : "unknown-refill-lives-cpi-user-" + e,
                                                country: j.country,
                                                pgIds: j._getPgIds(),
                                                forceVideo: !0,
                                                layout: i,
                                                closeOnClick: !0,
                                                cpiSpecialData: 7,
                                                closeButtonText: "close",
                                                refillLives: !0
                                            },
                                            games: []
                                        };
                                    H.createWidget(e, s, a, function(e) {
                                        e ? (I = !1,
                                            b.error("Failed to show call2action cpi widget"),
                                            b.error(e),
                                            wt(m.cpiDisplayFailed, null, g.cpiDisplayFailed),
                                            Y()) : (b.info("Started call2action cpi widget"),
                                            lt(),
                                            ct(),
                                            vt(E),
                                            wt(m.refilledByCpi, null, g.refilledByCpi),
                                            b.info("Refill lives due to CPI display"))
                                    }, function(e, t, n) {
                                        e ? (b.error("Failed to finish call2action cpi widget"),
                                                b.error(e)) : b.info("Finished call2action cpi widget"),
                                            I = !1,
                                            n ? Y() : ft()
                                    })
                                }),
                                "both" !== k && xt(),
                                b.debug("Show modal window")
                        } catch (e) {
                            b.error(e)
                        }
                    }

                    function Nt(e) {
                        var t = "unknown";
                        j && (t = U ? "mobile" : "desktop");
                        var n = [u, t, a, e];
                        return n.join("|")
                    }

                    function Ct() {
                        return !!Math.round(Math.random()) || !1
                    }

                    function kt(e, t) {
                        return Math.floor(Math.random() * (t - e) + e)
                    }

                    function Lt() {
                        try {
                            P = null,
                                b.debug("Close modal window")
                        } catch (e) {
                            b.error(e)
                        }
                    }
                    var e = 0,
                        n = 0,
                        E = 0,
                        S = "topLeft",
                        x = 0,
                        T = 0,
                        N = null,
                        C = 0,
                        k, L, A = null,
                        O = 0,
                        M = null,
                        _ = null,
                        D = null,
                        P = null,
                        H = null,
                        B = null,
                        j = null,
                        F = null,
                        I = !1,
                        q = r.getModalWindow(u),
                        R = !0,
                        U = null;
                    o.on(y.softgamesReady, z)
                };
            e.prototype.refillLifes = new E,
                b.debug("Added refillLifes to Softgames-Prototype")
        } catch (S) {
            throw console && console.error("[" + u + "] " + S.message, S.stack),
                S
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "gifts",
            o = "cpi",
            u = "//www.googletagservices.com/tag/js/gpt.js",
            a = "//dop3jnx8my3ym.cloudfront.net/widgets.js",
            f = 100,
            l = f + 10,
            c = "gifts",
            h = 3,
            p = 5,
            d = 320,
            v = 400,
            m = 3e3,
            g = {
                giftsButtonDisplayed: {
                    core: "giftsButtonDisplayed",
                    sgTrack: "gifts-button-displayed"
                },
                giftsButtonClicked: {
                    core: "giftsButtonClicked",
                    sgTrack: "gifts-button-clicked"
                },
                giftsModalWindowOpened: {
                    core: "giftsModalWindowOpened",
                    sgTrack: "gifts-modal-window-opened"
                },
                giftsModalWindowClosed: {
                    core: "giftsModalWindowClosed",
                    sgTrack: "gifts-modal-window-closed"
                },
                giftsCpiDealClicked: {
                    core: "giftsCpiDealClicked",
                    sgTrack: "gifts-cpi-deal-clicked"
                },
                giftsCpiDealEmpty: {
                    core: "giftsCpiDealEmpty",
                    sgTrack: "gifts-cpi-deal-empty"
                },
                giftsCpiDealClosed: {
                    core: "giftsCpiDealClosed",
                    sgTrack: "gifts-cpi-deal-closed"
                }
            },
            y = {
                softgamesReady: "softgamesReady",
                loadingFlowFinished: "loadingFlowFinished",
                gameGameOver: "gameGameOver",
                levelFinished: "levelFinished",
                levelStarted: "levelStarted"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var b = new n(s),
                w = softgamesModalWindow.getModalWindow(s),
                E = function() {
                    function D(t) {
                        try {
                            if (!t._isMobile()) {
                                b.debug("Init skipped due to non mobile device");
                                return
                            }
                            var i = t.giftsSettings;
                            i && !t.offerWallConnector.isOfferwallConnectorActive() ? (E = t.subplatform,
                                e = Number(i.buttonXOffset) || 0,
                                n = Number(i.buttonYOffset) || 0,
                                i.directWidgetPercentage !== undefined && (S = Number(i.directWidgetPercentage) || 0),
                                C = new t.trackerHandler.EventTracker(E, s),
                                N = t,
                                O = {
                                    displayFunc: ht,
                                    width: d,
                                    height: v
                                },
                                P(S) ? (b.info("Selected direct widget config"),
                                    O = {
                                        displayFunc: lt,
                                        width: d,
                                        height: 320
                                    },
                                    _ = !1) : b.info("Selected dfp widget config"),
                                r.googletag || (r.googletag = r.googletag || {},
                                    r.googletag.cmd = r.googletag.cmd || [],
                                    t._loadScript(u + "?_t=" + Math.random(), function() {
                                        b.debug("Loaded gptSdk")
                                    })),
                                t.events.on(y.loadingFlowFinished, function() {
                                    V(),
                                        $(),
                                        I(),
                                        t.events.on(y.levelFinished, H),
                                        t.events.on(y.levelStarted, B)
                                }),
                                M = !0,
                                b.info("Initialized with settings", {
                                    settings: i
                                })) : b.debug("No settings given")
                        } catch (o) {
                            b.error(o)
                        }
                    }

                    function P(e) {
                        return !e || e < 0 ? !1 : Math.random() * 100 < e
                    }

                    function H() {
                        try {
                            L++,
                            b.debug("Level up registered", {
                                    levelUpsSinceLastDisplay: L,
                                    currentInterval: A
                                }),
                                F() && (dt(g.giftsButtonDisplayed),
                                    L = 0,
                                    I(),
                                    R())
                        } catch (e) {
                            b.error("Failed in level up event handler"),
                                b.error(e)
                        }
                    }

                    function B() {
                        try {
                            T && k && U(),
                                X()
                        } catch (e) {
                            b.error("Failed in level started event handler"),
                                b.error(e)
                        }
                    }

                    function j() {
                        try {
                            dt(g.giftsButtonClicked),
                                et(),
                                X(),
                                b.debug("Button clicked")
                        } catch (e) {
                            b.error("Failed in click button event handler"),
                                b.error(e)
                        }
                    }

                    function F() {
                        return A ? L >= A : !1
                    }

                    function I() {
                        A = q(h, p)
                    }

                    function q(e, t) {
                        return Math.floor(Math.random() * (t - e) + e)
                    }

                    function R() {
                        if (x && T && !k) {
                            z();
                            var t = 1e3,
                                n = Z(e, f),
                                r = n - T.outerWidth() + f;
                            x.click(j),
                                W(x, n, t, null, function() {
                                    k = !0,
                                        b.info("Button displayed")
                                }),
                                W(T, r, t, J, function() {
                                    W(T, 0, 1e3, null, function() {
                                        setTimeout(function() {
                                            U()
                                        }, 1e3)
                                    })
                                })
                        }
                    }

                    function U() {
                        W(T, T.outerWidth(), 1e3, null, function() {
                            T.css("opacity", 0).css("width", 0)
                        })
                    }

                    function z() {
                        x.css("left", -f).css("width", f).css("height", f).css("opacity", 1),
                            K(x),
                            T.css("left", -t(r).width()).css("opacity", 1).css("width", t(r).width())
                    }

                    function W(e, t, n, r, i) {
                        e.animate({
                            left: t
                        }, {
                            duration: n,
                            step: function() {
                                typeof r == "function" && r()
                            },
                            complete: function() {
                                typeof i == "function" && i()
                            }
                        })
                    }

                    function X() {
                        x && k && (x.unbind("click"),
                            x.animate({
                                opacity: 0,
                                width: "0px",
                                height: "0px"
                            }, {
                                duration: 1e3,
                                step: function() {
                                    G(x)
                                },
                                complete: function() {
                                    k = !1,
                                        b.info("Hidden button")
                                }
                            }))
                    }

                    function V() {
                        x = t("<div>"),
                            x.attr("id", "sgGiftsButton"),
                            x.css("width", 0),
                            x.css("height", 0),
                            x.css("opacity", 0),
                            G(x),
                            t(r).resize(function() {
                                G(x)
                            }),
                            t("body").append(x)
                    }

                    function $() {
                        T = t("<div>").attr("id", "sgGiftsSlider").css("height", l).css("width", 0).css("left", -t(r).width()).css("line-height", l + "px"),
                            (e <= 25 || e >= 75) && T.append("OPEN YOUR GIFT!"),
                            K(T),
                            t(r).resize(function() {
                                k && T.css("width", t(r).width()),
                                    K(T),
                                    J()
                            }),
                            t("body").append(T)
                    }

                    function J() {
                        e < 50 ? T.css("padding-left", parseInt(x.css("left"), 10) + f * 1.1 + "px") : T.css("padding-right", t(r).width() - parseInt(x.css("left"), 10) + "px")
                    }

                    function K(e) {
                        e.css("top", Y(n, e.height()) + "px")
                    }

                    function Q(t) {
                        t.css("left", Z(e, t.width()) + "px")
                    }

                    function G(e) {
                        K(e),
                            Q(e)
                    }

                    function Y(e, n) {
                        if (!e || e == 0)
                            return 0;
                        var i = t(r).height();
                        return e / 100 * i - n / 2 < 0 ? 0 : e / 100 * i - n / 2
                    }

                    function Z(e, n) {
                        if (!e || e == 0)
                            return 0;
                        var i = t(r).width();
                        return e / 100 * i - n / 2 < 0 ? 0 : e / 100 * i - n / 2
                    }

                    function et() {
                        pt() ? tt() : rt()
                    }

                    function tt() {
                        w.open("giftFallback", nt(), function() {
                            b.info("Modal window closed"),
                                dt(g.giftsModalWindowClosed)
                        }, function() {
                            b.info("Modal window opened"),
                                it(),
                                dt(g.giftsModalWindowOpened),
                                t(".cpi-ad-block-wrapper .cpi-title-header").css("width", d - t(".cpi-ad-block-wrapper .cpi-deal-gift-image-container").outerWidth() + "px")
                        }, !1, !1, !1, !0, "15px")
                    }

                    function nt() {
                        var e = t("<div>").addClass("cpi-ad-block-wrapper");
                        e.css("width", d + "px").css("height", v + "px");
                        var n = t("<div>").addClass("cpi-ad-block-container").attr("id", "sg-cpi-container").css("height", v + "px").css("width", d + "px"),
                            r = t("<div>").addClass("cpi-deal-header-container"),
                            i = t("<div>").addClass("cpi-deal-gift-image-container"),
                            s = t("<img>").addClass("cpi-deal-gift-image").attr("src", "https://dop3jnx8my3ym.cloudfront.net/gift_icon.jpg");
                        i.append(s);
                        var o = t("<div>").addClass("cpi-title-header").append("Empty gift!");
                        r.append(i).append(o),
                            n.append(r);
                        var u = t("#sg-game");
                        u.append(e),
                            u.css("width", d);
                        var a = t("<div>").addClass("cpi-deal-content"),
                            f = t("<div>").addClass("cpi-deal-no-gift-title").append("Do you have an Ad-Blocker enabled?"),
                            l = t("<div>").addClass("cpi-deal-no-gift").append("Please deactivate your Ad-Blocker to get free gifts in this game.");
                        return a.append(f).append(l),
                            n.append(a),
                            e.append(n),
                            e
                    }

                    function rt() {
                        try {
                            if (!O || !O.width || !O.height || !O.displayFunc)
                                throw new Error("No widgetConfig given");
                            var e = "sgGiftDeal-" + q(1, 1e6),
                                t = O.width,
                                n = O.height;
                            w.open("gift", '<div id="' + e + '" style="width: ' + t + "px; height: " + n + 'px"></div>', function() {
                                b.info("Modal window closed"),
                                    dt(g.giftsModalWindowClosed)
                            }, function() {
                                try {
                                    it();
                                    var r = String(N.user ? N.user.userId : "unknown-gifts-user-" + Date.now());
                                    at(r, st, ut, ot),
                                        O.displayFunc(e, r, "/418149392/CPI_Gift_Widget", [t, n]),
                                        b.info("Modal window opened"),
                                        dt(g.giftsModalWindowOpened)
                                } catch (i) {
                                    b.error("Could not display widget"),
                                        b.error(i),
                                        w.close()
                                }
                            }, !1, !1, !1, !0, "15px")
                        } catch (r) {
                            b.error("Could not open modal window"),
                                b.error(r)
                        }
                    }

                    function it() {
                        var e = t(".sg-modal-window .close");
                        e.hide(),
                            e.css("left", "initial");
                        var n = function() {
                            e.show()
                        };
                        setTimeout(n, m)
                    }

                    function st() {
                        b.info("Close modal window due to clicked action message"),
                            dt(g.giftsCpiDealClicked),
                            w.close()
                    }

                    function ot() {
                        b.info("Empty gift received"),
                            dt(g.giftsCpiDealEmpty)
                    }

                    function ut() {
                        b.info("Close modal window due to close action message"),
                            dt(g.giftsCpiDealClosed),
                            w.close()
                    }

                    function at(e, t, n, i) {
                        var s = "message",
                            o = function(u) {
                                try {
                                    var a = ft(e, u);
                                    a && (a === "close" ? (r.removeEventListener(s, o),
                                        n()) : a === "clicked" ? (r.removeEventListener(s, o),
                                        t()) : a === "empty" ? i() : b.warn("Unknown action received: ", a))
                                } catch (f) {
                                    b.error("Could not execute message event handler"),
                                        b.error(f)
                                }
                            };
                        r.addEventListener(s, o, !1)
                    }

                    function ft(e, t) {
                        var n = t.data;
                        try {
                            if (n && n.hasOwnProperty("system") && n.hasOwnProperty("action"))
                                if (n.system = n.data) {
                                    var r = n.data.transactionId;
                                    if (r === e)
                                        return n.action;
                                    b.debug("Received message for other transactionId:", {
                                        needle: e,
                                        received: r,
                                        data: n.data
                                    })
                                } else
                                    b.debug("Received message with other specs:", n)
                        } catch (i) {
                            b.error("Error while processing a message event"),
                                b.error(i)
                        }
                        return null
                    }

                    function lt(e, n, i, s) {
                        function c() {
                            r.sgWidgets.createWidget(u, l, o)
                        }
                        b.info("Display direct cpi widget");
                        var u = q(1, 1e6),
                            f = Date.now();
                        t("#" + e).append(t("<div>").attr("id", "sg-game-" + u));
                        var l = {
                            options: {
                                pageLoadTime: f,
                                widgetWidth: s[0],
                                widgetHeight: s[1],
                                title: "Gift of the Day",
                                advertiser: "pubNative",
                                transaction_id: n,
                                country: N.country,
                                widgetContext: ct(o),
                                layout: "gifts",
                                cpiSpecialData: 4
                            },
                            games: []
                        };
                        r.sgWidgets ? c() : softgames._loadScript(a, function() {
                            b.debug("Loaded widgetSdk"),
                                c()
                        })
                    }

                    function ct(e, t) {
                        var n = "unknown";
                        N && (n = N._isMobile() ? "mobile" : "desktop");
                        var r = [s, n, e];
                        return t && r.push(t),
                            r.join("|")
                    }

                    function ht(e, t, n, i) {
                        b.info("Display cpi widget over dfp");
                        var s = r.googletag,
                            o = "cpi",
                            u = "cpi-gd-alt-a",
                            a = softgames.adsHandler.getExternalTargeting("gifts");
                        s.cmd.push(function() {
                            s.defineSlot(n, i, e).addService(s.pubads()),
                                Object.keys(a).forEach(function(e) {
                                    var t = a[e];
                                    s.pubads().setTargeting(e, t)
                                }),
                                s.pubads().setTargeting("transaction_id", t),
                                s.pubads().setTargeting("widget_context", ct(o, u)),
                                s.pubads().setTargeting("widget_type", o),
                                s.pubads().setTargeting("widget_layout", u),
                                s.pubads().setTargeting("client_ip", N.clientIpHash),
                                s.pubads().setTargeting("user_agent", N.userAgent),
                                s.pubads().setTargeting("country", N.country),
                                s.pubads().setTargeting("host", N.adsHandler.getHost()),
                                s.pubads().enableAsyncRendering(),
                                s.enableServices(),
                                s.display(e)
                        })
                    }

                    function pt() {
                        return N && N.adBlockerHandler && N.adBlockerHandler.isDetected()
                    }

                    function dt(e, n, r) {
                        try {
                            if (!_)
                                return;
                            var i = e.core,
                                s = e.sgTrack;
                            N._trackEvent(c + "-" + i, n);
                            if (!C)
                                throw new Error("No tracker defined!");
                            var o = t.extend({
                                game: N.game_slug,
                                partner: N.subplatform
                            }, r);
                            C.sendEvents(C.createEvent(s, o, !0))
                        } catch (u) {
                            b.error("Could not track"),
                                b.error(u)
                        }
                    }

                    function vt() {
                        return M
                    }
                    var e = 0,
                        n = 0,
                        E = null,
                        S = 0,
                        x = null,
                        T = null,
                        N = null,
                        C = null,
                        k = !1,
                        L = 0,
                        A = 0,
                        O = null,
                        M = !1,
                        _ = !0;
                    this.isInitialized = vt,
                        i.on(y.softgamesReady, D)
                };
            e.prototype.giftsModule = new E,
                b.debug("Added giftsModule to Softgames-Prototype")
        } catch (S) {
            throw console && console.error("[" + s + "] " + S.message, S.stack),
                S
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window),
    function(e, t, n, r, i) {
        "use strict";
        var s = "externalScriptLoader";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var o = new n(s),
                u = function() {
                    function t(t, i) {
                        typeof i != "function" && (i = function() {}),
                            e[t] = e[t] || [],
                            r(t) ? e === !0 ? i() : e[t].push(i) : (e[t].push(i),
                                n(t, function() {
                                    try {
                                        var n = e[t];
                                        e[t] = !0,
                                            n.forEach(function(e) {
                                                try {
                                                    e()
                                                } catch (n) {
                                                    o.error("Error in callback for src " + t),
                                                        o.error(n)
                                                }
                                            })
                                    } catch (r) {
                                        o.error(r)
                                    }
                                }))
                    }

                    function n(e, t) {
                        var n = i.createElement("script");
                        n.src = e,
                            n.async = !0,
                            n.type = "text/javascript",
                            n.onreadystatechange = n.onload = function() {
                                if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")
                                    n.onreadystatechange = n.onload = null,
                                    t()
                            },
                            i.getElementsByTagName("head")[0].appendChild(n)
                    }

                    function r(e) {
                        var t = i.getElementsByTagName("script");
                        for (var n = 0; n < t.length; n++)
                            if (t[n].src === e)
                                return !0;
                        return !1
                    }
                    var e = {};
                    this.loadScript = t
                };
            e.prototype.scriptLoader = new u,
                o.debug("Added scriptLoader to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + s + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window, document),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "incentivise",
            o = "cpi-call2action",
            u = "//dop3jnx8my3ym.cloudfront.net/widgets.js",
            a = {
                startFinished: "startFinished",
                loadingFlowFinished: "loadingFlowFinished"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!softgamesModalWindow)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var f = new n(s),
                l = function() {
                    function p(t) {
                        try {
                            var n = t.incentiviseSettings,
                                r = t._isMobile();
                            n && !t.offerWallConnector.isOfferwallConnectorActive() ? (l = t,
                                w() ? (e = Number(t.aid),
                                    c = !0,
                                    f.info("Activated")) : f.debug("Not activate due to no incentive video")) : f.debug("Not activate due to missing config")
                        } catch (i) {
                            f.debug("Not activate due to error"),
                                f.error(i)
                        }
                    }

                    function d(e) {
                        r.sgWidgets ? (n = r.sgWidgets,
                            f.debug("sgWidgets already present")) : e.scriptLoader.loadScript(u, function() {
                            n = r.sgWidgets,
                                f.debug("Loaded sgWidgets")
                        })
                    }

                    function v(e) {
                        function r(e, t) {
                            try {
                                if (!e) {
                                    n(e, t);
                                    return
                                }
                                if (!w()) {
                                    n(e);
                                    return
                                }
                                f.warn("Fallback due to error"),
                                    f.warn(e),
                                    m(n)
                            } catch (e) {
                                n(e)
                            }
                        }
                        var t = !1,
                            n = function(n, r) {
                                if (t)
                                    return;
                                t = !0;
                                try {
                                    if (n)
                                        throw n;
                                    f.info("... done " + (r ? "with" : "without") + " incentive"),
                                        e(r)
                                } catch (n) {
                                    f.error("Error in incentivise game callback"),
                                        f.error(n),
                                        e(!1)
                                }
                            };
                        try {
                            c ? m(n) : (f.info("Incentivise not active ..."),
                                n(new Error("Incentivise button should not be clickable")))
                        } catch (i) {
                            f.error("Could not trigger incentivise flow"),
                                n(i)
                        }
                    }

                    function m(e) {
                        try {
                            f.info("Show incentivise video ..."),
                                l._displayIncentiviseAdPopup(function(t) {
                                    try {
                                        var n = t.clicked || (t.watchedPercentage || t.watchedPercentage === 0 ? t.watchedPercentage >= 66 : t.eventName === l.adsHandler.EVENT_NAMES.CLOSED_BY_TIMEOUT);
                                        f.info("Finished incentivise video", {
                                                incentiviseDone: n,
                                                event: t
                                            }),
                                            e(null, n)
                                    } catch (r) {
                                        e(r)
                                    }
                                })
                        } catch (t) {
                            e(t)
                        }
                    }

                    function g() {
                        try {
                            return S() === "Android" && l.gameCrossPromoHandler && l.gameCrossPromoHandler.isInitiated()
                        } catch (e) {
                            return f.warn("Could not determine if cross promotion should be shown"),
                                f.warn(e), !1
                        }
                    }

                    function y() {
                        return !!Math.round(Math.random()) || !1
                    }

                    function b(e, t) {
                        return Math.floor(Math.random() * (t - e) + e)
                    }

                    function w() {
                        return l && l.adsHandler && l.adsHandler.incentiviseAdsAvailable()
                    }

                    function E(e) {
                        e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                        var t = "[\\?&]" + e + "=([^&#]*)",
                            n = new RegExp(t),
                            i = n.exec(r.location.href);
                        return i == null ? "" : decodeURIComponent(i[1].replace(/\+/g, " "))
                    }

                    function S() {
                        var e = navigator.userAgent || navigator.vendor || r.opera;
                        return e.match(/iPad/i) || e.match(/iPhone/i) || e.match(/iPod/i) ? "iOS" : e.match(/Android/i) ? "Android" : "unknown"
                    }

                    function x() {
                        var e = t("<div>");
                        e.attr("class", "cpi-widget-overlay"),
                            e.attr("style", "position: absolute; z-index: 9999; top: 0; left: 0; bottom: 0; right: 0; background-color: #000000;"),
                            e.html('<div class="text-center" style="position: absolute; margin: 0 auto; top: 50%; transform: translateY(-50%); width: 100%;"><i class="fa fa-spinner fa-spin" style="color: #FFFFFF"></i></div>'),
                            t("body").append(e)
                    }

                    function T() {
                        t(".cpi-widget-overlay").remove()
                    }

                    function N(e) {
                        try {
                            var r = b(1, 1e6),
                                i = null,
                                s = null,
                                o = null,
                                u = l.gameCrossPromoHandler.getConfig();
                            try {
                                i = u.crossPromotion.link.href
                            } catch (a) {
                                f.notice("Could not get cross promotion link"),
                                    f.notice(a)
                            }
                            try {
                                s = u.crossPromotion.link.iconPath
                            } catch (a) {
                                f.notice("Could not get cross promotion image"),
                                    f.notice(a)
                            }
                            try {
                                o = u.crossPromotion.link.slug
                            } catch (a) {
                                f.notice("Could not get cross promotion game slug"),
                                    f.notice(a)
                            }
                            var c = {
                                options: {
                                    layout: "cross-promotions-alt-a",
                                    crossPromoGameSlug: o || "bb"
                                },
                                games: []
                            };
                            i && s && (c = {
                                options: {
                                    layout: "cross-promotions-alt-a",
                                    crossPromoLink: i,
                                    crossPromoImage: s
                                },
                                games: []
                            });
                            var h = t("<div>").attr("id", "sg-game-" + r);
                            t("body").append(h),
                                f.info("Try to show cross promotion widget with data", c),
                                n.createWidget(r, c, "cross-promotions", function(t) {
                                    t ? (f.error("Failed to show cross promotions widget", t),
                                        e(t)) : f.info("Started cross promotions widget")
                                }, function(t) {
                                    t ? (f.error("Failed to finish cross promotions widget", t),
                                        e(t)) : (f.info("Finished cross promotions widget"),
                                        e(null, !0))
                                }),
                                f.info("Synchronous cross promotion display flow done")
                        } catch (a) {
                            e(a, !1)
                        }
                    }

                    function C(e) {
                        try {
                            var i = b(1, 1e6),
                                s = Date.now(),
                                u = "cpi-fullscreen-alt-d",
                                a = {
                                    options: {
                                        pageLoadTime: s,
                                        maxSize: 1e3,
                                        buttonText: "Play now",
                                        widgetTitle: "Online - Spiele",
                                        widgetContext: k(u),
                                        transaction_id: l && l.user && l.user.userId ? l.user.userId : "unknown-incentivise-user-" + i,
                                        country: l.country,
                                        pgIds: l._getPgIds(),
                                        forceVideo: !0,
                                        layout: u,
                                        closeOnClick: !1,
                                        cpiSpecialData: 1,
                                        incentivise: !0,
                                        errorOnEmpty: !0,
                                        preloadMedia: !1
                                    },
                                    games: []
                                };
                            if (S() === "iOS")
                                try {
                                    var c = !1;
                                    x();
                                    var h = {
                                            data: a,
                                            widgetId: i,
                                            widgetType: o
                                        },
                                        p = CryptoJS.AES.encrypt(JSON.stringify(h), "softgames").toString();
                                    $(r).one("message", function(t) {
                                        console.log("got message from widget", t);
                                        var n = {};
                                        try {
                                            n = JSON.parse(t.originalEvent.data)
                                        } catch (r) {
                                            n.source = "others"
                                        }
                                        n.source === "incentiviseWindow" && (d.close(),
                                            T(),
                                            c || (n.error ? e(new Error(n.error)) : e(null, n.isUserWatchedEnough),
                                                c = !0))
                                    });
                                    var d = r.open("https://dop3jnx8my3ym.cloudfront.net/widget-assets/windows/widgets.html?wd=" + p, "_blank"),
                                        v = setInterval(function() {
                                            d.closed && (console.log("force close"),
                                                clearInterval(v),
                                                T(),
                                                c || (e(),
                                                    c = !0))
                                        }, 500)
                                } catch (m) {
                                    T(),
                                        e(m),
                                        c = !0
                                }
                            else {
                                var g = t("<div>").attr("id", "sg-game-" + i);
                                t("body").append(g),
                                    n.createWidget(i, a, o, function(t) {
                                        t ? (f.error("Failed to show call2action cpi widget"),
                                            e(t)) : f.info("Started call2action cpi widget")
                                    }, function(t, n, r) {
                                        t ? (f.error("Failed to finish call2action cpi widget"),
                                            e(t)) : (f.info("Finished call2action cpi widget"),
                                            r === !1 ? (f.info("user skipped video!"),
                                                e(null, !1)) : (f.info("user watched > 90% of video"),
                                                e(null, !0)))
                                    })
                            }
                        } catch (m) {
                            e(m, !1)
                        }
                    }

                    function k(e) {
                        var t = "unknown";
                        l && (t = l._isMobile() ? "mobile" : "desktop");
                        var n = [s, t, o, e];
                        return n.join("|")
                    }

                    function L() {
                        return f.debug("Is active check:", c),
                            c
                    }
                    var e = 0,
                        n = null,
                        l = null,
                        c = !1,
                        h = !1;
                    this.isActive = L,
                        this.trigger = v,
                        i.on(a.startFinished, p)
                };
            e.prototype.incentivise = new l,
                f.debug("Added refillLifes to Softgames-Prototype")
        } catch (c) {
            throw console && console.error("[" + s + "] " + c.message, c.stack),
                c
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window),
    function(e, t, n, r, i) {
        var s = r.prototype.events,
            o = "buzzQuiz",
            u = {
                softgamesReady: "softgamesReady",
                createBuzzQuiz: "createBuzzQuiz"
            };
        try {
            if (!r)
                throw new Error("No Softgames variable defined!");
            if (!i)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var a = new i(o),
                f = function(r, i, s) {
                    function u() {
                        e.scrollTo(0, 0),
                            o === parseInt(r.conversionPage) && (a.debug("Conversion page reached: ", r.conversionPage),
                                i._trackConversion()),
                            o === 1 && (n(".headline").html(r.title),
                                n(".intro").html(r.intro));
                        var t = r.pages[o - 1];
                        n(".rank").html("Rank " + t.rank),
                            n(".game-title").html(t.gameName),
                            n(".subtitle").html(t.gameSubtitle),
                            n(".description").html(t.description),
                            n(".page").html(o),
                            n(".image").attr("src", r.image),
                            o === 6 && (n(".outro-title").html(r.outroTitle),
                                n(".outro").html(r.outro)),
                            d(),
                            g(),
                            c(),
                            f(),
                            o !== 6 && l()
                    }

                    function f() {
                        r.font && n(".quiz-page").css("font-family", "buzz-quiz-font")
                    }

                    function l() {
                        var t = "//games.softgames.de/" + r.pages[o - 1].gameSlug;
                        t += "/" + e.location.search,
                            i._getUrlParameter("p") || (t.indexOf("/?") == -1 ? t += "/?p=" + i.subplatform : t += "&p=" + i.subplatform),
                            i._loadIframeGame(t)
                    }

                    function c() {
                        o === 1 && n(".prev").css("visibility", "hidden"),
                            o === 6 && n(".next").css("visibility", "hidden"),
                            n(".prev").on("click", h),
                            n(".next").on("click", p),
                            n(".header").on("click", function() {
                                e.open("//m.softgames.de?p=" + i.subplatform, "_blank")
                            })
                    }

                    function h() {
                        o--,
                        n("body").empty().append(s[r.pages[o - 1].templateName]),
                            u()
                    }

                    function p() {
                        o++,
                        n("body").empty().append(s[r.pages[o - 1].templateName]),
                            u()
                    }

                    function d() {
                        v(r.pages[o - 1].topAd.slotName, r.pages[o - 1].topAd.size, "top-banner"),
                            v(r.pages[o - 1].bottomAd.slotName, r.pages[o - 1].bottomAd.size, "bottom-banner")
                    }

                    function v(e, t, n) {
                        var s = i._getPgIds(),
                            u = i._getPgNames(),
                            a = i.user && i.user.userId ? i.user.userId : "unknown-buzz-quiz-user-" + Date.now() + "-" + y(1, 100),
                            f = "cpi",
                            l = "cpi-gd-alt-a";
                        googletag.cmd.push(function() {
                                googletag.defineSlot(e, t, n).addService(googletag.pubads()),
                                    googletag.pubads().setTargeting("partner", i.subplatform),
                                    googletag.pubads().setTargeting("game", r.pages[o - 1].gameSlug),
                                    googletag.pubads().setTargeting("affgame", i._shortAgentGameName(i.subplatform, r.pages[o - 1].gameSlug)),
                                    googletag.pubads().setTargeting("lang", i.locale),
                                    googletag.pubads().setTargeting("affiliate", null),
                                    googletag.pubads().setTargeting("pg-ids", s),
                                    googletag.pubads().setTargeting("pg_ids_pp", s),
                                    googletag.pubads().setTargeting("pg_ids_sales", s),
                                    googletag.pubads().setTargeting("pg_ids_marketing", s),
                                    googletag.pubads().setTargeting("pg-names", u),
                                    googletag.pubads().setTargeting("pg_names_pp", u),
                                    googletag.pubads().setTargeting("pg_names_sales", u),
                                    googletag.pubads().setTargeting("pg_names_marketing", u),
                                    googletag.pubads().setTargeting("transaction_id", a),
                                    googletag.pubads().setTargeting("widget_context", m("buzzQuiz" + r.theme, f, l)),
                                    googletag.pubads().setTargeting("widget_type", f),
                                    googletag.pubads().setTargeting("widget_layout", l),
                                    googletag.pubads().setTargeting("client_ip", i.clientIpHash),
                                    googletag.pubads().setTargeting("user_agent", i.userAgent),
                                    googletag.pubads().setTargeting("pg_ids", s),
                                    googletag.pubads().setTargeting("country", i.country),
                                    googletag.pubads().enableSingleRequest(),
                                    googletag.enableServices()
                            }),
                            googletag.cmd.push(function() {
                                googletag.display(n)
                            })
                    }

                    function m(e, t, n) {
                        var r = "unknown";
                        i && (r = i._isMobile() ? "mobile" : "desktop");
                        var s = [e, r, t];
                        return n && s.push(n),
                            s.join("|")
                    }

                    function g() {
                        var n = Date.now(),
                            r = {
                                options: {
                                    publisher: i.subplatform,
                                    buttonColor: "#FF0000",
                                    buttonTextColor: "#FFFFFF",
                                    pageLoadTime: n,
                                    highlightedGames: ["unite"]
                                },
                                games: ["endless-bubbles", "unite", "crossy-path", "tip-tap-2"]
                            },
                            s = "sg-widget-js";
                        if (!t.getElementById(s)) {
                            var o = t.createElement("script");
                            o.type = "text/javascript",
                                o.id = s,
                                o.src = "//dop3jnx8my3ym.cloudfront.net/widgets.js",
                                t.getElementsByTagName("head")[0].appendChild(o)
                        } else
                            e.sgWidgets && e.sgWidgets.createWidget(101010, r, "vertical-game-box");
                        e.widgetList = e.widgetList || [],
                            e.widgetList.push({
                                id: 101010,
                                data: r,
                                type: "vertical-game-box"
                            })
                    }

                    function y(e, t) {
                        return Math.floor(Math.random() * (t - e) + e)
                    }

                    function b(e) {
                        if (e) {
                            var n = t.createElement("style");
                            n.appendChild(t.createTextNode("          @font-face {              font-family: buzz-quiz-font;              src: url(" + e + ");          }          ")),
                                t.head.appendChild(n)
                        }
                    }
                    var o = 1;
                    b(r.font),
                        u()
                },
                l = function() {
                    function o(t) {
                        e = t,
                            e.buzzQuizConfig && (a.debug("init buzz quiz"),
                                l(),
                                r = e.buzzQuizConfig,
                                i = e.buzzQuizTemplates,
                                s.on(u.createBuzzQuiz, c))
                    }

                    function l() {
                        if (typeof EmbedderBase == "undefined") {
                            var e = t.createElement("script");
                            e.type = "text/javascript",
                                e.src = "//dop3jnx8my3ym.cloudfront.net/embedder-base.js",
                                t.getElementsByTagName("head")[0].appendChild(e)
                        }
                    }

                    function c() {
                        n = new f(h(), e, i)
                    }

                    function h() {
                        switch (r.id) {
                            case 1:
                                return d();
                            case 2:
                                return p()
                        }
                    }

                    function p() {
                        return a.debug("create quiz for Fitness"), {
                            theme: "Fitness",
                            conversionPage: r.conversionPage,
                            title: "TOP 5 WEIGHT LOSS GAMES- LOSE CALORIES JUST BY CLICKING",
                            intro: "Did you know that you can actually burn calories just by clicking your mouse or tapping on your screen? Well yes you can!<br>According to a recent study they calculated the number of calories burned when clicking a mouse, and it's said that the number is 0.42 calories burned per mouse click.<br><br>This basically means that you can easily burn off that Burger King Whopper with just 1300 mouse clicks or a Big Mac with 1190 mouse clicks.<br>We want to help you reach your goal so we offer a list of 5 games where burned calories are promised.",
                            outroTitle: "TOP 5 WEIGHT LOSS GAMES- LOSE CALORIES JUST BY CLICKING",
                            outro: "We hope that you liked our Top 5 weight loss games! If you would like to play more games make sure to not miss out m.softgames.com!",
                            image: "https://d1bjj4kazoovdg.cloudfront.net/assets/buzz-quiz-fitness-header-img.jpg",
                            font: "https://dop3jnx8my3ym.cloudfront.net/Fonts/Cicle_Fina.ttf",
                            pages: [{
                                gameName: "Brick Towers",
                                gameSlug: "brick-towers",
                                rank: 5,
                                description: "The higher and the straighter you stack the bricks, the more points you earn. You can play Brick Towers on your own and try to unlock all achievements or you can play against your friends and try to beat them",
                                gameSubtitle: "Calories burned in 5 minutes: around 100 cal",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Health1_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Health1_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_1"
                            }, {
                                gameName: "Timber Men",
                                gameSlug: "timber-men",
                                rank: 4,
                                description: "It's time to go out in the woods and chop some serious wood. The further you chop the woods, the better lumberjacks you can play. So chop, chop chop!",
                                gameSubtitle: "Calories burned in 5 minutes: around 150 cal",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Health2_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Health2_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                gameName: "Get Fit",
                                gameSlug: "get-fit",
                                rank: 3,
                                description: "Get Fit turns working out and getting in shape into fun and entertaining mini games. In each of the mini games you accompany a character on it鈥檚 way from being chubby to a real beefcake. Get your day's training session done with this funny game",
                                gameSubtitle: "Calories burned in 5 minutes: around 100 cal",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Health3_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Health3_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                gameName: "Pick Crafter",
                                gameSlug: "pick-crafter",
                                rank: 2,
                                description: "Pick Crafter combines the look and feel of the beloved game Minecraft with a highly addictive gameplay. Dig your way out of the best gems you can find. The faster you click/tap the more points you get. ",
                                gameSubtitle: "Calories burned in 5 minutes: around 150 cal",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Health4_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Health4_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                gameName: "Make it rain",
                                gameSlug: "make-it-rain",
                                rank: 1,
                                description: "Money is not a problem in this game. How fast can you make money rain and how much can you earn? Hundreds, thousands, millions, billions or even more? Swipe, swipe, swipe, swipe and don麓t forget to swipe! The perfect game to burn tons of calories! ",
                                gameSubtitle: "Calories burned in 5 minutes: around 200 cal",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Health5_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Health5_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Health6_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Health6_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_6"
                            }]
                        }
                    }

                    function d() {
                        return a.debug("create quiz for Cats"), {
                            theme: "Cats",
                            conversionPage: r.conversionPage,
                            title: "Top 5 funny cat games compilation [must play]",
                            intro: "Whether you are a big cat fan or not, this will keep you entertained for sure. We researched the internet and found 5 of the funniest cat games. Please play, laugh and enjoy your day. (By the way nr.1 was our favorite where we scored 32 points after many tries :))",
                            outroTitle: "Top 5 funny cat games compilation ",
                            outro: "We hope that you liked our Top 5 funny cat games compilation! If you would like to play more cat and even dog games make sure to not miss out m.softgames.com!",
                            image: "https://d1bjj4kazoovdg.cloudfront.net/assets/buzz-quiz-cat-header-img.jpg",
                            font: "https://dop3jnx8my3ym.cloudfront.net/Fonts/Cicle_Fina.ttf",
                            pages: [{
                                gameName: "Nom Nom Kitties",
                                gameSlug: "nom-nom-kitties",
                                rank: 5,
                                description: "Nr. 5 of our Top 5 funny cat games compilation asks you to feed hungry cats a helping hand by feeding some delicious fish! Tap and hold to open the mouths of the Nom Nom Kitties to feed them with an endless supply of fresh and tasty fish. The more fish you make the cats eat, the more points you accumulate. But be careful and stay focused to avoid the bombs that fly around at times. Really fun to play!",
                                gameSubtitle: "Flying sushi and hungry cats",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Cats1_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Cats1_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_1"
                            }, {
                                gameName: "Cat the Catcher",
                                gameSlug: "cat-the-catcher",
                                rank: 4,
                                description: "Nr. 4 of our Top 5 funny cat games is a fun puzzle in which a little cat has to get its string ball in order to play with it. There is a twist since you only can move the string ball(s). While playing we found that it is best, if you try to plan your moves accordingly to move all the balls in the same direction to make all cats happy. Sometimes this will seem tricky but that's the fun!",
                                gameSubtitle: "Purr Purr - where is my string ball?",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Cats2_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Cats2_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                gameName: "Tap the Mouse",
                                gameSlug: "tap-the-mouse",
                                rank: 3,
                                description: "Nr. 3 of our Top 5 funny cat games is basically a big fun mini game that has a common goal: You have to find the white mouse and tap on it to finish the level (may be to secretly feed the cat?). Tease your brain or test your reactions - and of course don't forget to Tap The Mouse! ",
                                gameSubtitle: "I promise I wont eat it....for now",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Cats3_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Cats3_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                gameName: "Catshunger",
                                gameSlug: "catshunger",
                                rank: 2,
                                description: "Nr. 2 of our Top 5 funny cat games compilation is the purrrfect game to virtually feed fish to hungry kittens. Each cat eats all the fish in a certain path and you need to make sure, that all the fish on the field gets eaten. If that does seem easy to you, you should think again, because there are things that distract your kitties or change their path.",
                                gameSubtitle: "How do i eat them all?",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Cats4_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Cats4_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                gameName: "Flappy Cat",
                                gameSlug: "flappy-cat",
                                rank: 1,
                                description: "The ultimate Nr. 1 of our Top 5 funny cat games is a fun, frustrating and yet addictive game called flappy cats. In this game cats can actually fly :D. Your goal is to avoid pipes and to get further than anyone else. What we really liked is that you acutally play with other people for the highest score. Really addictive and totally fun!",
                                gameSubtitle: "Don't stick up your tail!",
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Cats5_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Cats5_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_2_to_5"
                            }, {
                                topAd: {
                                    slotName: "/418149392/Quizzbuzz_Footer_Cats6_320x50",
                                    size: [320, 50]
                                },
                                bottomAd: {
                                    slotName: "/418149392/Quizzbuzz_Content_Cats6_300x250",
                                    size: [300, 250]
                                },
                                templateName: "page_6"
                            }]
                        }
                    }
                    var e, n, r, i;
                    s.on(u.softgamesReady, o)
                };
            r.prototype.buzzQuizHandler = new l,
                a.debug("Added buzzQuizHandler to Softgames-Prototype")
        } catch (c) {
            throw console && console.error("[" + o + "] " + c.message, c.stack),
                c
        }
        "use strict"
    }(window, document, SG_jQuery, Softgames, SoftgamesLogger),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "voyagerSGLoaderModule",
            s = {
                softgamesReady: "softgamesReady",
                gameLoaded: "gameLoaded"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function u() {
                        return e
                    }

                    function a() {
                        return t
                    }

                    function f(u) {
                        try {
                            e = window.sgLoader && window.sgLoader.isActive(),
                                e || (o.info("Fast flow is not initiated, game must be started from voyager"),
                                    r.on(s.gameLoaded, l),
                                    n = u.gameCommandsHandler),
                                t = !0
                        } catch (a) {
                            o.error("Failed to init " + i, a)
                        }
                    }

                    function l() {
                        try {
                            o.info("Sending unpause game command to game"),
                                n.runGame()
                        } catch (e) {
                            o.error("On game started failed: ", e)
                        }
                    }
                    var e = !1,
                        t = !1,
                        n;
                    r.on(s.softgamesReady, f),
                        this.isFastFlowEnabled = u,
                        this.isEnabled = a()
                };
            e.prototype.SGLoaderModuleHandler = new u,
                o.debug("Added SGLoaderModule to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "yahooJapan",
            o = ["aeria"],
            u = "Softgames",
            a = "production",
            f = "https://frame-games.yahoo.co.jp/AE/menu/pc/",
            l = "https://frame-games.yahoo.co.jp/AE/menu/smartphone/",
            c = "http://minigame.aeriagames.jp/games/recommend/",
            h = ["aeriaExternalHostsConnector"],
            p = {
                production: "//minigame.aeriagames.jp/games/top/{externalGameId}",
                staging: "//minigame-stg.aeriagames.jp/games/top/{externalGameId}",
                development: "//minigame-dev.aeriagames.jp/games/top/{externalGameId}"
            },
            d = {
                softgamesReady: "softgamesReady",
                loadingFlowFinished: "loadingFlowFinished",
                levelFinished: "levelFinished"
            },
            v = ["monster-battle-ja"],
            m = ["monster-battle-ja"],
            g = ["pandalicious-ja"];
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var y = new n(s),
                b = function() {
                    function L(e) {
                        return e ? e.substr(e.length - 1) === "/" ? e : e + "/" : ""
                    }

                    function A(e) {
                        return o.indexOf(e) !== -1
                    }

                    function O(t) {
                        try {
                            w = t.externalGameId;
                            var r = L(t._isMobile() ? l : f);
                            A(t.subplatform) && w && r && a ? (n = t,
                                b = n.game_slug,
                                E = r + w,
                                S = W(),
                                x = z(),
                                T = s + "_" + t.subplatform + "_" + w,
                                k = $(),
                                M(),
                                t.events.on(d.loadingFlowFinished, q),
                                t.events.on(d.levelFinished, Y),
                                C = L(c) + w,
                                e = !0,
                                t.events.on(d.voyagerAdFinished, Z),
                                Z(),
                                y.info("Initialized now for gameId: " + w, {
                                    menuUrl: E
                                })) : y.debug("Not the right publisher or no gameId configured", {
                                publisher: t.subplatform,
                                gameId: w,
                                menuBaseUrl: r
                            })
                        } catch (i) {
                            y.error(i)
                        }
                    }

                    function M() {
                        try {
                            var e = new Date(k.lastSave),
                                t = new Date,
                                r = K(e, t);
                            if (!r)
                                return;
                            k.scores = {},
                                k.lastSave = t.getTime(),
                                V(k),
                                m.indexOf(b) !== -1 && n.gameResetHandler && n.gameResetHandler.resetAndReload(n.gameStorageKeys)
                        } catch (i) {
                            y.error("Failed to reset"),
                                y.error(i)
                        }
                    }

                    function _(e) {
                        e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                        var t = new RegExp("[\\?&]" + e + "=([^&#]*)"),
                            n = t.exec(r.location.search);
                        return n === null ? !1 : decodeURIComponent(n[1].replace(/\+/g, " "))
                    }

                    function D() {
                        return Number(_("yjDebugState")) || 0
                    }

                    function P() {
                        return t("<div>").addClass("sgYMenuButton")
                    }

                    function H() {
                        return t("<div>").addClass("sgYMenuContainer")
                    }

                    function B(e, t) {
                        F(e),
                            F(t)
                    }

                    function j(e, t) {
                        setTimeout(function() {
                                I(t)
                            }, 3),
                            setTimeout(function() {
                                I(e)
                            }, 1)
                    }

                    function F(e) {
                        e.addClass("sgYMenuOpen")
                    }

                    function I(e) {
                        e.removeClass("sgYMenuOpen")
                    }

                    function q() {
                        try {
                            U(),
                                R(D())
                        } catch (e) {
                            y.error(e)
                        }
                    }

                    function R(e) {
                        try {
                            if (!e)
                                return;
                            if (e !== 1)
                                throw new Error("Invalid debugState given");
                            Y({
                                score: _("yjDebugScore"),
                                level: _("yjDebugLevel")
                            })
                        } catch (t) {
                            y.error("Could not inject debug state", {
                                    debugState: e
                                }),
                                y.error(t)
                        }
                    }

                    function U() {
                        var e, n, r, i;
                        try {
                            e = P(),
                                n = H(),
                                r = function() {
                                    e.unbind("click"),
                                        B(e, n),
                                        e.click(i),
                                        y.debug("Menu opened")
                                },
                                i = function() {
                                    e.unbind("click"),
                                        j(e, n),
                                        e.click(r),
                                        y.debug("Menu closed")
                                },
                                e.click(r),
                                t("body").append(e).append(n),
                                t.ajax({
                                    method: "GET",
                                    url: E,
                                    success: function(e) {
                                        n.html(e)
                                    },
                                    error: function(e, t, n) {
                                        y.error("Could not load menu content"),
                                            y.error(n)
                                    }
                                }),
                                y.debug("Injected YMenu")
                        } catch (s) {
                            y.debug("Failed to injected YMenu"),
                                y.error(s)
                        }
                    }

                    function z() {
                        return r.localStorage
                    }

                    function W() {
                        try {
                            var e = z();
                            if (!e)
                                return !1;
                            var t = "__storage_test__" + Date.now();
                            return e.setItem(t, t),
                                t !== e.getItem(t) ? !1 : (e.removeItem(t), !0)
                        } catch (n) {
                            return !1
                        }
                    }

                    function X(e) {
                        return S ? x.getItem(e) : null
                    }

                    function V(e) {
                        if (!S)
                            return;
                        x.setItem(T, JSON.stringify(e))
                    }

                    function $() {
                        var e = X(T);
                        return e ? JSON.parse(e) : {
                            lastSave: null,
                            scores: {}
                        }
                    }

                    function J(e) {
                        return new Date(e.toDateString())
                    }

                    function K(e, t) {
                        if (e.toDateString() === t.toDateString())
                            return !1;
                        if (b && v.indexOf(b) !== -1)
                            return !0;
                        var n = t.getDay();
                        if (n === 1)
                            return !0;
                        var r = J(t),
                            i = J(e),
                            s = n ? n - 1 : 6;
                        return i.getTime() < r.getTime() - s * 24 * 60 * 60 * 1e3
                    }

                    function Q(e, t) {
                        var n = new Date;
                        k.lastSave = n.getTime(),
                            g.indexOf(b) !== -1 && Number(e) === 1 && (k.scores = {}),
                            k.scores[e] = t,
                            V(k);
                        var r = 0;
                        return Object.keys(k.scores).forEach(function(e) {
                                r += parseInt(k.scores[e])
                            }),
                            r
                    }

                    function G(e) {
                        return e < 0
                    }

                    function Y(e) {
                        try {
                            var t = e.score,
                                n = e.level,
                                i = parseInt(t),
                                s = parseInt(n);
                            if (!i || G(i))
                                y.warn("Got invalid score, will set it to 0", {
                                    score: t
                                }),
                                i = 0;
                            if (!s || G(s))
                                y.warn("Got invalid level, will set it to 1", {
                                    level: n
                                }),
                                s = 1;
                            y.info("Try to register level " + s + " score " + i);
                            var o = Q(s, i);
                            y.debug("Send global score " + o + " to parent"),
                                tt(o, function(e) {
                                    e ? (y.error("Failed to run level finished flow"),
                                        y.error(e)) : (y.info("Level finished flow done"),
                                        r.focus(),
                                        Z(),
                                        et(s),
                                        y.info("Level after finished actions done"))
                                })
                        } catch (u) {
                            y.error("Failed to run level finished flow"),
                                y.error(u)
                        }
                    }

                    function Z() {
                        try {
                            var e = 0,
                                t = setInterval(function() {
                                    r.focus(),
                                        e++,
                                        e >= 5 && clearInterval(t)
                                }, 1e3)
                        } catch (n) {
                            y.error("failed to run focus interval"),
                                y.error(n)
                        }
                    }

                    function et(e) {
                        if (n && n.gameCommandsHandler && n.gameCommandsHandler.isInitiated()) {
                            var t = e + 1;
                            y.info("Try to start level " + t + " ..."),
                                n.gameCommandsHandler.startGame({
                                    level: t
                                }) ? y.info("... level start done") : y.warn("... level start failed")
                        } else
                            y.info("Could not load next level due to missing interface")
                    }

                    function tt(e, i) {
                        function o(e) {
                            t(r).unbind("." + s),
                                rt(),
                                i(e)
                        }

                        function f(n) {
                            try {
                                nt(),
                                    t(r).on("message." + s, function(e) {
                                        try {
                                            var t = e.originalEvent.data;
                                            t && t.hasOwnProperty("system") && t.hasOwnProperty("action") && t.action === "resultBoxClosed" && (h.indexOf(t.system) !== -1 ? n() : y.warn("Got action from not allowed system", t))
                                        } catch (r) {
                                            n(r)
                                        }
                                    });
                                var i = r.parent || r;
                                i.postMessage({
                                        system: u,
                                        action: "score",
                                        env: a,
                                        data: {
                                            gameId: w,
                                            score: e
                                        }
                                    }, "*"),
                                    y.info("Sent score: " + e)
                            } catch (o) {
                                n(o)
                            }
                        }
                        var s = "yahooJapanMessage-" + Date.now();
                        n.viewQueue.execute(f, o)
                    }

                    function nt() {
                        rt(),
                            N = t("<div>").attr("style", "position: absolute; top: 0; bottom: 0; left: 0; right: 0; z-index: 5301; background-color: rgba(0,0,0,.8);"),
                            t("body").append(N)
                    }

                    function rt() {
                        N && N.remove()
                    }

                    function it() {
                        return e
                    }

                    function st() {
                        return C
                    }

                    function ot(e) {
                        return p[a].replace("{externalGameId}", e)
                    }
                    var e = !1,
                        n = null,
                        b = null,
                        w = null,
                        E = null,
                        S = !1,
                        x = null,
                        T = null,
                        N = null,
                        C = null,
                        k = null;
                    this.getMoreGamesUrl = st,
                        this.isActive = it,
                        this.isYahooJapanPublisher = A,
                        this.getGameUrl = ot,
                        i.on(d.softgamesReady, O)
                };
            e.prototype.yahooJapanModule = new b,
                y.debug("Added yahooJapanModule to Softgames-Prototype")
        } catch (w) {
            throw console && console.error("[" + s + "] " + w.message, w.stack),
                w
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "iframeEventBroadcasterModul",
            o = {
                softgamesReady: "softgamesReady",
                loadingFlowFinished: "loadingFlowFinished",
                levelFinished: "levelFinished"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var u = new n(s),
                a = function() {
                    function e(e) {
                        try {
                            if (t("activateBroadcasting", r.location.href || document.URL)) {
                                var n = e.events,
                                    i = r.parent || r;
                                n.on("gameGameOver", function(e) {
                                        i.postMessage({
                                            system: "eventBroadcastSubscriber",
                                            event: "gameOver",
                                            data: {
                                                level: isNaN(e.level) ? 0 : e.level,
                                                score: isNaN(e.score) ? 0 : e.score
                                            }
                                        }, "*")
                                    }),
                                    n.on("levelFinished", function(e) {
                                        i.postMessage({
                                            system: "eventBroadcastSubscriber",
                                            event: "levelFinished",
                                            data: {
                                                level: isNaN(e.level) ? 0 : e.level,
                                                score: isNaN(e.score) ? 0 : e.score
                                            }
                                        }, "*")
                                    }),
                                    n.on("levelUp", function(e) {
                                        i.levelUp({
                                            system: "eventBroadcastSubscriber",
                                            event: "levelUp",
                                            data: {
                                                level: isNaN(e.level) ? 0 : e.level,
                                                score: isNaN(e.score) ? 0 : e.score
                                            }
                                        }, "*")
                                    })
                            } else
                                u.debug("activateBroadcasting param isn't set")
                        } catch (s) {
                            u.error(s)
                        }
                    }

                    function t(e) {
                        e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                        var t = new RegExp("[\\?&]" + e + "=([^&#]*)"),
                            n = t.exec(r.location.search);
                        return n === null ? !1 : decodeURIComponent(n[1].replace(/\+/g, " "))
                    }
                    i.on(o.softgamesReady, e)
                };
            e.prototype.iframeEventBroadcasterModul = new a,
                u.debug("Added iframeEventBroadcasterModul to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, window),
    function(e, t, n) {
        "use strict";
        var r = "https://cdn.flurry.com/js/flurry.js",
            i = "serviceFlurryClient";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            var s = new t(i),
                o = 1,
                u = 255,
                a = function() {
                    function l() {
                        return e
                    }

                    function c() {
                        FlurryAgent.endSession()
                    }

                    function h() {
                        a.length < o && s.debug("UserId is empty"),
                            a.length > u && s.debug("UserId is too big"),
                            FlurryAgent.setUserId(a),
                            FlurryAgent.startSession(t.app_key)
                    }

                    function p(e, t, r) {
                        var o = {
                            _test: String(i)
                        };
                        n.each(t, function(e) {
                                o[String(e)] = String(t[e])
                            }),
                            r !== undefined && r !== "" && FlurryAgent.setAppVersion(r),
                            FlurryAgent.logEvent(e, o),
                            s.debug("Track: " + e, o)
                    }

                    function d(e, t, n) {
                        f.push({
                            event: e,
                            data: t,
                            version: n
                        })
                    }

                    function v() {
                        n.each(f, function(e) {
                                p(f[e].event, f[e].data, f[e].version)
                            }),
                            f = []
                    }

                    function m(o) {
                        try {
                            o = o || {},
                                t = o.serviceConfig,
                                t && t.app_key ? (s.debug("Init", o),
                                    a = String(o.userId),
                                    i = o.testMode,
                                    n.getScript(r).done(function() {
                                        s.debug("SDK loaded"),
                                            h(),
                                            f.length > 0 && v(),
                                            e = !0,
                                            s.info("initiated")
                                    })) : s.info("Could not init due to missing config or app_key")
                        } catch (u) {
                            s.error("Could not init"),
                                s.error(u)
                        }
                    }

                    function g(e, t, n) {
                        l() ? p(e, t, n) : d(e, t, n)
                    }

                    function y(e) {
                        a = String(e),
                            s.debug("Switch to user: " + a),
                            c(),
                            h()
                    }

                    function b(e) {
                        FlurryAgent.setAppVersion(e),
                            s.debug("Set version: " + e)
                    }
                    var e = !1,
                        t, i, a, f = [];
                    this.init = m,
                        this.track = g,
                        this.switchUser = y,
                        this.setVersion = b
                };
            window.SoftgamesServiceFlurryClient = a
        } catch (f) {
            throw console && console.error("[" + i + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "userTracker",
            o = {
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function c() {
                        return e
                    }

                    function h(i) {
                        s = i,
                            l === undefined ? (l = new r[t.clientClassName],
                                l.init({
                                    userId: s.userId,
                                    testMode: n,
                                    serviceConfig: t[t.clientClassName + "Config"]
                                })) : l.switchUser(s.userId),
                            e = !0
                    }

                    function p(e) {
                        e.userTrackerSettings !== undefined && (t = e.userTrackerSettings,
                            n = t.testMode,
                            a = e.game_slug,
                            f = e.subplatform,
                            i.on(o.kirkUserReady, h))
                    }

                    function d(e, t, n) {
                        if (c()) {
                            var r = t;
                            if (r === undefined || r === null)
                                r = {};
                            r._game = a,
                                r._publisher = f,
                                u.debug(e, r),
                                l.track(e, r, n)
                        } else
                            u.debug("Not initiated")
                    }
                    var e = !1,
                        t, n, s, a, f, l;
                    this.track = d,
                        i.on(o.softgamesReady, p)
                };
            e.prototype.userTrackerHandler = new a,
                u.debug("Added userTrackerHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t) {
        "use strict";
        var n = "https://m.softgames.de",
            r = "https://core.gamesmedia.de",
            i = "/api",
            s = "bettingLeaguesService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var o = new e(s),
                u = function(e, s) {
                    function p(e, t) {
                        return i + "/" + t + "/" + e
                    }

                    function d() {
                        return window.sgPlatformRestrictedHostname ? r : n
                    }

                    function v(e, n, r) {
                        var i = d() + p(n, e);
                        return r !== undefined && !t.isEmptyObject(r) && (i = i + "?" + t.param(r)),
                            i
                    }

                    function m(e, n, r, i, s, u, a) {
                        o.debug("Request: " + r),
                            t.ajax({
                                method: n,
                                url: v(e, r, i),
                                data: s,
                                dataType: "json"
                            }).done(function(e) {
                                u(e)
                            }).fail(function(e) {
                                a(e)
                            })
                    }

                    function g(e, t) {
                        m(f, u, a.replace(":gameSlug", e).replace(":locale", s), {}, {}, function(e) {
                            typeof t == "function" && t(e)
                        }, function(e) {
                            c = !1,
                                o.debug(e),
                                typeof t == "function" && t({})
                        })
                    }

                    function y() {
                        g(e, function(e) {
                                l = e,
                                    c = !1,
                                    typeof h == "function" && (h(l),
                                        h = null)
                            }),
                            c = !0
                    }
                    if (!e)
                        throw new Error("No gameSlug defined!");
                    var u = "GET",
                        a = "games/:gameSlug/betting_leagues/?locale=:locale",
                        f = "v1",
                        l = null,
                        c = !1,
                        h = null;
                    this.getList = function(e) {
                            l === null && c ? h = function(t) {
                                    e(t)
                                } :
                                e(l)
                        },
                        y()
                };
            window.SoftgamesBettingLeaguesService = u
        } catch (a) {
            throw console && console.error("[" + s + "] " + a.message, a.stack),
                a
        }
    }(SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "https://m.softgames.de",
            r = "https://core.gamesmedia.de",
            i = "/api",
            s = "multiplayerAsyncService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var o = new e(s),
                u = function(e, s, u) {
                    function k(e, t) {
                        return i + "/" + t + "/" + e
                    }

                    function L() {
                        return window.sgPlatformRestrictedHostname ? r : n
                    }

                    function A(e, n, r) {
                        var i = L() + k(n, e);
                        return r !== undefined && !t.isEmptyObject(r) && (i = i + "?" + t.param(r)),
                            i
                    }

                    function O(e, n, r, i, s, u, a) {
                        o.debug("Request: " + r),
                            t.ajax({
                                method: n,
                                url: A(e, r, i),
                                data: s,
                                dataType: "json"
                            }).done(function(e) {
                                u(e)
                            }).fail(function(e, t, n) {
                                a(new Error(n))
                            })
                    }

                    function M(e, t, n, r, i) {
                        o.debug("Requesting Active Matches"),
                            O(a.API_VERSION, a.METHOD, a.ACTION.replace(":userId", e), {
                                gameSlug: t,
                                embed: "competitionSummary,competitionHistory",
                                page: n,
                                per_page: r
                            }, null, function(e) {
                                typeof i == "function" && i(e)
                            }, function(e) {
                                o.debug(e),
                                    typeof i == "function" && i([])
                            })
                    }

                    function _(e, t, n) {
                        o.debug("Requesting Recent Matches"),
                            O(f.API_VERSION, f.METHOD, f.ACTION.replace(":userId", e), {
                                gameSlug: t
                            }, null, function(e) {
                                typeof n == "function" && n(e)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n([])
                            })
                    }

                    function D(e, t, n) {
                        O(l.API_VERSION, l.METHOD, l.ACTION.replace(":matchId", t), {}, {
                            userId: e
                        }, function(e) {
                            typeof n == "function" && n(e)
                        }, function(e) {
                            o.debug(e),
                                typeof n == "function" && n({})
                        })
                    }

                    function P(e, t, n) {
                        O(c.API_VERSION, c.METHOD, c.ACTION.replace(":matchId", t), {}, {
                            userId: e
                        }, function(e) {
                            typeof n == "function" && n(e)
                        }, function(e) {
                            o.debug(e),
                                typeof n == "function" && n({})
                        })
                    }

                    function H(e, t, n, r, i) {
                        O(h.API_VERSION, h.METHOD, h.ACTION, r, {
                            gameSlug: t,
                            userId: e,
                            opponentId: n
                        }, function(e) {
                            typeof i == "function" && i(null, e)
                        }, function(e) {
                            o.debug(e),
                                typeof i == "function" && i(e)
                        })
                    }

                    function B(e, t, n, r) {
                        O(p.API_VERSION, p.METHOD, p.ACTION.replace(":userId", e), n, {
                            gameSlug: t
                        }, function(e) {
                            typeof r == "function" && r(e)
                        }, function(e) {
                            o.debug(e),
                                typeof r == "function" && r({})
                        })
                    }

                    function j(e, t, n, r) {
                        O(d.API_VERSION, d.METHOD, d.ACTION.replace(":userId", e), n, {
                            gameSlug: t
                        }, function(e) {
                            typeof r == "function" && r(e)
                        }, function(e) {
                            o.debug(e),
                                typeof r == "function" && r({})
                        })
                    }

                    function F(e, t, n, r) {
                        O(v.API_VERSION, v.METHOD, v.ACTION.replace(":matchId", e), {
                            score: t
                        }, n, function(e) {
                            typeof r == "function" && r(e)
                        }, function(e) {
                            o.debug(e),
                                typeof r == "function" && r({})
                        })
                    }

                    function I(e, t) {
                        O(m.API_VERSION, m.METHOD, m.ACTION.replace(":matchId", e), {}, {}, function(e) {
                            typeof t == "function" && t(e)
                        }, function(e) {
                            o.debug(e),
                                typeof t == "function" && t({})
                        })
                    }

                    function q(e, t) {
                        O(g.API_VERSION, g.METHOD, g.ACTION.replace(":matchId", e), {}, {}, function(e) {
                            typeof t == "function" && t(e)
                        }, function(e) {
                            o.debug(e),
                                typeof t == "function" && t({})
                        })
                    }

                    function R(t, n, r, i) {
                        O(y.API_VERSION, y.METHOD, y.ACTION.replace(":gameSlug", t), {
                            page: n,
                            per_page: r,
                            forUser: e,
                            period: x,
                            locale: u
                        }, {}, function(e) {
                            typeof i == "function" && i(e)
                        }, function(e) {
                            o.debug(e),
                                typeof i == "function" && i({})
                        })
                    }

                    function U(e, t) {
                        O(b.API_VERSION, b.METHOD, b.ACTION.replace(":gameSlug", e), {
                            period: x,
                            locale: u
                        }, {}, function(e) {
                            typeof t == "function" && t(e)
                        }, function(e) {
                            o.debug(e),
                                typeof t == "function" && t({})
                        })
                    }

                    function z(e, t, n) {
                        O(w.API_VERSION, w.METHOD, w.ACTION.replace(":gameSlug", e), {
                            userId: t,
                            locale: u
                        }, {}, function(e) {
                            typeof n == "function" && n(e)
                        }, function(e) {
                            o.debug(e),
                                typeof n == "function" && n({})
                        })
                    }

                    function W(e, t, n, r) {
                        O(E.API_VERSION, E.METHOD, E.ACTION.replace(":gameSlug", e), {
                            userId: t,
                            acceptId: n
                        }, {}, function(e) {
                            typeof r == "function" && r(e)
                        }, function(e) {
                            o.debug(e),
                                typeof r == "function" && r({})
                        })
                    }

                    function X(e, t, n) {
                        O(y.API_VERSION, y.METHOD, y.ACTION.replace(":gameSlug", e), {
                            userId: t,
                            period: x,
                            locale: u
                        }, {}, function(e) {
                            typeof n == "function" && n(e)
                        }, function(e) {
                            o.debug(e),
                                typeof n == "function" && n({})
                        })
                    }

                    function V(e, t) {
                        O(S.API_VERSION, S.METHOD, S.ACTION, {}, {
                            requests: e
                        }, function(e) {
                            typeof t == "function" && t(e)
                        }, function(e) {
                            o.debug(e),
                                typeof t == "function" && t({})
                        })
                    }

                    function $(e) {
                        return e >= 200 && e < 300 ? !0 : !1
                    }

                    function J() {
                        return T.time !== undefined && Date.now() - T.time <= N || T.data !== undefined && C ? T.data : undefined
                    }

                    function K(e) {
                        T = {},
                            T.data = e,
                            T.time = Date.now()
                    }
                    if (!e)
                        throw new Error("No userId defined!");
                    if (!s)
                        throw new Error("No gameSlug defined!");
                    var a = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/users/:userId/active_matches/",
                            API_VERSION: "v1"
                        },
                        f = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/users/:userId/recent_matches/",
                            API_VERSION: "v1"
                        },
                        l = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/matches/:matchId",
                            API_VERSION: "v1"
                        },
                        c = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/matches/:matchId/result",
                            API_VERSION: "v1"
                        },
                        h = {
                            METHOD: "POST",
                            ACTION: "multiplayer_async/matches/",
                            API_VERSION: "v1"
                        },
                        p = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/users/:userId/random_opponent/",
                            API_VERSION: "v1"
                        },
                        d = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/users/:userId/stats/",
                            API_VERSION: "v1"
                        },
                        v = {
                            METHOD: "PUT",
                            ACTION: "multiplayer_async/matches/:matchId/send_score/",
                            API_VERSION: "v1"
                        },
                        m = {
                            METHOD: "PUT",
                            ACTION: "multiplayer_async/matches/:matchId/skip_turn/",
                            API_VERSION: "v1"
                        },
                        g = {
                            METHOD: "PUT",
                            ACTION: "multiplayer_async/matches/:matchId/poke/",
                            API_VERSION: "v1"
                        },
                        y = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/games/:gameSlug/leaderboard/",
                            API_VERSION: "v1"
                        },
                        b = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/games/:gameSlug/leaderboard_info/",
                            API_VERSION: "v1"
                        },
                        w = {
                            METHOD: "GET",
                            ACTION: "multiplayer_async/games/:gameSlug/leaderboard_results/",
                            API_VERSION: "v1"
                        },
                        E = {
                            METHOD: "PUT",
                            ACTION: "multiplayer_async/games/:gameSlug/leaderboard_confirm_reward/",
                            API_VERSION: "v1"
                        },
                        S = {
                            METHOD: "POST",
                            ACTION: "multiplayer_async/batch",
                            API_VERSION: "v1"
                        },
                        x = "weekly",
                        T = {},
                        N = 6e4,
                        C = !1;
                    this.getActiveMatches = function(t, n, r) {
                            M(e, s, t, n, r)
                        },
                        this.getRecentMatches = function(t) {
                            _(e, s, t)
                        },
                        this.getMatch = function(t, n) {
                            D(e, t, n)
                        },
                        this.getMatchResult = function(t, n) {
                            P(e, t, n)
                        },
                        this.createMatch = function(t, n, r, i, o) {
                            var u = {
                                challengerBettingLeague: n,
                                opponentBettingLeague: r,
                                toFinish: i
                            };
                            H(e, s, t, u, o)
                        },
                        this.getRandomOpponent = function(t, n) {
                            var r = {
                                v2: t
                            };
                            B(e, s, r, n)
                        },
                        this.setScore = function(e, t, n, r, i) {
                            typeof r == "function" && (i = r,
                                r = !1);
                            var s = {
                                skipRematch: n,
                                forceMatchClose: r
                            };
                            F(e, t, s, i)
                        },
                        this.setScores = function(e, n) {
                            var r = [];
                            t.each(e, function(e, t) {
                                    r.push({
                                        method: v.METHOD,
                                        url: k(v.ACTION.replace(":matchId", e), v.API_VERSION),
                                        body: {
                                            score: t
                                        }
                                    })
                                }),
                                V(r, function(r) {
                                    var i = {},
                                        s = 0;
                                    t.each(e, function(e) {
                                            $(r[s].status) && (i[e] = r[s].body),
                                                s++
                                        }),
                                        n(i)
                                })
                        },
                        this.skipTurn = function(e, t) {
                            I(e, t)
                        },
                        this.pokeMatch = function(e, t) {
                            q(e, t)
                        },
                        this.getLeaderboard = function(e, t, n) {
                            R(s, e, t, n)
                        },
                        this.getLeaderboardInfo = function(e) {
                            U(s, e)
                        },
                        this.getStats = function(t) {
                            j(e, s, {}, t)
                        },
                        this.getUserInfo = function(t) {
                            var n = J();
                            n !== undefined ? t(n) : (C = !0,
                                X(s, e, function(e) {
                                    C = !1,
                                        K(e),
                                        t(e)
                                }))
                        },
                        this.getLeaderboardResults = function(t) {
                            z(s, e, t)
                        },
                        this.confirmReward = function(t, n) {
                            W(s, e, t, n)
                        }
                };
            window.SoftgamesMultiplayerAsyncService = u
        } catch (a) {
            throw console && console.error("[" + s + "] " + a.message, a.stack),
                a
        }
    }(SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "https://m.softgames.de",
            r = "https://core.gamesmedia.de",
            i = "/api",
            s = "gameBoostersService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var o = new e(s),
                u = function(e) {
                    function f(e, t) {
                        return i + "/" + t + "/" + e
                    }

                    function l() {
                        return window.sgPlatformRestrictedHostname ? r : n
                    }

                    function c(e, n, r) {
                        var i = l() + f(n, e);
                        return r !== undefined && !t.isEmptyObject(r) && (i = i + "?" + t.param(r)),
                            i
                    }

                    function h(e, n, r, i, s, u, a) {
                        o.debug("Request: " + r),
                            t.ajax({
                                method: n,
                                url: c(e, r, i),
                                data: s,
                                dataType: "json"
                            }).done(function(e) {
                                u(e)
                            }).fail(function(e) {
                                a(e)
                            })
                    }

                    function p(t, n) {
                        o.debug("Requesting Settings"),
                            h(a, s, u.replace(":gameSlug", e), {}, null, function(e) {
                                typeof t == "function" && t(e)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n({})
                            })
                    }
                    if (!e)
                        throw new Error("No gameSlug defined!");
                    var s = "GET",
                        u = "game_boosters/games/:gameSlug/settings/",
                        a = "v1";
                    this.getSettings = function(e, t) {
                        p(e, t)
                    }
                };
            window.SoftgamesGameBoostersService = u
        } catch (a) {
            throw console && console.error("[" + s + "] " + a.message, a.stack),
                a
        }
    }(SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "https://m.softgames.de",
            r = "https://core.gamesmedia.de",
            i = "/api",
            s = "gameItemsService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var o = new e(s),
                u = function(e) {
                    function f(e, t) {
                        return i + "/" + t + "/" + e
                    }

                    function l() {
                        return window.sgPlatformRestrictedHostname ? r : n
                    }

                    function c(e, n, r) {
                        var i = l() + f(n, e);
                        return r !== undefined && !t.isEmptyObject(r) && (i = i + "?" + t.param(r)),
                            i
                    }

                    function h(e, n, r, i, s, u, a) {
                        o.debug("Request: " + r),
                            t.ajax({
                                method: n,
                                url: c(e, r, i),
                                data: s,
                                dataType: "json"
                            }).done(function(e) {
                                u(e)
                            }).fail(function(e) {
                                a(e)
                            })
                    }

                    function p(t, n) {
                        o.debug("Requesting Settings"),
                            h(a, s, u.replace(":gameSlug", e), {}, null, function(e) {
                                typeof t == "function" && t(e)
                            }, function(e) {
                                o.debug(e),
                                    typeof n == "function" && n({})
                            })
                    }
                    if (!e)
                        throw new Error("No gameSlug defined!");
                    var s = "GET",
                        u = "game_items/games/:gameSlug/settings/",
                        a = "v1";
                    this.getSettings = function(e, t) {
                        p(e, t)
                    }
                };
            window.SoftgamesGameItemsService = u
        } catch (a) {
            throw console && console.error("[" + s + "] " + a.message, a.stack),
                a
        }
    }(SoftgamesLogger, SG_jQuery),
    function(e, t) {
        "use strict";
        var n = "http://api.sg-conversions.sgc.io",
            r = "sgConversionsService";
        try {
            if (!e)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            var i = new e(r),
                s = function(e) {
                    function u(e, r, i) {
                        var s = n + "/" + e + r;
                        return i !== undefined && !t.isEmptyObject(i) && (s = s + "?" + t.param(i)),
                            s
                    }

                    function a(e, n, r, s, o, a, f) {
                        i.debug("Request: " + r),
                            t.ajax({
                                method: n,
                                url: u(e, r, s),
                                data: o,
                                dataType: "json"
                            }).done(function(e) {
                                a(e)
                            }).fail(function(e) {
                                f(e)
                            })
                    }

                    function f(t, n, u) {
                        i.debug("Requesting convert for transaction"),
                            a(o, r, s.replace(":transactionId", t), {
                                access_key: e
                            }, n, function(e) {
                                typeof u == "function" && u(e, !0)
                            }, function(e) {
                                i.debug(e),
                                    typeof u == "function" && u([], !1)
                            })
                    }
                    if (!e)
                        throw new Error("No accessKey defined!");
                    var r = "PUT",
                        s = "/transactions/:transactionId/convert/",
                        o = "v1";
                    this.convert = function(e, t) {
                        f(e, {}, t)
                    }
                };
            window.SoftgamesSgConversionsService = s
        } catch (o) {
            throw console && console.error("[" + r + "] " + o.message, o.stack),
                o
        }
    }(SoftgamesLogger, SG_jQuery),
    "use strict",
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "https://gifts.softgames.de/api/v1",
            s = "/gifts/visits",
            o = "POST",
            u = "/gifts/weeks/games/{#gameId}/users/{#userId}",
            a = "GET",
            f = "dailyGiftsApi",
            l = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var c = new t(f),
                h = function() {
                    function n() {
                        return e
                    }

                    function h(n) {
                        t = n,
                            e = !0,
                            c.debug("initiated " + f)
                    }

                    function p(e, t, n, r, s) {
                        SG_jQuery.ajax({
                            method: e,
                            url: i + t,
                            contentType: "application/json",
                            data: n ? JSON.stringify(n) : "",
                            beforeSend: function(e) {
                                e.setRequestHeader("Authorization", "Basic " + btoa("giftsUser:cadf234mklf1d12das"))
                            }
                        }).done(function(e) {
                            r(e)
                        }).fail(function(e) {
                            s(e)
                        })
                    }

                    function d(e) {
                        n() ? p(o, s, {
                            userId: t.user.userId,
                            gameId: 674,
                            currentTime: (new Date).toString()
                        }, function(t) {
                            typeof e == "function" && e(t)
                        }, function(t) {
                            c.debug("Error sending visit: " + t),
                                typeof e == "function" && e(t)
                        }) : c.debug("Trying to send visit but " + f + " was not initialized")
                    }

                    function v(e) {
                        n() && p(a, u.replace("{#gameId}", 674).replace("{#userId}", t.user.userId), null, function(t) {
                            typeof e == "function" && e(t)
                        }, function(t) {
                            c.debug("Error getting gift list: " + t),
                                typeof e == "function" && e()
                        })
                    }
                    var e = !1,
                        t = null;
                    r.on(l.softgamesReady, h),
                        this.sendVisit = d,
                        this.getGiftList = v,
                        this.isInitiated = n
                };
            e.prototype.dailyGiftsAPIHandler = new h,
                c.debug("Added dailyGiftsAPIHandler to Softgames-Prototype")
        } catch (p) {
            throw console && console.error("[" + f + "] " + p.message, p.stack),
                p
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    "use strict",
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = e.prototype.eventTracker,
            a = null,
            f = "carousel",
            l = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!o)
                throw new Error("No eventManager defined!");
            if (!u)
                throw new Error("No eventTracker defined!");
            var c = new n(f),
                h = null,
                p = function() {
                    function e(e) {
                        a = e
                    }

                    function t(e) {
                        typeof Swiper == "undefined" && (n("https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.1/js/swiper.jquery.js", function() {
                                typeof e == "function" && e()
                            }),
                            r("https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.1/css/swiper.min.css"))
                    }

                    function n(e, t) {
                        var n = s.createElement("script");
                        n.src = e,
                            n.async = !0,
                            n.type = "text/javascript",
                            typeof t == "function" && (n.onreadystatechange = n.onload = function() {
                                if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")
                                    n.onreadystatechange = n.onload = null,
                                    t()
                            }),
                            s.getElementsByTagName("head")[0].appendChild(n)
                    }

                    function r(e) {
                        var t = s.createElement("link");
                        t.type = "text/css",
                            t.href = e,
                            t.rel = "stylesheet",
                            s.getElementsByTagName("head")[0].appendChild(t)
                    }

                    function i(e) {
                        try {
                            h = e;
                            var n = new Swiper(e.element, e.settings);
                            return n.triggerNext = function() {
                                    typeof Swiper != "undefined" && n.slideNext()
                                },
                                n.triggerPrev = function() {
                                    typeof Swiper != "undefined" && n.slidePrev()
                                },
                                n.triggerDestroy = function() {
                                    typeof Swiper != "undefined" && n.destroy()
                                },
                                n
                        } catch (r) {
                            c.error(r),
                                t(function() {
                                    i(e)
                                })
                        }
                    }
                    this.init = t,
                        this.createCarousel = i,
                        o.on(l.softgamesReady, e)
                };
            i.softgamesCarousel = new p,
                c.debug("Added carousel to Softgames-Prototype")
        } catch (d) {
            throw console && console.error("[" + f + "] " + d.message, d.stack),
                d
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r, i, s) {
        "use strict";
        var o = e.prototype.events,
            u = e.prototype.eventTracker,
            a = null,
            f = "multiplayerPopup",
            l = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/award_gold_BIG-5e7ea6ff1823ff7df1ade05ea930bee4.png",
            c = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/award_silver_BIG-367e112cbeda81401471429853e00957.png",
            h = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/award_bronze_BIG-4eb5568b3ee2624ef07e3b60c0ed42ee.png",
            p = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/award_neutral_BIG-13c792accb3348730c2bbe78d704fd08.png",
            d = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/shine-17111d8de1b1e0446d8d81352004f97a.png",
            v = {
                kirkUserReady: "kirkUserReady",
                softgamesReady: "softgamesReady",
                closePopup: "closePopup",
                createLoginIframe: "createMPLoginIframe",
                setFreeCurrencyText: "setFreeCurrencyText",
                scrollNumbers: "scrollNumbers",
                userGameDataCurrencyUpdate: "userGameDataCurrencyUpdate",
                confirmLeaderboardReward: "confirmLeaderboardReward",
                trackEvent: "trackFlurryEvent",
                changeCurrency: "changeCurrency",
                purchaseButtonClicked: "purchaseButtonClicked",
                shopButtonClicked: "shopButtonClicked"
            },
            m = {
                clickedXFromLeaderboardResultsPopup: "clicked x in the leaderboard (tournament) results popup",
                clickedCollectFromLeaderboardResultsPopup: "clicked collect button in the leaderboard (tournament) results popup",
                clickedShareFromLeaderboardResultsPopup: "clicked share button in the leaderboard (tournament) results popup",
                clickedXFromNotEnoughCurrencyPopup: "clicked x on the not enough currency popup",
                clickedCollectFromNotEnoughCurrencyPopup: "clicked collect on the not enough currency popup",
                clickedIncentiviseButtonFromNotEnoughCurrencyPopup: "clicked incentivise button on the not enough currency popup ",
                finishedIncentiviseFromNotEnoughCurrencyPopup: "user was incentivised on the not enough currency popup ",
                failedIncentiviseFromNotEnoughCurrencyPopup: "user was not incentivised on the not enough currency popup ",
                clickedIncentiviseButtonFromFreeCurrencyPopup: "clicked incentivise button on the free currency popup ",
                finishedIncentiviseFromFreeCurrencyPopup: "user was incentivised on the free currency popup ",
                failedIncentiviseFromFreeCurrencyPopup: "user was not incentivised on the free currency popup ",
                clickedIncentiviseButtonFromFreeCurrencyWaitPopup: "clicked incentivise button on the free currency wait popup ",
                finishedIncentiviseFromFreeCurrencyWaitPopup: "user was incentivised on the free currency wait popup ",
                failedIncentiviseFromFreeCurrencyWaitPopup: "user was not incentivised on the free currency wait popup "
            },
            g = {
                freeCoins: "freeCoins",
                notEnoughCoins: "notEnoughCoins",
                levelUp: "levelUp",
                login: "login",
                signup: "signup",
                leaderboardResults: "leaderboardResults",
                store: "store"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!o)
                throw new Error("No eventManager defined!");
            if (!u)
                throw new Error("No eventTracker defined!");
            var y = new n(f),
                b = null,
                w = null,
                E = {},
                S = 1,
                x = ".sg-modal-window-multiplayerAsync .sg-modal-window-content",
                T = "",
                N, C, k = 0,
                L = null,
                A = 0,
                O = "",
                M = [],
                _ = "",
                D = function() {
                    function e() {
                        return a.odnoklassnikiHandler && a.odnoklassnikiHandler.isOdnoklassnikiEnv()
                    }

                    function n(e) {
                        a = e,
                            a.asyncMultiplayerSettings && (b = a.freeCurrencyHandler,
                                E = a.asyncMultiplayerSettings.templates,
                                o.on(v.closePopup, r),
                                o.on(v.kirkUserReady, s))
                    }

                    function r() {
                        t(".popup-container").remove()
                    }

                    function s(e) {
                        w = e,
                            b.refresh()
                    }

                    function u(e) {
                        e && (S = e.scaleFactor || x,
                            x = e.element || x,
                            T = e.type || T,
                            C = e.level || C,
                            N = e.reward || N,
                            L = e.collectCallback || L,
                            k = e.rank || k,
                            A = e.incentValue || A,
                            O = e.division || O,
                            M = e.orders || M,
                            _ = e.currency || _);
                        switch (T) {
                            case g.freeCoins:
                                f();
                                break;
                            case g.notEnoughCoins:
                                H();
                                break;
                            case g.levelUp:
                                B();
                                break;
                            case g.login:
                                j();
                                break;
                            case g.signup:
                                F();
                                break;
                            case g.leaderboardResults:
                                I();
                                break;
                            case g.store:
                                q()
                        }
                        U()
                    }

                    function f() {
                        b.isAvailable() ? D() : P()
                    }

                    function y() {
                        e() ? o.fire(v.shopButtonClicked, {
                            scaleFactor: S
                        }) : $(m.clickedIncentiviseButtonFromNotEnoughCurrencyPopup, m.finishedIncentiviseFromNotEnoughCurrencyPopup, m.failedIncentiviseFromNotEnoughCurrencyPopup)
                    }

                    function D() {
                        var e = t(E.reward_popup);
                        e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")"),
                            e.find(".reward-currency, .get-button-coins").attr("src", a.gameCurrencyIcon);
                        var n = b.amount;
                        e.find(".reward-value").empty().append(n),
                            t(x).append(e),
                            e.find(".collect-button").css("background-image", "url(" + a.gameCollectBtn + ")").one("click", function() {
                                z(n)
                            }),
                            e.find(".get-button").css("background-image", "url(" + a.gameGetMoreBtn + ")").one("click", y)
                    }

                    function P() {
                        var e = t(E.wait_popup);
                        e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")"),
                            e.find(".reward-currency, .get-button-coins").attr("src", a.gameCurrencyIcon),
                            a.gameIngameCurrencyNames && a.gameIngameCurrencyNames.few && e.find(".free-title").text(I18n.t("multiplayer.free") + " " + a.gameIngameCurrencyNames.few),
                            e.find(".close-btn").one("click", function() {
                                z()
                            }),
                            e.find(".get-button").css("background-image", "url(" + a.gameGetMoreBtn + ")").one("click", y),
                            t(x).append(e),
                            V((b.waitTill().getTime() - (new Date).getTime()) / 1e3, t(".timer"), function() {
                                t(".wait-popup").length > 0 && (z(),
                                    u())
                            })
                    }

                    function H() {
                        var e = t(E.not_enough_coins_popup);
                        e.find(".title-coins, .free-coin-button-coins, .get-button-coins").attr("src", a.gameCurrencyIcon),
                            e.find(".close-btn").one("click", function() {
                                o.fire(v.trackEvent, {
                                        event: m.clickedXFromNotEnoughCurrencyPopup
                                    }),
                                    W()
                            }),
                            e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")"),
                            e.find(".free-coin-button").css("background-image", "url(" + a.gameCollectBtn + ")"),
                            e.find(".get-button").css("background-image", "url(" + a.gameGetMoreBtn + ")"),
                            e.find(".free-coin-button").one("click", function() {
                                o.fire(v.trackEvent, {
                                        event: m.clickedCollectFromNotEnoughCurrencyPopup
                                    }),
                                    u({
                                        type: g.freeCoins,
                                        scaleFactor: S
                                    })
                            }),
                            t(x).append(e),
                            b.isAvailable() ? t(".free-coin-button .in").hide() : (e.find(".free-coin-button").addClass("small"),
                                V((b.waitTill().getTime() - (new Date).getTime()) / 1e3, t(".no-coins-timer"), function() {
                                    t(".free-coin-button .in, .no-coins-timer").hide(),
                                        t(".free-coin-button").removeClass("small")
                                })),
                            t(".get-button").one("click", function() {
                                y(),
                                    o.fire(v.trackEvent, {
                                        event: m.clickedIncentiviseButtonFromNotEnoughCurrencyPopup
                                    })
                            })
                    }

                    function B() {
                        var e = t(E.level_up_popup);
                        e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")"),
                            e.find(".level-star").css("background-image", "url(" + a.gameLevelStar + ")").text(C),
                            e.find(".currency-img").attr("src", a.gameCurrencyIcon),
                            e.find(".reward-value").text(N),
                            e.find(".collect-button").css("background-image", "url(" + a.gameCollectBtn + ")").one("click", function() {
                                o.fire(v.scrollNumbers, {
                                        start: a._parseGroupedFloat(t(".currency-value").text()),
                                        end: a._parseGroupedFloat(t(".currency-value").text()) + N,
                                        duration: 500,
                                        element: ".currency-value"
                                    }),
                                    o.fire(v.userGameDataCurrencyUpdate, N),
                                    t(".popup-container").remove(),
                                    typeof L == "function" && L()
                            }),
                            t(x).append(e)
                    }

                    function j() {
                        var e = t(E.login_popup);
                        e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")"),
                            t(x).append(e)
                    }

                    function F() {
                        var e = t(E.signup_popup);
                        e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")"),
                            e.find(".close-btn").on("click", r),
                            t(x).append(e),
                            o.fire(v.createLoginIframe, {
                                type: "multiplayerPopup",
                                height: 25,
                                width: 150,
                                redirectTo: "profile",
                                element: ".sign-up",
                                id: "popup-signup-iframe",
                                referral: "profile"
                            })
                    }

                    function I() {
                        var e = t(E.leaderboard_results_popup);
                        e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")");
                        var n = p;
                        parseInt(k) === 1 ? n = l : parseInt(k) === 2 ? n = c : parseInt(k) === 3 && (n = h),
                            e.find(".rank").css("background-image", "url(" + n + ")"),
                            e.find(".shine").attr("src", d),
                            e.find(".currency-img").attr("src", a.gameCurrencyIcon),
                            e.find(".fb-share").css("background-image", "url(" + a.gameFBBtn + ")").on("click", function() {
                                o.fire(v.trackEvent, {
                                        event: m.clickedShareFromLeaderboardResultsPopup
                                    }),
                                    i.open("http://facebook.com/sharer.php?u=http://m.softgames.de/games/" + a.game_slug + "/play_with_me?p=" + a.subplatform)
                            }),
                            e.find(".collect").css("background-image", "url(" + a.gameCollectBtnBig + ")").one("click", function() {
                                o.fire(v.trackEvent, {
                                        event: m.clickedCollectFromLeaderboardResultsPopup
                                    }),
                                    X(N)
                            }),
                            e.find(".close-btn").on("click", function() {
                                o.fire(v.trackEvent, {
                                        event: m.clickedXFromLeaderboardResultsPopup
                                    }),
                                    X(N)
                            }),
                            e.find(".rank-value").text("#" + k),
                            e.find(".reward-value").text(N),
                            e.find(".division").text(O),
                            N || e.find(".collect, .reward").hide(),
                            t(x).append(e)
                    }

                    function q() {
                        var e = t(E.store_popup);
                        e.find(".mp-popup").css("background-image", "url(" + a.gamePopupBackground + ")"),
                            e.find(".close-btn").one("click", function() {
                                r()
                            }),
                            M.forEach(function(t, n) {
                                e.find(".orders").append(R(t, n, M.length > n + 1))
                            }),
                            t(x).append(e)
                    }

                    function R(e, n, i) {
                        var s = t("<div>").addClass("purchase-order-row col-xs-12 paddingless left right"),
                            u = t("<div>").addClass("purchase-value-container"),
                            f = t("<div>").addClass("purchase-value").append(e.packageDefinition.value),
                            l = t("<div>").addClass("purchase-image-container"),
                            c = t("<img>").attr("src", a.gameCurrencyIcon).addClass("purchase-image-container");
                        u.append(f).append(c);
                        var h = t("<div>").addClass("purchase-button").css("background-image", "url(" + a.gameGetMoreBtn + ")"),
                            p = t("<div>").addClass("purchase-button-text").append(e.packagePrice + " " + _.toUpperCase());
                        h.append(p),
                            h.on("click touch", function() {
                                o.fire(v.purchaseButtonClicked, {
                                        index: n
                                    }),
                                    r()
                            }),
                            s.append(u).append(h);
                        if (i) {
                            var d = t("<div>").addClass("purchase-divider col-xs-12");
                            s.append(d)
                        }
                        return s
                    }

                    function U() {
                        a.gameLandscape ? a._isMobile() && t(".mp-popup").css("transform", "scale(1.5)") : t(".mp-popup").addClass("portrait-mp-popup"),
                            t(".popup-container").css("height", 1 / S * t(i).height())
                    }

                    function z(e) {
                        e ? b.collect(function(e) {
                            o.fire(v.scrollNumbers, {
                                    start: a._parseGroupedFloat(t(".currency-value").text()),
                                    end: a._parseGroupedFloat(t(".currency-value").text()) + e.collected,
                                    duration: 500,
                                    element: ".currency-value"
                                }),
                                o.fire(v.setFreeCurrencyText),
                                r()
                        }) : r()
                    }

                    function W(e) {
                        e ? (r(),
                            setTimeout(function() {
                                o.fire(v.scrollNumbers, {
                                    start: a._parseGroupedFloat(t(".currency-value").text()),
                                    end: a._parseGroupedFloat(t(".currency-value").text()) + a._parseGroupedFloat(e),
                                    duration: 500,
                                    element: ".currency-value"
                                })
                            }, 500),
                            o.fire(v.changeCurrency, {
                                value: e
                            })) : r()
                    }

                    function X(e) {
                        e && o.fire(v.scrollNumbers, {
                                start: a._parseGroupedFloat(t(".currency-value").text()),
                                end: a._parseGroupedFloat(t(".currency-value").text()) + a._parseGroupedFloat(e),
                                duration: 500,
                                element: ".currency-value"
                            }),
                            o.fire(v.confirmLeaderboardReward),
                            r()
                    }

                    function V(e, t, n) {
                        var r = e,
                            i, s, o, u = setInterval(function() {
                                i = parseInt(r / 3600, 10),
                                    s = parseInt(r / 60 % 60, 10),
                                    o = parseInt(r % 60, 10),
                                    i = i < 10 ? "0" + i : i,
                                    s = s < 10 ? "0" + s : s,
                                    o = o < 10 ? "0" + o : o;
                                var e = i && i !== "00" ? i + ":" + s + ":" + o : s + ":" + o;
                                t.text(e),
                                    --r < 0 && (clearInterval(u),
                                        typeof n == "function" && n())
                            }, 1e3)
                    }

                    function $(e, t, n) {
                        o.fire(v.trackEvent, {
                                event: e
                            }),
                            a.incentivise.trigger(function(e) {
                                e ? (o.fire(v.trackEvent, {
                                        event: t
                                    }),
                                    W(A)) : (o.fire(v.trackEvent, {
                                        event: n
                                    }),
                                    W())
                            })
                    }
                    o.on(v.softgamesReady, n),
                        this.createPopup = u
                };
            i.multiplayerPopup = new D,
                y.debug("Added multiplayer_popup to Softgames-Prototype")
        } catch (P) {
            throw console && console.error("[" + f + "] " + P.message, P.stack),
                P
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = !1,
            o = "odnoklassnikie_sg",
            u = {
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady",
                shopButtonClicked: "shopButtonClicked",
                socialModuleReady: "socialModuleReady",
                showRTMShop: "showRTMShop",
                purchaseButtonClicked: "purchaseButtonClicked",
                multiplayerReady: "multiplayerReady",
                inviteToMatchStarted: "inviteToMatchStarted",
                inviteToMatchFailed: "inviteToMatchFailed",
                acceptedInviteToMatch: "acceptedInviteToMatch",
                directMatchFlow: "directMatchFlow",
                getHomeButton: "getHomeButton"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var a = new t(o),
                f = function() {
                    function B() {
                        return s
                    }

                    function j() {
                        return {
                            friends: {
                                enabled: !0,
                                inviate: {
                                    enabled: !0
                                }
                            },
                            gameRequests: {
                                enabled: !1
                            },
                            highscores: {
                                enabled: !0
                            },
                            messages: {
                                postOnWall: {
                                    enabled: !0
                                }
                            },
                            payments: {
                                enabled: !0
                            }
                        }
                    }

                    function F() {
                        n.cookie("gameInstance" + p.gid) === undefined || n.cookie("gameInstance" + p.gid) === null ? (n.cookie("gameInstance" + p.gid, "gameInstance" + Math.random(), {
                                expires: p.userCookieExpressions,
                                path: "/"
                            }),
                            p.gameOpenedInAnotherTab = !1) : p.gameOpenedInAnotherTab = !0
                    }

                    function I() {
                        n(window).on("beforeunload", function() {
                                p.gameOpenedInAnotherTab === !1 && n.removeCookie("gameInstance" + p.gid, {
                                    path: "/"
                                })
                            }),
                            n(window).on("unload", function() {
                                p.gameOpenedInAnotherTab === !1 && n.removeCookie("gameInstance" + p.gid, {
                                    path: "/"
                                })
                            })
                    }

                    function q() {
                        return y && y["app-key"] !== null
                    }

                    function R() {
                        return window.sgPlatformRestrictedHostname ? f : o
                    }

                    function U(e, t) {
                        try {
                            P = t,
                                b && (a.debug("Invite friends button clicked"),
                                    h.UI.showInvite(e || y.inviteFriendsText))
                        } catch (n) {
                            a.error(n),
                                t({
                                    status: "error"
                                })
                        }
                    }

                    function z(e, t, n) {
                        a.debug("requestNewOrder with slug"),
                            a.debug(e);
                        var r = R() + l,
                            i = {
                                game_id: E,
                                agent_id: S,
                                user_id: p.user.userId,
                                package_slug: e
                            };
                        a.debug("Request: " + r),
                            SG_jQuery.ajax({
                                method: "POST",
                                url: r,
                                data: i,
                                dataType: "json"
                            }).done(function(e) {
                                t(e)
                            }).fail(function(e) {
                                n(e)
                            })
                    }

                    function W(e) {
                        var t = {};
                        return e && t.toString.call(e) === "[object Function]"
                    }

                    function X(e, t) {
                        W(e) && e(t)
                    }

                    function V(e) {
                        try {
                            var t, n = window.setInterval(function() {
                                t && t.api_server ? (window.clearInterval(n),
                                    e(null, t)) : t = h.Util.getRequestParameters()
                            }, 1e3)
                        } catch (r) {
                            e(r)
                        }
                    }

                    function $() {
                        k === N ? (i.fire(u.directMatchFlow),
                            et(L)) : k === C && i.fire(u.acceptedInviteToMatch, {
                            opponentData: A
                        }, !0)
                    }

                    function J() {
                        O = !0,
                            k && $()
                    }

                    function K(e) {
                        try {
                            i.on(u.shopButtonClicked, nt),
                                i.on(u.purchaseButtonClicked, ht),
                                i.on(u.multiplayerReady, J),
                                V(function(t, n) {
                                    if (t) {
                                        e(t);
                                        return
                                    }
                                    a.debug("initSdk params (interval)"),
                                        a.debug(n),
                                        a.debug(n.api_server),
                                        a.debug(n.apiconnection),
                                        a.debug(h),
                                        h.init(n.api_server, n.apiconnection, function() {
                                            a.debug("Odnoklassniki SDK has been initiated"),
                                                a.debug("checking for custom args params from ok"),
                                                a.debug("params custom_args: " + n.custom_args);
                                            if (n && n.custom_args) {
                                                var t = h.Util.getRequestParameters("&" + n.custom_args);
                                                a.debug("after parsing custom_args: " + t),
                                                    a.debug("opponentId: " + t.opponentId)
                                            }
                                            if (Y(t))
                                                a.debug("inviteToPlayInChatFlow with custom params " + t),
                                                L = t.opponentId,
                                                k = N,
                                                O && et(L);
                                            else if (Z(t)) {
                                                a.debug("acceptInviteToPlayInChatFlow with params " + n);
                                                try {
                                                    var r = JSON.parse(t.state);
                                                    A = {
                                                            username: r.username,
                                                            avatar: r.avatar,
                                                            level: r.level,
                                                            friendId: r.friendId,
                                                            extFriendId: r.extFriendId
                                                        },
                                                        k = C,
                                                        O && i.fire(u.acceptedInviteToMatch, {
                                                            opponentData: A
                                                        }, !0)
                                                } catch (s) {
                                                    a.error("Couldn't parse state param from ok", s)
                                                }
                                            }
                                            window.API_callback = function(e, t, n) {
                                                    a.debug("executing callback for: " + e),
                                                        a.debug(arguments);
                                                    switch (e) {
                                                        case "showInvite":
                                                            "ok" === t ? X(P, {
                                                                status: "success"
                                                            }) : X(P, {
                                                                status: "canceled"
                                                            });
                                                            break;
                                                        case "postMediatopic":
                                                            "ok" === t ? X(_, {
                                                                status: "success"
                                                            }) : X(_, {
                                                                status: "canceled"
                                                            });
                                                            break;
                                                        case "showPayment":
                                                            if ("ok" === t)
                                                                try {
                                                                    i.fire(u.userGameDataCurrencyUpdate, T.packageDefinition.value),
                                                                        i.fire(u.currencyUpdated, T.packageDefinition.value),
                                                                        X(D, {
                                                                            status: "success"
                                                                        })
                                                                } catch (r) {
                                                                    a.error(new Error("failed to execute callbacks for userGameDataCurrencyUpdate / currencyUpdated")),
                                                                        X(D, {
                                                                            status: "failed"
                                                                        })
                                                                }
                                                            else
                                                                X(D, {
                                                                    status: "canceled"
                                                                })
                                                    }
                                                },
                                                e()
                                        }, function(t) {
                                            e(t),
                                                a.debug("Cannot initialize Odnoklassniki SDK", t),
                                                SG_jQuery("<p>" + I18n.t("multiplayer.we_are_sorry_something_went_wrong") + "</p>").appendTo("body")
                                        })
                                })
                        } catch (t) {
                            e(t)
                        }
                    }

                    function Q(t) {
                        try {
                            n.getScript(e).done(function(e, n) {
                                b = !0,
                                    h = window.FAPI,
                                    K(t),
                                    a.debug("API loaded")
                            }).fail(function() {
                                t(new Error("failed to load ODNOKLASSNIKI_SDK_URI"))
                            })
                        } catch (r) {
                            t(r)
                        }
                    }

                    function G() {
                        return a.debug("check for currentOkUserIsNotValid"),
                            h.Client && SG_jQuery.cookie("uxext") && h.Client.uid != SG_jQuery.cookie("uxext")
                    }

                    function Y(e) {
                        return e && e.opponentId && (e.state === "" || e.state === undefined)
                    }

                    function Z(e) {
                        return e && e.opponentId && e.state !== "" && e.state !== undefined
                    }

                    function et(e) {
                        a.debug("createOkInvitationToArena was called for uid: " + e),
                            a.debug("Softgames user: " + p.user),
                            n.ajax({
                                method: "POST",
                                dataType: "json",
                                url: v + "v1/ok/messages/user/" + SG_jQuery.cookie("ux") + "/invite_to_game/" + p.gid + "/invited/" + e + "?k=" + SG_jQuery.cookie("uk")
                            }).done(function(e) {
                                return a.debug("got response about createOkInvitationToArena: " + e),
                                    e.status === "success" ? i.fire(u.inviteToMatchStarted, {
                                        opponentData: e.opponent_data
                                    }, !0) : (a.error("Cannot create invitation on OK side: ", e),
                                        i.fire(u.inviteToMatchFailed, null, !0)), {
                                        status: e.status
                                    }
                            }).fail(function(e, t, n) {
                                a.error(("Cannot create invitaiton on OK side: ",
                                        n)),
                                    i.fire(u.inviteToMatchFailed, null, !0)
                            })
                    }

                    function tt(e) {
                        p = e,
                            y = e.odnoklassnikiConfig,
                            E = e.game_slug,
                            S = e.subplatform,
                            w = e._getUrlParameters(),
                            a.debug("checking if isOdnoklassnikiEnv is true"),
                            q() ? (a.debug("isOdnoklassnikiEnv is true"),
                                i.on(u.getHomeButton, mt),
                                p._isAndroid && H && SG_jQuery("head").append('<meta name="theme-color" content="#E57704">'),
                                p._isMobile() || (F(),
                                    I()),
                                Q(function(e) {
                                    if (e) {
                                        a.error(e);
                                        return
                                    }
                                    i.fire(u.socialModuleReady, {
                                            handler: p.odnoklassnikieHandler,
                                            name: c
                                        }),
                                        s = !0
                                })) : a.debug("isOdnoklassnikiEnv is false")
                    }

                    function nt(e) {
                        if (e.rtm) {
                            i.fire(u.showRTMShop, {
                                orders: y.orderPackages,
                                currency: t
                            });
                            return
                        }
                        r.createPopup({
                                type: "store",
                                scaleFactor: e.scaleFactor,
                                orders: y.orderPackages,
                                currency: t
                            }),
                            a.debug("Shop button clicked")
                    }

                    function rt(e) {
                        return n.ajax({
                            method: "GET",
                            dataType: "json",
                            url: v + "v1/user/" + p.user.userId + "/friends?k=" + p.user.authToken
                        }).done(function(t) {
                            return e(t)
                        }).fail(function() {
                            a.error("failed to getOkFriends"),
                                a.error(arguments),
                                e({
                                    status: "failed"
                                })
                        })
                    }

                    function it(e, t) {
                        return a.debug("getOkFriendsHighscores called: ", e),
                            n.ajax({
                                method: "GET",
                                dataType: "json",
                                url: v + "v1/user/" + p.user.userId + "/game/" + p.gid + "/friends_highscores?k=" + p.user.authToken
                            }).done(function(e) {
                                return t(e)
                            }).fail(function() {
                                a.error("failed to getOkFriendsHighscores"),
                                    a.error(arguments),
                                    t({
                                        status: "failed"
                                    })
                            })
                    }

                    function st(e) {
                        a.debug("Gifts are disabled for now, executing callback with no params"),
                            e();
                        return
                    }

                    function ot(e, t, n) {
                        n({
                            status: 501
                        })
                    }

                    function ut(e, t, r) {
                        a.debug("Gifts are disabled for now, executing callback with no params"),
                            r();
                        return
                    }

                    function at(e) {
                        a.debug("Register game request callback called"),
                            typeof e == "function" ? m = e : a.debug("Cannot register game request callback. Callback is not a function")
                    }

                    function ft(e, t) {
                        a.debug("OK is using platform highscore module", e),
                            p.highscoresHandler.isInitiated() || a.debug("Score is not send. Highscore module not initialized. Score will not be send");
                        try {
                            t()
                        } catch (n) {
                            a.debug(n)
                        }
                    }

                    function lt(e) {
                        return e.match(/\.(jpeg|jpg|gif|png)$/) != null
                    }

                    function ct(e, t, n) {
                        try {
                            a.debug("Post on ok wall called: " + e, t),
                                _ = n;
                            if (h) {
                                var r = {
                                    media: [{
                                        type: "text",
                                        text: e
                                    }]
                                };
                                t && lt(t) && r.media.push({
                                        type: "image",
                                        src: t
                                    }),
                                    h.UI.postMediatopic(r, !1)
                            }
                        } catch (i) {
                            n({
                                    status: "error"
                                }),
                                a.debug(i)
                        }
                    }

                    function ht(e) {
                        b && (a.debug("Purchase button clicked for package: ", e.order),
                            vt(e.order.packageName, e.order.packageDescription, e.order.packageSlug, e.order.packagePrice, e.callback))
                    }

                    function pt() {
                        return {}
                    }

                    function dt(e) {
                        var t;
                        for (var n = 0; n < y.orderPackages.length; n++)
                            if (e === y.orderPackages[n].packageSlug) {
                                t = y.orderPackages[n];
                                break
                            }
                        return t
                    }

                    function vt(e, n, r, i, s) {
                        try {
                            D = s || function() {};
                            if (!b || !h)
                                throw new Error("sdk not loaded!!!!");
                            if (!r)
                                throw new Error("no package slug passed");
                            T = dt(r);
                            if (!T)
                                throw new Error("no package found for slug: " + r);
                            a.debug("trigger OK purchase called"),
                                a.debug(T),
                                z(T.packageSlug, function(e) {
                                    a.debug("success to requestNewOrder"),
                                        a.debug(e),
                                        M["popLayer.payment.productHash"] = e.odnoklassniki_hash;
                                    if (p._isMobile()) {
                                        var n = {
                                                name: T.packageName,
                                                price: T.packagePrice,
                                                code: e.id
                                            },
                                            r = SG_jQuery.md5("application_key=" + y["app-key"] + "code=" + n.code + "name=" + n.name + "price=" + n.price + "session_key=" + h.Client.sessionKey + h.Client.sessionSecretKey);
                                        a.debug("Payment signature", " ----------->" + r);
                                        var i = "https://m.ok.ru/api/show_payment?application_key=" + y["app-key"] + "&session_key=" + h.Client.sessionKey + "&sig=" + r + "&" + SG_jQuery.param(n);
                                        a.debug("Widget link", i),
                                            window.open(i)
                                    } else
                                        h.UI.showPayment(T.packageName, T.packageDescription, e.id, T.packagePrice, null, JSON.stringify({
                                            orderId: e.id
                                        }), t, "true", M)
                                }, function(e) {
                                    a.error("failed to requestNewOrder"),
                                        a.error(e)
                                })
                        } catch (o) {
                            s(o),
                                a.error(o)
                        }
                    }

                    function mt(e) {
                        if (q() && p._isMobile()) {
                            var t = SG_jQuery("<div class='sgOkWidget'> <a href='https://m.odnoklassniki.ru' id='returnToOK' style='display:block;height:32px;width:32px;margin:0;padding:0;border:0;border-radius:4px;background:url(https://st.mycdn.me/res/i/custom/widget/back2ok2.png) no-repeat 6px 6px #ed812b;'> </a></div>");
                            e && e.callback && typeof e.callback == "function" && e.callback(t)
                        }
                    }

                    function gt(e) {
                        g = e
                    }
                    var e = "//api.ok.ru/js/fapi5.js",
                        t = "ok",
                        o = "https://m.softgames.de",
                        f = "https://core.gamesmedia.de",
                        l = "/odnoklassniki/orders",
                        c = "Odnoklassnikie",
                        h = null,
                        p = null,
                        d, v = "http://m.softgames.de/api/".replace("http:", "https:"), ///////////////////-----------------
                        m, g, y, b = !1,
                        w, E, S, x = null,
                        T, N = "invitationToMatch",
                        C = "matchAcceptance",
                        k, L, A = null,
                        O = !1,
                        M = {},
                        h, _, D, P, H = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
                    i.on(u.softgamesReady, tt),
                        i.on(u.kirkUserReady, gt),
                        this.showOkRequestBox = ot,
                        this.getAcceptedGifts = st,
                        this.sendGift = ut,
                        this.NAME = c,
                        this.getConfig = j,
                        this.displayInvite = U,
                        this.getFriendsList = rt,
                        this.sendGameRequest = ut,
                        this.displayGameRequest = ot,
                        this.registerGameRequestCallback = at,
                        this.sendHighscore = ft,
                        this.getHighscoresList = it,
                        this.postMessageOnWall = ct,
                        this.getPurchaseItems = pt,
                        this.triggerPurchase = vt,
                        this.currentOkUserIsNotValid = G,
                        this.isSocialModuleReady = B
                };
            e.prototype.odnoklassnikieHandler = new f,
                a.debug("Added odnoklassnikieHandler to Softgames-Prototype")
        } catch (l) {
            throw console && console.error("[" + o + "] " + l.message, l.stack),
                l
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window.multiplayerPopup),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "multiplayerAsyncClient",
            s = {
                userGameDataCurrencyUpdate: "userGameDataCurrencyUpdate",
                userGameDataExperienceUpdate: "userGameDataExperienceUpdate",
                userGameDataLevelUp: "userGameDataLevelUp",
                coreMatchCreated: "coreMatchCreated"
            };
        try {
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function(e, t, n) {
                    function u(e, t, n) {
                        t && t.blind !== undefined && t.blind !== null && (r.fire(s.coreMatchCreated, t),
                                r.fire(s.userGameDataCurrencyUpdate, -t.blind)),
                            typeof n == "function" && n(e, t)
                    }

                    function a(e, t) {
                        e.ingameCurrencyPrize !== undefined && e.ingameCurrencyPrize !== null && r.fire(s.userGameDataCurrencyUpdate, e.ingameCurrencyPrize),
                            e.experienceUpdate !== undefined && e.experienceUpdate !== null && e.experienceUpdate > 0 && r.fire(s.userGameDataExperienceUpdate, {
                                experience: e.experienceUpdate,
                                experienceLevel: e.experienceLevelUpdate,
                                experienceCurrentLevelPercentage: e.experienceCurrentLevelPercentage
                            }),
                            typeof e.experienceLevelUpdate == "number" && e.experienceLevelUpdate > 0 && r.fire(s.userGameDataLevelUp, {
                                reward: e.levelUpReward
                            }),
                            typeof t == "function" && t(e)
                    }
                    if (!e)
                        throw new Error("No userId defined!");
                    if (!t)
                        throw new Error("No gameSlug defined!");
                    var i = new window.SoftgamesMultiplayerAsyncService(e, t, n);
                    this.getActiveMatches = function(e, t, n) {
                            o.debug("getActiveMatches called"),
                                i.getActiveMatches(e, t, n)
                        },
                        this.getRecentMatches = function(e) {
                            o.debug("getRecentMatches called"),
                                i.getRecentMatches(e)
                        },
                        this.createMatch = function(e, t, n, r, s) {
                            o.debug("createMatch called"),
                                i.createMatch(e, t, n, r, function(e, t) {
                                    u(e, t, s)
                                })
                        },
                        this.getRandomOpponent = function(e, t) {
                            o.debug("getRandomOpponent called"),
                                i.getRandomOpponent(e, t)
                        },
                        this.getStats = function(e) {
                            o.debug("getStats called"),
                                i.getStats(e)
                        },
                        this.setScore = function(e, t, n, r, s) {
                            typeof r == "function" && (s = r,
                                    r = !1),
                                o.debug("setScore called"),
                                i.setScore(e, t, n, r, function(e) {
                                    a(e, s)
                                })
                        },
                        this.setScores = function(e, t) {
                            o.debug("setScores called"),
                                i.setScores(e, t)
                        },
                        this.skipTurn = function(e, t) {
                            o.debug("skipTurn called"),
                                i.skipTurn(e, t)
                        },
                        this.pokeMatch = function(e, t) {
                            o.debug("pokeMatch called"),
                                i.pokeMatch(e, t)
                        },
                        this.getLeaderboard = function(e, t, n) {
                            o.debug("getLeaderboard called"),
                                i.getLeaderboard(e, t, n)
                        },
                        this.getLeaderboardInfo = function(e) {
                            o.debug("getLeaderboardInfo called"),
                                i.getLeaderboardInfo(e)
                        },
                        this.getUserInfo = function(e) {
                            o.debug("getUserInfo called"),
                                i.getUserInfo(e)
                        },
                        this.getMatch = function(e, t) {
                            o.debug("getMatch called", e),
                                i.getMatch(e, t)
                        },
                        this.getMatchResult = function(e, t) {
                            o.debug("getMatchResult called", e),
                                i.getMatchResult(e, function(e) {
                                    a(e, t)
                                })
                        }
                };
            window.SoftgamesMultiplayerAsyncClient = u
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "multiplayerAsyncLeaderboard",
            s = 36e5,
            o = {
                leaderboardReward: "leaderboardReward",
                confirmLeaderboardReward: "confirmLeaderboardReward",
                userGameDataCurrencyUpdate: "userGameDataCurrencyUpdate"
            };
        try {
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var u = new t(i),
                a = function(e, t, n) {
                    function d(e, t) {
                        u.debug("Requesting page: ", e),
                            i.getLeaderboard(e, f, t)
                    }

                    function v(e) {
                        a = 1,
                            l = !1,
                            d(a, function(t) {
                                c = t,
                                    typeof e == "function" && e(t)
                            })
                    }

                    function m(e) {
                        a += 1;
                        if (l) {
                            if (typeof e == "function") {
                                var t = JSON.parse(JSON.stringify(c));
                                t.leaderboard = [],
                                    e(t)
                            }
                        } else
                            d(a, function(t) {
                                c = t,
                                    typeof e == "function" && e(t),
                                    t.leaderboard.length < f && (l = !0)
                            })
                    }

                    function g(e, t) {
                        d(e, t)
                    }

                    function y() {
                        a = 0,
                            l = !1
                    }

                    function b(e) {
                        u.debug("Requesting leaderboard info"),
                            i.getLeaderboardInfo(function(t) {
                                typeof e == "function" && e(t)
                            })
                    }

                    function w(e) {
                        u.debug("Requesting user rank"),
                            i.getUserInfo(function(t) {
                                typeof e == "function" && e({
                                    user: t.leaderboard[0] ? t.leaderboard[0].user : null,
                                    position: t.leaderboard[0] ? t.leaderboard[0].position : null,
                                    earnedIngameCurrency: t.leaderboard[0] ? t.leaderboard[0].earnedIngameCurrency : null,
                                    highscore: t.leaderboard[0] ? t.leaderboard[0].highscore : null,
                                    beginningOfPeriod: t.beginningOfPeriod,
                                    endOfPeriod: t.endOfPeriod,
                                    totalAmountOfUsers: t.totalAmountOfUsers,
                                    division: t.division
                                })
                            })
                    }

                    function E() {
                        i.confirmReward(h, function() {
                            r.fire(o.userGameDataCurrencyUpdate, p),
                                r.remove(o.confirmLeaderboardReward, E),
                                h = null,
                                p = 0
                        })
                    }

                    function S(e) {
                        e.acceptId !== undefined && (h = e.acceptId,
                            p = e.reward,
                            r.on(o.confirmLeaderboardReward, E),
                            r.fire(o.leaderboardReward, {
                                position: e.position,
                                reward: e.reward,
                                division: e.division
                            }, !0))
                    }

                    function x() {
                        i.getLeaderboardResults(S),
                            setTimeout(function() {
                                x()
                            }, s)
                    }
                    if (!e)
                        throw new Error("No userId defined!");
                    if (!t)
                        throw new Error("No gameSlug defined!");
                    var i = new window.SoftgamesMultiplayerAsyncService(e, t, n),
                        a = 0,
                        f = 20,
                        l = !1,
                        c, h = null,
                        p = 0;
                    this.reset = y,
                        this.getFirstPage = v,
                        this.getNextPage = m,
                        this.getPage = g,
                        this.getUserRank = w,
                        this.getInfo = b
                };
            window.SoftgamesMultiplayerAsyncLeaderboard = a
        } catch (f) {
            throw console && console.error("[" + i + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    "use strict",
    function(e, t, n, r, i, s, o, u) {
        var a = e.prototype.events,
            f = "multiplayerAsync",
            l = "2.1.3",
            c = {
                kirkUserReady: "kirkUserReady",
                softgamesReady: "softgamesReady",
                gameLevelFinished: "levelFinished",
                gameGameOver: "gameGameOver",
                gameStarted: "gameStarted",
                gameReadyForMatch: "readyForMatch",
                gamePageDisplayed: "gamePageDisplayed",
                userLogInCompleted: "userLogInCompleted",
                levelUp: "userGameDataLevelUp",
                experienceUpdate: "userGameDataExperienceUpdate",
                closePopup: "closePopup",
                createLoginIframe: "createMPLoginIframe",
                setFreeCurrencyText: "setFreeCurrencyText",
                leaderboardReward: "leaderboardReward",
                trackEvent: "trackFlurryEvent",
                userGameDataInitialized: "userGameDataInitialized",
                changeCurrency: "changeCurrency",
                currencyUpdated: "currencyUpdated",
                scrollNumbers: "scrollNumbers",
                firstPageLoaded: "firstPageLoaded",
                shopButtonClicked: "shopButtonClicked",
                multiplayerLobbyDisplayed: "multiplayerLobbyDisplayed",
                inviteFriendsButtonClicked: "inviteFriendsButtonClicked"
            },
            h = "MP",
            p = "multiplayerAddOn",
            d = {
                clickedMultiplayerButton: "Start Multiplayer clicked",
                winAgainsBot: "Win agains bot",
                loseAgainstBot: "Lose against bot",
                drawAgainstBot: "Draw against bot",
                startedMultiplayerThroughParam: "Started Multiplayer through param",
                clickedNativeMultiplayerButton: "Native Multiplayer clicked",
                clickedSignupFromLobby: "user logged in through lobby button",
                clickedSignupFromProfilePopUp: "user logged in through profile popup button",
                clickedSignupFromMatchResults: "user logged in through match results button",
                clickedPlayButton: "play button clicked",
                clickedPracticeButton: "practice button clicked",
                clickedFreeCurrencyButtonWhenReady: "free currency button was clicked when it was ready",
                clickedFreeCurrencyButtonWhenNotReady: "free currency button was clicked when it wasn't ready",
                clickedLeaderboardButtonFromLobby: "Leaderboard clicked from lobby",
                clickedShopButtonFromLobby: "clicked shop button from Lobby",
                clickedProfileButtonWasLoggedIn: "User profile clicked and user was logged in with fb",
                clickedProfileButtonWasNotLoggedIn: "User profile clicked and user was not logged in with fb",
                clickedLeaderboardButtonFromLeagueSelection: "Leaderboard clicked from league selection",
                clickedShopButtonFromLeagueSelection: "clicked shop button from league selection",
                clickedBackButtonFromLeagueSelection: "clicked back button from league selection",
                clickedLeague: "clicked league",
                clickedLeagueNotEnoughCurrency: "clicked league but didn't have enough currency",
                clickedBackButtonFromLeaderboard: "clicked back button from leaderboard",
                finishedMatch: "Match finished",
                clickedLeaderboardButtonFromMatchResults: "Leaderboard clicked from match results",
                clickedFBShareButtonFromMatchResults: "FB share from match results clicked",
                clickedBackButtonFromMatchResults: "clicked back button from match results",
                clickedPlayAgainButton: "clicked play again button",
                clickedPlayAgainButtonNotEnoughCurrency: "clicked play again button but didn't have enough currency"
            },
            v = {
                win: "win",
                draw: "draw",
                loss: "lose",
                challenge: "challenge",
                start: "start"
            },
            m = {
                dashboard: "dashboard",
                leaderboard: "leaderboard",
                profile: "profile",
                spinner: "spinner",
                matchResults: "matchResults",
                matchInfo: "matchInfo",
                lobby: "lobby",
                leagueSelection: "leagueSelection"
            },
            g = {
                freeCoins: "freeCoins",
                notEnoughCoins: "notEnoughCoins",
                levelUp: "levelUp",
                login: "login",
                signup: "signup",
                leaderboardResults: "leaderboardResults"
            },
            y = "sg-multiplayer-async-played-",
            b = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/profile-26dbe49732a4dbb5e9a5440c9ddbcb4a.jpg",
            w = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/leaderboard-icon-96268fd3f5d342e6e5b6ba97d21af40a.png",
            E = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/timer-icon-e69b50ab7f8aef40327d8a48afe00113.png",
            S = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/shop-icon-59f085fc73f82f2ee9ec8fbb14a2c8c1.png",
            x = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/sound_disabled-36d989fbd4395406211704ec966dc8f9.png",
            T = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/sound_enabled-55399924cafafbd3eeb2b94d3a3003c8.png",
            N = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/back-icon-671a3a6e775f332aa4ad4929e53aefc4.png",
            C = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/lock-icon-a30aed327587cf5dec5d83724d7fac11.png",
            k = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/shine-17111d8de1b1e0446d8d81352004f97a.png",
            L = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/button_next-9f2255a54191e946beee4a792ec5fa61.png",
            A = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/button_prev-e1ef82d615a9d5bab5a97d87ee87424d.png",
            O = "//d3tlss08qwqpkt.cloudfront.net/assets/multiplayer/plus_green-825d203fc6ac83b0997a910a80de5508.png",
            M = 440,
            _ = "sgFbLogin",
            D = 100,
            P = "use-fast-flow";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!t)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!a)
                throw new Error("No eventManager defined!");
            var H = new n(f),
                B = function() {
                    function Ft(e) {
                        switch (e) {
                            case v.win:
                                return d.winAgainsBot;
                            case v.draw:
                                return d.drawAgainstBot;
                            case v.loss:
                                return d.loseAgainstBot
                        }
                    }

                    function It(e) {
                        return e + "(" + h + ")"
                    }

                    function qt(e, t) {
                        t === undefined && (t = {}),
                            ct.track(It(e), t, l),
                            ht.sendEvents(ht.createEvent(It(e), t, !1)),
                            pt.sendEvents(pt.createEvent(p, null, !0))
                    }

                    function Rt(e) {
                        Ct = e,
                            H.debug("Betting leagues definitions: ", Ct)
                    }

                    function Ut() {
                        if (!Lt)
                            return;
                        if (!At || !Ot)
                            return;
                        $t()
                    }

                    function zt(e) {
                        H.debug("on user loaded: ", e),
                            Et = e,
                            it = new i.SoftgamesMultiplayerAsyncClient(Et.userId, St, rt.locale),
                            ft = new i.SoftgamesMultiplayerAsyncLeaderboard(Et.userId, St, rt.locale),
                            ut = new i.SoftgamesBettingLeaguesService(St, rt.locale),
                            ut.getList(Rt),
                            lt.refresh(),
                            st = new i.SoftgamesUserService(Et.userId, e.authToken, St, ot),
                            C = i.softgames.user == undefined || i.softgames.user.known != 0,
                            q = i.softgames.user.validEmail,
                            nn(),
                            At = !0,
                            Ut()
                    }

                    function Wt() {
                        Ot = !0,
                            Ut()
                    }

                    function Xt() {
                        if (rt.gameFont) {
                            var e = s.createElement("style");
                            e.appendChild(s.createTextNode("          @font-face {              font-family: multiplayer-font;              src: url(" + rt.gameFont + ");          }          ")),
                                s.head.appendChild(e)
                        }
                    }

                    function Vt() {
                        wn(),
                            it.getRandomOpponent(!0, function(e) {
                                or(e)
                            })
                    }

                    function $t() {
                        if (!F && !e)
                            var t = setInterval(function() {
                                lt.isInitiated() && rt.userGameDataHandler.isInitiated() && (e = !0,
                                    clearInterval(t),
                                    Jt())
                            }, 100)
                    }

                    function Jt() {
                        H.debug("Multiplayer Clicked, Launching Multiplayer"),
                            a.on(c.gameReadyForMatch, Vt),
                            a.on(c.gameLevelFinished, $n),
                            a.on(c.levelUp, en),
                            a.on(c.experienceUpdate, tn),
                            a.on(c.createLoginIframe, function(e) {
                                pr(e.redirectTo, e.element, e.type, e.width, e.height, e.id, e.referral)
                            }),
                            a.on(c.setFreeCurrencyText, Ar),
                            a.on(c.trackEvent, function(e) {
                                qt(e.event)
                            }),
                            u.init(),
                            a.on(c.userGameDataInitialized, Yt),
                            a.on(c.changeCurrency, Qt),
                            a.on(c.currencyUpdated, Gt),
                            a.on(c.scrollNumbers, function(e) {
                                rr(rt._parseGroupedFloat(e.start), rt._parseGroupedFloat(e.end), e.duration, e.element, e.completeCallback)
                            }),
                            t(i).on("orientationchange", Qr),
                            cn(An),
                            Xt(),
                            Kt(),
                            nt = !0
                    }

                    function Kt() {
                        if (_t.fontCss) {
                            var e = s.createElement("style");
                            e.appendChild(s.createTextNode(_t.fontCss)),
                                s.head.appendChild(e)
                        }
                    }

                    function Qt(e) {
                        e.value && rt.userGameDataHandler.addCurrency(e.value)
                    }

                    function Gt(e) {
                        e && a.fire(c.scrollNumbers, {
                            start: rt._parseGroupedFloat(t(".currency-value").text()),
                            end: rt._parseGroupedFloat(t(".currency-value").text()) + e,
                            duration: 500,
                            element: ".currency-value"
                        })
                    }

                    function Yt() {
                        t(".currency-value").length && t(".currency-value").text(zn()),
                            t(".level-container .level").text(rt.userGameDataHandler.getExperienceLevel()),
                            t(".mp-progress").css("width", rt.userGameDataHandler.getExperiencePercentage() + "%")
                    }

                    function Zt(e) {
                        Y = e,
                            H.debug("settings leaderboard results: ", e),
                            G = !0,
                            n.isOpen() && !t(".popup-container").length && B !== m.matchInfo && Cr()
                    }

                    function en(e) {
                        X = !0,
                            V = e.reward
                    }

                    function tn(e) {
                        $ = e.experience
                    }

                    function nn(e) {
                        ft.getUserRank(function(t) {
                            H.debug("getting user data: " + t),
                                t !== undefined && (Bt.user.rank = t.position,
                                    jt.highscore = t.highscore,
                                    jt.rank = t.position,
                                    jt.numberOfPlayers = t.totalAmountOfUsers),
                                typeof e == "function" && e(t)
                        })
                    }

                    function rn(e) { ///////////////////////---------------------
                        St = e.game_slug,
                            ot = "http://" + e.host,
                            rt = e,
                            on()
                    }

                    function sn() {
                        var e = !1;
                        return s && s.location && (e = "https:" === s.location.protocol),
                            e ? "https:" : "http:"
                    }

                    function on(e) {
                        var t = s.createElement("script");
                        // t.src = sn() + "//dop3jnx8my3ym.cloudfront.net/AnimationLibs/jquery.path.js", t.async = !0, t.type = "text/javascript", t.onreadystatechange = t.onload = function() { if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete") t.onreadystatechange = t.onload = null, e && e() }, s.getElementsByTagName("head")[0].appendChild(t)
                        t.src = "../assets/jquery.path.js",
                            t.async = !0,
                            t.type = "text/javascript",
                            t.onreadystatechange = t.onload = function() {
                                if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")
                                    t.onreadystatechange = t.onload = null,
                                    e && e()
                            },
                            s.getElementsByTagName("head")[0].appendChild(t)
                    }

                    function un() {
                        var e = t(".async-multiplayer-start-multiplayer-button");
                        e.animate({
                            opacity: 0
                        }, {
                            duration: 500,
                            complete: function() {
                                e.remove()
                            }
                        })
                    }

                    function an(e, t, n) {
                        if (!e || e == 0)
                            return 0;
                        var r = n.height();
                        return e / 100 * r - t / 2 < 0 ? 0 : e / 100 * r - t / 2
                    }

                    function fn(e, t, n) {
                        if (!e || e == 0)
                            return 0;
                        var r = n.width();
                        return e / 100 * r - t / 2 < 0 ? 0 : e / 100 * r - t / 2
                    }

                    function ln() {
                        i.addEventListener("message", function(e) {
                            try {
                                var t = e.data;
                                if (t.sender === _)
                                    switch (t.request) {
                                        default: F = !0,
                                        o.createPopup({
                                            type: g.login,
                                            scaleFactor: z
                                        })
                                    }
                            } catch (n) {
                                H.error(n)
                            }
                        })
                    }

                    function cn(e) {
                        it ? (pn(),
                            Tn(),
                            Nn(),
                            hn(),
                            sr(".sg-modal-window-multiplayerAsync .match-content, .sg-modal-window-multiplayerAsync .portrait-spinner, .sg-modal-window-multiplayerAsync .multiplayer-async-user-profile, .sg-modal-window-multiplayerAsync .multiplayer-async-leaderboard-modal"),
                            typeof e == "function" && e()) : H.error("Service client not defined.")
                    }

                    function hn() {
                        wt = t("<div>").addClass("sg-bootstrap"),
                            wt.append(dn()).append(Mt.league_selection).append(vn())
                    }

                    function pn() {
                        vt = t("<div>").addClass("sg-bootstrap"),
                            vt.append(dn()).append(vn()),
                            vt.append(Mt.leaderboard),
                            H.debug("Leaderboard Created")
                    }

                    function dn() {
                        return Mt.fast_flow_header
                    }

                    function vn() {
                        return Mt.footer
                    }

                    function mn(e) {
                        t(".multiplayer-last-user").removeClass("multiplayer-last-user");
                        var n = t(".users");
                        Rr(n),
                            ft.getNextPage(function(r) {
                                try {
                                    t(".division").text(r.division),
                                        K = r.endOfPeriod || K,
                                        Yr(K - (new Date).getTime() / 1e3, t(".timer")),
                                        r.leaderboard.forEach(function(e) {
                                            gn(n, e)
                                        }),
                                        t(".users .user").last().addClass("multiplayer-last-user"),
                                        typeof e == "function" && e(r),
                                        Ur()
                                } catch (i) {
                                    H.error("Error getting leaderboard data: ", i)
                                }
                            })
                    }

                    function gn(e, n) {
                        e.append(Mt.leaderboard_match);
                        var r = t(".user").last();
                        gr(r.find(".profile-picture img"), n.user.avatarURI || b),
                            r.find(".name").append(n.user.name),
                            r.find(".position").append("#" + n.position),
                            r.find(".earned-currency-value").text(n.earnedIngameCurrency),
                            r.find(".currency img").attr("src", rt.gameCurrencyIcon),
                            parseInt(n.user.id) !== Et.userId ? n.isMyTurn ? r.data("user-id", n.user.id).data("user-xpromo", n.user.xpromo).data("user-wrapper", n.user.wrapper) : r.css("cursor", "default") : (r.find(".play-btn-container").remove(),
                                r.addClass("own-entry"))
                    }

                    function yn(e) {
                        var n = t(".users");
                        t(".own-entry-top").remove();
                        if (e && e.user) {
                            n.prepend(Mt.leaderboard_match);
                            var r = t(n).find(".user").first();
                            gr(r.find(".profile-picture img"), e.user.avatarURI || b, function() {
                                    br(r, r.find(".profile-picture").height())
                                }),
                                r.find(".name").append(e.user.name),
                                r.find(".position").append("#" + e.position),
                                r.addClass("own-entry-top own-entry")
                        }
                    }

                    function bn(e, n) {
                        gt = t("<div>").addClass("sg-bootstrap"),
                            rt.gameLandscape ? gt.append(Mt.match_results) : gt.append(Mt.match_results_portrait),
                            gt.find(".fast-match-info").prepend(dn()).append(vn()),
                            gt.find(".fast-match-info").data("mp-state", e);
                        var r = gt.find(".fast-match-info .title"),
                            i = gt.find(".mp-match-result-you"),
                            s = gt.find(".mp-match-result-other"),
                            o = gt.find(".winner-border"),
                            u = gt.find(".winner-shine"),
                            a = b;
                        gt.find(".share-button-container").hide(),
                            gt.find(".continue-button-container").hide(),
                            gt.find(".profile-image-row").css("margin-top", "0"),
                            e === v.win ? (i.text(I18n.t("multiplayer.winner")),
                                s.css("visibility", "hidden"),
                                gt.find(".fast-match-info .your-profile-picture img").addClass("winner")) : e === v.draw ? (i.append("It's a draw!").removeClass("col-xs-5").addClass("col-xs-12"),
                                s.hide(),
                                o.hide(),
                                u.hide()) : e === v.loss ? (s.text(I18n.t("multiplayer.winner")),
                                i.css("visibility", "hidden"),
                                gt.find(".fast-match-info .opponent-profile-picture img").addClass("winner")) : e === v.challenge && (i.hide(),
                                s.hide(),
                                o.hide(),
                                u.hide(),
                                gt.find(".xp-increase").hide()),
                            gt.find(".fast-match-info .your-points").append(n.myScore || n.myScore == 0 ? n.myScore : "-"),
                            gt.find(".fast-match-info .opponent-points").append(n.opponentScore || n.opponentScore == 0 ? n.opponentScore : "-"),
                            a = n && n.myOpponent && n.myOpponent.avatarURI ? n.myOpponent.avatarURI : b,
                            gt.find("#play-again-btn").css("background-image", "url(" + rt.gamePlayAgainButton + ")"),
                            gt.find(".share-btn").css("background-image", "url(" + rt.gameFbBtnSmall + ")"),
                            gt.find(".vs-wrapper").hide(),
                            gt.find(".fast-match-info .betting-pot img").attr("src", rt.gameCurrencyIcon),
                            o.insertAfter(gt.find(".winner")),
                            u.insertAfter(gt.find(".winner"));
                        var f = "";
                        n && n.myOpponent && (n.myOpponent.name ? f = n.myOpponent.name : f = "Guest"),
                            o.find("img").attr("src", rt.gameWinnerBorder),
                            gt.find(".fast-match-info .your-profile-picture .profile").attr("src", Et.avatar || b),
                            gt.find(".fast-match-info .winner-shine").attr("src", k),
                            gt.find(".fast-match-info .opponent-profile-picture .profile").attr("src", a),
                            gt.find(".fast-match-info .opponent-name").append(f),
                            Mn(m.matchResults, gt)
                    }

                    function wn() {
                        yt = t("<div>").addClass("sg-bootstrap"),
                            rt.gameLandscape ? yt.append(Mt.match_info) : yt.append(Mt.match_info_portrait),
                            yt.find(".fast-match-info").prepend(dn()).append(vn());
                        var e = yt.find(".fast-match-info .title"),
                            n = "https://dop3jnx8my3ym.cloudfront.net/spinner.gif",
                            r = yt.find(".vs-wrapper");
                        yt.find(".opponent-name").hide(),
                            rt.gameLandscape && r.css("top", "-26"),
                            yt.find(".fast-flow-header .navigation-button, .points-count, .share-btn, .close-btn, .header-img, .winner-border, .rank-star, .continue-button-container, #multiplayer-async-leaderboard, .betting-pot, .bet-row, .value-container").hide(),
                            yt.find(".name").css("margin-bottom", "2px"),
                            yt.find(".fast-match-info .your-profile-picture .profile").attr("src", Et.avatar || b),
                            yt.find(".fast-match-info .vs-wrapper img").attr("src", rt.gameVs),
                            yt.find(".fast-match-info .opponent-profile-picture .profile").attr("src", n),
                            yt.find(".fast-match-info .bet-currency img").attr("src", rt.gameCurrencyIcon),
                            yt.find(".fast-match-info .betting-pot img").attr("src", rt.gameCurrencyIcon),
                            Mn(m.matchInfo, yt)
                    }

                    function En(e) {
                        var n = t("<div>").addClass("multiplayer-async-spinner-wrapper").attr("id", "multiplayer-async-spinner-wrapper");
                        rt.gameLandscape || n.addClass("portrait-spinner col-xs-offset-1 col-xs-10");
                        var r = t("<div>").addClass("multiplayer-async-spinner-container"),
                            i = t("<i>").addClass("fa fa-spinner fa-5x fa-spin").attr("id", "multiplayer-async-generic-spinner"),
                            s = t("<div>").addClass("multiplayer-async-spinner-text").append(e);
                        return r.append(i),
                            n.append(r).append(s),
                            n
                    }

                    function Sn(e, r, s, o) {
                        if (o && !n.isOpen() || !o) {
                            var u = xn();
                            n.open(m.spinner, e, s, function() {
                                t(i).trigger("resize.scale"),
                                    typeof r == "function" && r()
                            }, !0, u.width, u.height, !1, 0, u.cssClass, u.margin)
                        }
                    }

                    function xn() {
                        var e = Hn(),
                            n = si(t(".sg-modal-window-multiplayerAsync .modal-dialog")),
                            r = n.top + "px auto auto " + n.left + "px";
                        return {
                            height: e.height,
                            width: e.width,
                            cssClass: P,
                            margin: r
                        }
                    }

                    function Tn() {
                        mt = t("<div>").addClass("sg-bootstrap");
                        var e = t("<div>").addClass("multiplayer-async-user-profile col-xs-12 paddingless left right");
                        return e.append(Mt.profile),
                            mt.append(dn()).append(vn()),
                            mt.append(e),
                            mt
                    }

                    function Nn() {
                        bt = t("<div>").addClass("sg-bootstrap"),
                            bt.append(dn()).append(Mt.lobby).append(vn())
                    }

                    function Cn(e) {
                        t(".score-section .fa-spinner").remove();
                        if (e.user) {
                            t(".score-section div").first().toggle();
                            var n = t(".score-section .rank").empty(),
                                r = t("<div>").addClass("own-rank").append("#").append(e.position);
                            n.append(r).append("/").append(e.totalAmountOfUsers),
                                t(".best-score .value").text(e.highscore),
                                t(".division").text(I18n.t("multiplayer.active_tournament") + ": " + e.division)
                        } else {
                            var i = t("<div>").addClass("no-tournament").append(I18n.t("multiplayer.no_active_tournament"));
                            t(".score-section").empty().append(i)
                        }
                    }

                    function kn() {
                        B !== m.leaderboard || !n.isOpen() ? (ur(m.leaderboard, vt),
                            H.debug("Showing Leaderboard Modal")) : H.debug("Already on leaderboard page")
                    }

                    function Ln() {
                        B !== m.profile || !n.isOpen() ? (ur(m.profile, mt),
                            H.debug("Showing Profile Modal")) : H.debug("Already on profile page")
                    }

                    function An() {
                        B !== m.lobby || !n.isOpen() ? (ur(m.lobby, bt),
                                H.debug("Showing Lobby Modal")) : H.debug("Already on lobby page"),
                            a.fire(c.multiplayerLobbyDisplayed)
                    }

                    function On() {
                        B !== m.leagueSelection || !n.isOpen() ? (qt(d.clickedPlayButton),
                            ur(m.leagueSelection, wt),
                            H.debug("Showing League Selection Modal")) : H.debug("Already on League Selection page")
                    }

                    function Mn(e, t) {
                        B !== e || !n.isOpen() ? (ur(e, t),
                            H.debug("Showing League Selection Modal")) : H.debug("Already on " + e)
                    }

                    function _n() {
                        t(".sg-modal-window-multiplayerAsync, .fast-match-info, ." + P).css("visibility", "hidden")
                    }

                    function Dn() {
                        t(".sg-modal-window-multiplayerAsync, .fast-match-info, ." + P).css("visibility", "visible")
                    }

                    function Pn() {
                        var e = Hn();
                        if (rt._isMobile())
                            return e.width;
                        if (!rt.gameRatio)
                            return t(i).width();
                        var n = t(i).height() * rt.gameRatio;
                        return n > t(i).width() ? t(i).width() : n
                    }

                    function Hn() {
                        var e = {
                            width: t(i).width(),
                            height: t(i).height()
                        };
                        if (!rt.gameRatio || rt._isMobile() && !rt.gameLandscape)
                            return e;
                        var n = e.width / e.height,
                            r = {};
                        return rt.gameRatio > 1 ? (H.debug("game is wide"),
                                n > 1 ? (H.debug("screen is wide"),
                                    rt.gameRatio > n ? (H.debug("game is wider than screen"),
                                        r.height = e.width / rt.gameRatio,
                                        r.width = e.width) : (H.debug("screen is wider than game"),
                                        r.width = e.height * rt.gameRatio,
                                        r.height = e.height)) : (H.debug("screen is tall"),
                                    r.height = e.width / rt.gameRatio,
                                    r.width = e.width)) : (H.debug("game is tall"),
                                n > 1 ? (H.debug("screen is wide"),
                                    r.width = e.height * rt.gameRatio,
                                    r.height = e.height) : (H.debug("screen is tall"),
                                    rt.gameRatio < n ? (r.width = e.height * rt.gameRatio,
                                        r.height = e.height) : (r.height = e.width / rt.gameRatio,
                                        r.width = e.width))),
                            H.debug("dimensions, width " + r.width + " height: " + r.height),
                            r
                    }

                    function Bn() {
                        return M > t(i).width() ? t(i).width() : M
                    }

                    function jn(e, t) {
                        xt.myScore = t,
                            _n(),
                            Sn(En(I18n.t("multiplayer.fetching_results")), function() {
                                it.setScore(e, t, !0, function(e) {
                                    Vn(e),
                                        ri(".multiplayer-async-spinner-wrapper")
                                })
                            })
                    }

                    function Fn(e, r) {
                        t("#oriantationOverlay").length > 0 && t("#oriantationOverlay").css("z-index") !== "1051" && t("#oriantationOverlay").css("z-index", "1051"),
                            rt.gameLandscape || (t(".sg-modal-window-content").addClass("fast-flow-portrait"),
                                t(".fast-flow-header").addClass("fast-flow-portrait"),
                                t(".mp-footer").addClass("mp-footer-portrait")),
                            t("#multiplayer-async-leaderboard").css("background-image", "url(" + rt.gameLeaderboardBtn + ")"),
                            t(".sg-modal-window-multiplayerAsync .modal-dialog, .sg-modal-window-multiplayerAsync .modal-body").css("border-radius", "0");
                        var s = t(".sg-modal-window-multiplayerAsync"),
                            o = t(".currency-value").empty();
                        o.append(zn()),
                            Un(),
                            t(".mp-footer .footer-name").empty().append(Et.name || "Guest"),
                            t(".mp-footer .profile-img").attr("src", Et.avatar || b),
                            t(".level-container").css("background-image", "url(" + rt.gameLevelStar + ")"),
                            t(".store-plus").attr("src", rt.gamePlusBtn),
                            t(".level-container .level").text(rt.userGameDataHandler.getExperienceLevel()),
                            t(".mp-progress").css("width", rt.userGameDataHandler.getExperiencePercentage() + "%"),
                            t(".leaderboard-image img").attr("src", w),
                            t(".timer-img img").attr("src", E),
                            t(".back-btn-container .back-btn img").attr("src", N),
                            t(".store-container .store-img").attr("src", S),
                            t(".currency-shine").attr("src", k);
                        if (_t.disableSoundButton)
                            t(".mute-button").hide(),
                            t(".store-wrapper").addClass("col-xs-offset-4");
                        else {
                            var u = t(".mute-button .mute-image");
                            u.on("click", Rn),
                                Z ? u.attr("src", T) : u.attr("src", x)
                        }
                        C || t(".leaderboard-value-container, .leaderboard-image").hide(),
                            t(".logo img").attr("src", rt.gameLogo),
                            s.find(".header-img").attr("src", Et.avatar || b),
                            t(".currency-image img").attr("src", rt.gameCurrencyIcon),
                            jr(),
                            qr(),
                            Wn(),
                            t(i).off("resize.scale").on("resize.scale", function() {
                                var e = Hn();
                                z = Zr(t(".sg-modal-window-multiplayerAsync .sg-modal-window-content"), e.width, e.height),
                                    B !== m.matchResults && !rt._isMobile() && rt.gameLandscape && t(".prevent-scale").css("transform", "scale(" + 1 / z + ")").css("transform-origin", "50% 0"),
                                    setTimeout(function() {
                                        ti(t(".sg-modal-window-multiplayerAsync .modal-dialog"), e.width, e.height),
                                            ni(t(".sg-modal-window-multiplayerAsync .modal-dialog")),
                                            ri(ii()),
                                            Dn();
                                        var n = m.matchResults === B ? t(".fast-match-info") : t(".sg-modal-window-content"),
                                            r = 2 / z * parseInt(t(".modal-dialog").css("margin-top"));
                                        t(".mp-footer").css("bottom", n.height() - t(i).height() / z + r + "px")
                                    }, 0)
                            }).trigger("resize.scale"),
                            B !== m.matchInfo && B !== m.matchResults && Cr(),
                            cr(e, r),
                            t(".sg-modal-window-content").css("width", "100%"),
                            t(".modal-backdrop").css("position", "fixed"),
                            n.adjustSize(),
                            t(".sg-modal-window-multiplayerAsync .modal-body").css("padding", 0),
                            rt._isMobile() && t(".sg-modal-window-multiplayerAsync .modal-dialog").css("overflow", "scroll")
                    }

                    function In() {
                        return qn()
                    }

                    function qn() {
                        return softgames.odnoklassnikiHandler && softgames.odnoklassnikiHandler.isOdnoklassnikiEnv()
                    }

                    function Rn() {
                        Z ? (H.debug("disable sound"),
                                t(".mute-button .mute-image").attr("src", x),
                                kt.disableSound()) : (H.debug("enable sound"),
                                t(".mute-button .mute-image").attr("src", T),
                                kt.enableSound()),
                            Z = !Z
                    }

                    function Un() {
                        t(".hash").show(),
                            nn(function(e) {
                                var n = B !== m.matchResults ? Bt.user.rank : R;
                                t(".fast-flow-header .leaderboard-value").empty().append(n ? n : "-"),
                                    n || t(".hash").hide(),
                                    K = e.endOfPeriod,
                                    Yr(K - (new Date).getTime() / 1e3, t(".leaderboard-timer"), Un)
                            })
                    }

                    function zn() {
                        return rt.userGameDataHandler.getCurrency()
                    }

                    function Wn() {
                        var e = t(".back-btn");
                        e.on("click", function() {
                            B === m.leaderboard ? qt(d.clickedBackButtonFromLeaderboard) : B === m.leagueSelection ? qt(d.clickedBackButtonFromLeagueSelection) : B === m.matchResults && qt(d.clickedBackButtonFromMatchResults),
                                ar()
                        })
                    }

                    function Xn() {
                        $r(t(".multiplayer-last-user")) && (H.debug("last user on leaderboard visible, fetching more users"),
                            mn())
                    }

                    function Vn(e) {
                        var t;
                        e.result === undefined ? (t = v.challenge,
                            Tt = undefined) : (qt(d.finishedMatch),
                            xt.myOpponent.xpromo && qt(Ft(e.result)),
                            t = e.result,
                            Tt = e.rematch);
                        var n = {
                            myScore: xt.myScore,
                            opponentScore: e.opponentScore,
                            myOpponent: {
                                name: xt.myOpponent.name,
                                avatarURI: xt.myOpponent.avatarURI
                            }
                        };
                        bn(t, n)
                    }

                    function $n(e) {
                        try {
                            var t = rt._parseGroupedFloat(e.score);
                            t !== i.NaN ? xt !== undefined && xt !== null ? jn(xt.id, t) : H.debug("Any active match or matches") : H.error("Invalid score: " + e.score)
                        } catch (n) {
                            H.error(n)
                        }
                    }

                    function Jn(e, n) {
                        n.id !== undefined ? (xt = n,
                            setTimeout(function() {
                                ft.getUserRank(function(e) {
                                        R = e.position
                                    }),
                                    t(".opponent-profile-picture img").addClass("glow").attr("src", xt.myOpponent.avatarURI || b),
                                    t(".opponent-name").append(xt.myOpponent.name || "Guest").show(),
                                    t(".back-btn").hide(),
                                    t(".opponent-profile-picture .level-star").show(),
                                    nr()
                            }, Br(2e3, 3500))) : H.error("Cannot create match: ", n)
                    }

                    function Kn(e, t) {
                        setTimeout(function() {
                            Qn(e, t)
                        }, 1e3)
                    }

                    function Qn(e, n) {
                        t(".winner-title").css("opacity", 1).animate({
                            top: "-43px"
                        }, {
                            duration: 300,
                            complete: function() {
                                t(this).animate({
                                    top: "-52px"
                                }, {
                                    duration: 50,
                                    complete: function() {
                                        Gn(e, n)
                                    }
                                })
                            }
                        })
                    }

                    function Gn(e, n) {
                        if (typeof t.path != "undefined") {
                            var r = t(".value-container .value").text(n),
                                i = 100,
                                s = 30,
                                o = e === v.draw ? n / (s * 2) : n / s,
                                u = 1,
                                a = setInterval(function() {
                                    var n = rt._parseGroupedFloat(t(".value-container .value").text());
                                    if (n <= 0)
                                        clearInterval(a),
                                        setTimeout(function() {
                                            Yn()
                                        }, 500);
                                    else {
                                        var r = .5 * t(".betting-pot").width(),
                                            i = 0;
                                        rt.gameLandscape ? (e === v.win ? i = .31 * t(".betting-pot").width() : e === v.loss && (i = .67 * t(".betting-pot").width()),
                                            e === v.draw ? (ir(u++, r, 10, .31 * t(".betting-pot").width(), 30, ".your-animation-currency", ".betting-pot"),
                                                ir(u++, r, 10, .67 * t(".betting-pot").width(), 30, ".opponent-animation-currency", ".betting-pot")) : (ir(u++, r, 10, i, 30, ".your-animation-currency", ".betting-pot"),
                                                ir(u++, r, 10, i, 30, ".opponent-animation-currency", ".betting-pot"))) : (e === v.win ? i = .18 * t(".betting-pot").width() : e === v.loss && (i = .75 * t(".betting-pot").width()),
                                            e === v.draw ? (ir(u++, r, 14, .18 * t(".betting-pot").width(), 30, ".your-animation-currency", ".betting-pot"),
                                                ir(u++, r, 14, .75 * t(".betting-pot").width(), 30, ".opponent-animation-currency", ".betting-pot")) : (ir(u++, r, 14, i, 32, ".your-animation-currency", ".betting-pot"),
                                                ir(u++, r, 14, i, 32, ".opponent-animation-currency", ".betting-pot")))
                                    }
                                }, i);
                            (e === v.win || e === v.draw) && rr(rt._parseGroupedFloat(t(".currency-value").text()), rt._parseGroupedFloat(t(".currency-value").text()) + o * s, i * s, t(".currency-value")),
                                rr(n, 0, i * s, ".value-container .value", function() {
                                    t(".animation-currency").remove()
                                })
                        } else
                            on(function() {
                                Kn(e, n)
                            })
                    }

                    function Yn() {
                        U !== R ? (t(".leaderboard-image img").addClass("pulsating"),
                            t(".hash").show(),
                            rr(R || jt.numberOfPlayers, U, 1e3, ".leaderboard-value", function() {
                                t(".leaderboard-image img").removeClass("pulsating"),
                                    Zn()
                            })) : Zn()
                    }

                    function Zn() {
                        t(".xp-increase img").attr("src", O),
                            t(".betting-pot").animate({
                                opacity: 0
                            }, {
                                duration: 400
                            }),
                            t(".score").animate({
                                opacity: 1
                            }, {
                                duration: 500
                            }),
                            $ > 0 ? (rr(1, $, 400, ".xp-value"),
                                t(".xp-increase").animate({
                                    top: "40px"
                                }, {
                                    duration: 400,
                                    complete: function() {
                                        setTimeout(function() {
                                            t(".xp-increase").animate({
                                                opacity: 0,
                                                top: "7px"
                                            }, {
                                                duration: 300,
                                                complete: er
                                            })
                                        }, 1e3)
                                    }
                                })) : tr()
                    }

                    function er() {
                        X ? (X = !1,
                            t(".level-up").animate({
                                opacity: 1,
                                top: "39px"
                            }, {
                                duration: 400,
                                complete: function() {
                                    setTimeout(function() {
                                        t(".level-up").animate({
                                            opacity: 0,
                                            top: "7px"
                                        }, {
                                            duration: 400,
                                            complete: function() {
                                                var e = rt.userGameDataHandler.getExperienceLevel();
                                                t(".your-profile-picture .level").text(e),
                                                    setTimeout(function() {
                                                        o.createPopup({
                                                            type: g.levelUp,
                                                            scaleFactor: z,
                                                            level: e,
                                                            reward: V,
                                                            collectCallback: function() {
                                                                tr()
                                                            }
                                                        })
                                                    }, 500)
                                            }
                                        })
                                    }, 1e3)
                                }
                            })) : tr()
                    }

                    function tr() {
                        t(".footer-buttons, .share-button-container, .continue-button-container").show(),
                            In() && t(".share-button-container").remove()
                    }

                    function nr() {
                        if (typeof t.path != "undefined") {
                            var e = 100,
                                r = 30;
                            t(".betting-pot").show().animate({
                                    top: "100px"
                                }, {
                                    duration: 200,
                                    complete: function() {
                                        t(".bet-row, .value-container").show()
                                    }
                                }),
                                t(".vs-wrapper").animate({
                                    top: "26px"
                                }, {
                                    duration: 200
                                });
                            var i = rt._parseGroupedFloat(t(".your-bet-value").text()) / r,
                                s = 1,
                                o = setInterval(function() {
                                    var e = t(".your-bet-value"),
                                        r = t(".opponent-bet-value"),
                                        i = rt._parseGroupedFloat(e.text());
                                    i <= 1 ? (e.text(0),
                                        r.text(0),
                                        clearInterval(o),
                                        setTimeout(function() {
                                            n.close(),
                                                Jr()
                                        }, 2e3)) : rt.gameLandscape ? (ir(s++, 50, 0, 145, -79, ".your-animation-currency", ".your-bet"),
                                        ir(s++, 50, 0, -30, -80, ".opponent-animation-currency", ".opponent-bet")) : (ir(s++, 63, 0, 172, -78, ".your-animation-currency", ".your-bet"),
                                        ir(s++, 63, 0, -36, -75, ".opponent-animation-currency", ".opponent-bet"))
                                }, e);
                            rr(1, i * r * 2, e * r, ".betting-pot .value"),
                                rr(i * r, 0, e * r, ".opponent-bet-value"),
                                rr(i * r, 0, e * r, ".your-bet-value"),
                                rr(rt._parseGroupedFloat(t(".currency-value").text()), rt._parseGroupedFloat(t(".currency-value").text()) - i * r, e * r, ".currency-value", function() {
                                    t(".animation-currency").remove()
                                })
                        } else
                            on(nr)
                    }

                    function rr(e, n, r, i, s) {
                        console.log("scroll numbers: ", e, n, r, i, s);
                        var o = e < n && t(i).selector === ".currency-value",
                            u = t(".currency-shine"),
                            a = t(".shine-container");
                        o && (a.addClass("spin-and-pulse"),
                                u.addClass("spin"),
                                setTimeout(function() {
                                    a.removeClass("spin-and-pulse"),
                                        u.removeClass("spin")
                                }, 2e3)),
                            t({
                                val: rt._parseGroupedFloat(e)
                            }).animate({
                                val: rt._parseGroupedFloat(n)
                            }, {
                                duration: r,
                                easing: "swing",
                                step: function() {
                                    t(i).text(Math.ceil(this.val))
                                },
                                complete: function() {
                                    t(i).text(n),
                                        typeof s == "function" && s()
                                }
                            })
                    }

                    function ir(e, n, r, i, s, o, u) {
                        var a = t(o).first().clone();
                        a.attr("id", "animation-" + e),
                            a.css({
                                left: n + "px",
                                top: r + "px",
                                display: "block"
                            }),
                            t(u).append(a);
                        var f = Br(-1e3, 1e3),
                            l = Br(-1e3, 1e3),
                            c = {
                                start: {
                                    x: n,
                                    y: r,
                                    angle: f
                                },
                                end: {
                                    x: i,
                                    y: s,
                                    angle: l,
                                    length: .25
                                }
                            };
                        a.animate({
                            path: new t.path.bezier(c),
                            opacity: .2
                        }, {
                            duration: 600,
                            complete: function() {
                                t(this).remove()
                            }
                        })
                    }

                    function sr(e) {
                        if (_t.contentBackgroundColor) {
                            var t = s.createElement("style"),
                                n = "background-color: " + _t.contentBackgroundColor + " !important;";
                            _t.contentBorderSize && _t.contentBorderSize > 0 && (n += "border: " + _t.contentBorderSize + "px solid transparent;" + "-webkit-border-image: url(" + rt.gameContentBorder + ") 30 round;" + "-o-border-image: url(" + rt.gameContentBorder + ") 30 round;" + "border-image: url(" + rt.gameContentBorder + ") 30 round;"),
                                _t.contentBorderRadius && _t.contentBorderRadius > 0 && (n += " -webkit-border-radius:" + _t.contentBorderRadius + "px !important; " + "-moz-border-radius:" + _t.contentBorderRadius + "px !important;" + "border-radius:" + _t.contentBorderRadius + "px !important;");
                            var r = e + " {" + n + " }";
                            t.appendChild(s.createTextNode(r)),
                                s.head.appendChild(t)
                        }
                    }

                    function or(e, t) {
                        j = !1,
                            e.id !== undefined ? (Nt = e,
                                it.createMatch(e.id, at.id, !0, Jn),
                                D = [],
                                typeof t == "function" && t()) : (j = !0,
                                H.error("Cannot load random opponent: ", e))
                    }

                    function ur(e, r) {
                        fr(B),
                            B = e,
                            D.push({
                                modalName: e,
                                element: r
                            });
                        if (n.isOpen())
                            t(".sg-modal-window-multiplayerAsync .sg-modal-window-content").empty().append(r),
                            Fn(B, !1);
                        else {
                            var s = si(t(".sg-modal-window-multiplayerAsync .modal-dialog")),
                                o = s.top + "px auto auto " + s.left + "px";
                            n.open(e, r, null, function() {
                                Fn(e)
                            }, !0, Pn(), t(i).height(), !1, 0, P, o)
                        }
                    }

                    function ar() {
                        H.debug("Reached end of Modal flow History"),
                            An()
                    }

                    function fr(e) {
                        t(".sg-modal-window-content").css("width", "inherit"),
                            rt._isMobile() || e && mr(e).append(t(".back-btn-container")),
                            Q = [],
                            a.remove(c.userLogInCompleted, I);
                        switch (e) {
                            case m.leaderboard:
                                lr();
                                break;
                            case m.profile:
                                break;
                            case m.matchResults:
                                break;
                            case m.matchInfo:
                                break;
                            case m.lobby:
                                break;
                            case m.leagueSelection:
                        }
                    }

                    function lr() {
                        t(".sg-modal-window-multiplayerAsync .modal-body").css("overflow", "hidden"),
                            ft.reset()
                    }

                    function cr(e, t) {
                        switch (e) {
                            case m.leaderboard:
                                yr();
                                break;
                            case m.profile:
                                zr();
                                break;
                            case m.matchResults:
                                wr(t);
                                break;
                            case m.matchInfo:
                                xr();
                                break;
                            case m.lobby:
                                Nr();
                                break;
                            case m.leagueSelection:
                                Or()
                        }
                        H.debug("Added all Modal event listeners")
                    }

                    function hr(e, t) {
                        I = function() {
                                vr(e, t)
                            },
                            a.remove(c.userLogInCompleted, I),
                            a.on(c.userLogInCompleted, I, !0, Bn())
                    }

                    function pr(e, n, r, s, o, u, a, f, l) {
                        var c = u || "multiplayer-login-iframe",
                            h = "http://m.softgames.de/games/multiplayer_fb_login/" + rt.game_slug + "?p=" + rt.subplatform;
                        r && (h += "&type=" + r),
                            dr() && (h += "&scale=" + z);
                        if (t("#" + c).length == 0 && !l) {
                            var p = t("<iframe>", {
                                src: h,
                                id: c,
                                frameborder: 0,
                                scrolling: "no"
                            });
                            p.attr("width", s).attr("height", o),
                                p.appendTo(n),
                                typeof f == "function" && p.attr("onload", function() {
                                    f()
                                }),
                                t(i).off("resize.login-iframe"),
                                t(i).on("resize.login-iframe", function() {
                                    F || (H.debug("resizing login iframe, scaleFactor: ", z),
                                        pr(e, n, r, s, o, u, a, f, !0))
                                }),
                                hr(e, a)
                        } else
                            t("#" + c).attr("src", h)
                    }

                    function dr() {
                        return !rt._isIpad() && !rt._isIOS() && !rt._isIE()
                    }

                    function vr(e, t) {
                        t === m.lobby ? qt(d.clickedSignupFromLobby) : t === m.profile ? qt(d.clickedSignupFromProfilePopUp) : t === m.matchResults && qt(d.clickedSignupFromMatchResults),
                            C = !0,
                            F = !1,
                            et = !1,
                            tt = !1,
                            a.fire(c.closePopup),
                            B = e,
                            ur(B, mr(B))
                    }

                    function mr(e) {
                        switch (e) {
                            case m.dashboard:
                                return dt;
                            case m.profile:
                                return mt;
                            case m.leaderboard:
                                return vt;
                            case m.matchResults:
                                return gt;
                            case m.matchInfo:
                                return yt;
                            case m.lobby:
                                return bt;
                            case m.leagueSelection:
                                return wt
                        }
                    }

                    function gr(e, n, r) {
                        t(e).on("load", function() {
                                t(this).css("height", t(this).outerWidth());
                                var e = this;
                                t(i).on("resize", function() {
                                        t(e).css("height", t(e).outerWidth())
                                    }),
                                    typeof r == "function" && r()
                            }),
                            t(e).attr("src", n)
                    }

                    function yr() {
                        ft.reset(),
                            t(".user").remove();
                        var e = t(".sg-modal-window-multiplayerAsync");
                        e.on("scroll", Xn),
                            mn(function(e) {
                                Xn(), !C && !In() && (rt.gameLandscape ? pr(m.leaderboard, ".remaining", "leaderboard", "382px", "63px", "leaderboard-login-iframe") : pr(m.leaderboard, ".remaining", "leaderboard-portrait", "255px", "42px", "leaderboard-login-iframe-portrait"))
                            }),
                            t(".sg-modal-window-multiplayerAsync .modal-dialog").css("overflow", "auto").on("scroll", Xn),
                            t(".sg-modal-window-content .sg-bootstrap").addClass("fast-flow"),
                            rt.gameLandscape ? Hr(".multiplayer-async-leaderboard-modal", {
                                position: "absolute",
                                top: "-10px",
                                left: "-16px"
                            }, {
                                "margin-left": "15px",
                                "margin-right": "0"
                            }) : (Hr(".multiplayer-async-leaderboard-modal", {
                                    position: "absolute",
                                    top: "-10px",
                                    left: "-16px"
                                }, {
                                    "margin-left": "0",
                                    "margin-right": "0"
                                }),
                                t(".multiplayer-async-leaderboard-modal").removeClass("col-xs-12").addClass("col-xs-10 col-xs-offset-1"),
                                t(".title").removeClass("col-xs-12").addClass("col-xs-10 col-xs-offset-1")),
                            t(".mp-footer").hide(),
                            t(".sg-modal-window-multiplayerAsync .modal-body").css("overflow", "inherit"),
                            C ? t(".users").removeClass("blur-element") : t(".users").addClass("blur-element"),
                            H.debug("Added event listeners for Leaderboard")
                    }

                    function br(e, n) {
                        t(e).css("line-height", n + "px")
                    }

                    function wr(e) {
                        W = !0;
                        var n = t(".fast-match-info").data("mp-state");
                        t(".share-text").empty().append("Share"),
                            nn(function(e) {
                                U = e.position,
                                    t(".rank-star .rank").text("#" + jt.rank)
                            }),
                            t(".your-profile-picture .profile").attr("src", Et.avatar),
                            t(".betting-pot").css("top", "100px");
                        if (_t.contentBorderSize && _t.contentBorderSize > 0) {
                            var r = rt.gameLandscape ? 26 : 50,
                                i = t(".winner-border");
                            i.css("left", r - _t.contentBorderSize / 2 + "px")
                        }
                        t(".title").empty().append(at.name),
                            Sr(t(".share-button-container")),
                            t(".footer-content").hide(),
                            t("#play-again-btn").on("click", function() {
                                On()
                            }), !C && !In() && (t(".share-btn").empty().css("padding-left", 0).css("padding-right", 0).css("background", "transparent"),
                                pr(m.lobby, ".share-btn", "matchResults", "180px", "46px", null, m.matchResults)),
                            Er(),
                            Tr(!1, J),
                            t(".back-btn-container, .back-btn").show();
                        if (!e) {
                            if (n === v.draw || n === v.win) {
                                var s = n === v.draw ? at.blind : at.blind * 2,
                                    o = rt._parseGroupedFloat(t(".currency-value").text());
                                t(".currency-value").text(o - s)
                            }
                            var u = at.blind * 2,
                                a = t(".value-container .value");
                            a.empty().append(u),
                                setTimeout(function() {
                                    Kn(n, u)
                                }, 500)
                        }
                    }

                    function Er() {
                        t(".share-btn").off("click").on("click", function() {
                            qt(d.clickedFBShareButtonFromMatchResults);
                            if (xt != undefined)
                                var e = "Wow! I've got a score of " + xt.myScore;
                            else
                                var e = "Can you beat my score?";
                            var t = "http://facebook.com/sharer.php?u=http://m.softgames.de/games/" + rt.game_slug + "/play_with_me/" + encodeURI(e) + "/" + Math.random() + "?p=" + rt.subplatform;
                            i.open(t)
                        })
                    }

                    function Sr(e) {
                        t(".back-btn-container").css({
                                position: "relative"
                            }).insertBefore(t(e)),
                            t(".back-btn").css({
                                "margin-left": "0",
                                "margin-right": "0"
                            }),
                            t(".back-btn img").css({
                                "margin-left": "19px"
                            })
                    }

                    function xr() {
                        t(".leaderboard, .footer-content").hide(),
                            t(".back-btn").hide(),
                            t(".back-btn img").on("click", function() {
                                An()
                            }),
                            t(".fast-match-info").height(t(".sg-modal-window-multiplayerAsync .sg-modal-window-content").height()),
                            t(".title").empty().append(at.name),
                            t(".bet-value").empty().append(at.blind),
                            Tr(!0, !1)
                    }

                    function Tr(e, n) {
                        e && t(".opponent-profile-picture .level-star").hide();
                        var r = rt.userGameDataHandler.getExperienceLevel();
                        t(".your-profile-picture .level-star .level").text(r);
                        var i = r - 2 < 1 ? 1 : r - 2;
                        J = n || Br(i, r + 2),
                            t(".opponent-profile-picture .level-star .level").text(J),
                            t(".level-star").css("background-color", _t.levelStrokeColor)
                    }

                    function Nr() {
                        W = !1,
                            rt.gameLandscape || t(".lobby").addClass("lobby-portrait"),
                            at = null,
                            Sr(t(".share-button-container")),
                            t(".footer-buttons").hide(),
                            t(".play-container").css("background-image", "url(" + rt.gamePlayBtn + ")").on("click", On),
                            t(".practice-container").css("background-image", "url(" + rt.gamePracticeBtn + ")"),
                            t(".invite-friends").css("background-image", "url(" + rt.gameOdnoklassikiBtn + ")"),
                            t(".free-coins .currency-img, .login-coins").attr("src", rt.gameCurrencyIcon),
                            t(".sg-modal-window-multiplayerAsync .modal-dialog").css("background-image", "url(" + rt.gameLobbyBackground + ")"),
                            t(".free-coins .plus-image").attr("src", rt.gamePlusBtn),
                            t(".purchase-currency img").attr("src", rt.gamePlusBtn),
                            t(".header .currency-value").text(zn()),
                            Ar(),
                            (C || In()) && t(".fb-container").remove(),
                            t(".free-coins").on("click", function() {
                                lt.isAvailable() ? qt(d.clickedFreeCurrencyButtonWhenReady) : qt(d.clickedFreeCurrencyButtonWhenNotReady),
                                    o.createPopup({
                                        type: g.freeCoins,
                                        scaleFactor: z,
                                        incentValue: _t.incentValue || 400
                                    })
                            }),
                            t(".invite-friends").on("click", function() {
                                console.log("Trigger invite friends"),
                                    a.fire(c.inviteFriendsButtonClicked)
                            }),
                            t(".purchase-currency").on("click", function() {
                                console.log("Trigger purachse"),
                                    a.fire(c.shopButtonClicked, {
                                        scaleFactor: z
                                    })
                            }),
                            Fr(),
                            t(".practice-container").on("click", kr),
                            rt._isMobile() && t(".sg-modal-window-multiplayerAsync").on("click", Kr),
                            In() || pr(m.lobby, ".fb-container", "", "255px", "42px", null, m.lobby)
                    }

                    function Cr() {
                        G && (G = !1,
                            o.createPopup({
                                type: g.leaderboardResults,
                                scaleFactor: z,
                                rank: Y.position,
                                reward: Y.reward,
                                division: Y.division
                            }))
                    }

                    function kr() {
                        qt(d.clickedPracticeButton),
                            a.remove(c.gameLevelFinished, $n),
                            n.close(),
                            kt.startPractice(),
                            a.on(c.gameLevelFinished, Lr)
                    }

                    function Lr() {
                        a.on(c.gameLevelFinished, $n),
                            a.remove(c.gameLevelFinished, Lr),
                            An()
                    }

                    function Ar() {
                        rt.gameIngameCurrencyNames && rt.gameIngameCurrencyNames.few && t(".free-coins-text").text(I18n.t("multiplayer.free") + " " + rt.gameIngameCurrencyNames.few);
                        if (!lt.isAvailable()) {
                            t(".free-currency-timer").show(),
                                Yr((lt.waitTill().getTime() - (new Date).getTime()) / 1e3, t(".free-currency-timer"), function() {
                                    t(".free-currency-timer").hide()
                                }),
                                t(".get-now").hide(),
                                t(".plus-image").removeClass("pulsating");
                            var e = setInterval(function() {
                                t(".plus-image").removeClass("pulsating"),
                                    lt.isAvailable() && (clearInterval(e),
                                        t(".get-now").show(),
                                        t(".free-currency-timer").hide(),
                                        t(".plus-image").addClass("pulsating"),
                                        t(".free-coins-text").css("line-height", "11px"))
                            }, 2e3)
                        } else
                            t(".get-now").show(),
                            t(".free-currency-timer").hide(),
                            t(".plus-image").addClass("pulsating"),
                            t(".free-coins-text").css("line-height", "11px")
                    }

                    function Or() {
                        rt.gameLandscape || t(".league-selections").addClass("portrait-league-selections"),
                            t(".next").on("click", u.next).attr("src", L),
                            t(".previous").on("click", u.prev).attr("src", A),
                            Ct.forEach(function(e, t) {
                                Pr(e, t)
                            });
                        var e = 0;
                        at ? e = Ct.indexOf(at) : Ct.forEach(function(t, n) {
                                t.blind <= zn() && (e = n)
                            }),
                            Ct.length > 1 ? u.createCarousel({
                                element: ".league-selection",
                                settings: {
                                    pagination: ".pagination",
                                    effect: "coverflow",
                                    grabCursor: !0,
                                    centeredSlides: !0,
                                    slidesPerView: "auto",
                                    initialSlide: e,
                                    coverflow: {
                                        rotate: 50,
                                        stretch: 0,
                                        depth: 100,
                                        modifier: 6,
                                        slideShadows: !0
                                    },
                                    onTransitionEnd: _r
                                }
                            }) : Ct.length == 1 && (t(".navigation").hide(),
                                _r({
                                    activeIndex: 0
                                })),
                            t(".league-container").css("background-image", "url(" + rt.gameLeagueBackground + ")"),
                            Fr(),
                            Sr(".profile-wrapper"),
                            _t.disableSoundButton ? t(".store-wrapper").removeClass("col-xs-offset-4").addClass("col-xs-offset-8") : t(".mute-button").removeClass("col-xs-offset-2").addClass("col-xs-offset-6"),
                            t(".profile-wrapper, .share-button-container, .continue-button-container").hide(),
                            t(".footer-buttons, .back-btn").show(), !rt.gameLandscape && rt._isMobile() && (t(".portrait-league-selections").css("margin-top", "80px"),
                                t(".next, .previous").css("top", "318px")),
                            t(".players-online").hide(),
                            Mr()
                    }

                    function Mr() {
                        if (_t.levelStrokeColor) {
                            var e = s.createElement("style");
                            e.appendChild(s.createTextNode("          .sg-modal-window-multiplayerAsync .swiper-pagination-bullet-active {              background-color:" + _t.levelStrokeColor + ";           }          ")),
                                s.head.appendChild(e)
                        }
                    }

                    function _r(e) {
                        t(".league-container").off("click.league");
                        var n = e.activeIndex;
                        n === 0 ? t(".previous").hide() : t(".previous").show(),
                            n === Ct.length - 1 ? t(".next").hide() : t(".next").show(),
                            t(t(".league-container")[n]).on("click.league", function() {
                                Dr(n)
                            })
                    }

                    function Dr(e, t) {
                        at = Ct[e],
                            zn() >= at.blind ? (t ? qt(d.clickedPlayAgainButton) : qt(d.clickedLeague + e),
                                Vt()) : (t ? qt(d.clickedPlayAgainButtonNotEnoughCurrency) : qt(d.clickedLeagueNotEnoughCurrency + e),
                                o.createPopup({
                                    type: g.notEnoughCoins,
                                    scaleFactor: z,
                                    incentValue: _t.incentValue || 400
                                }))
                    }

                    function Pr(e, n) {
                        if (t(".league-container").length < Ct.length) {
                            t(".leagues").append(Mt.league);
                            var r = t(".league-container").last();
                            r.data("league-index", n),
                                r.find(".league-img img").attr("src", e.image_uri),
                                r.find(".prize-currency, .fee-currency").attr("src", rt.gameCurrencyIcon),
                                r.find(".play-btn").css("background-image", "url(" + rt.gameCollectBtn + ")"),
                                r.find(".league-title").empty().append(e.name),
                                r.find(".prize-value").text(e.blind * 2),
                                r.find(".fee-value").empty().append(e.blind),
                                H.debug("league added: ", e)
                        }
                    }

                    function Hr(e, n, r) {
                        var i = t(".back-btn-container");
                        t(e).append(i),
                            i.css(n),
                            i.find(".back-btn").css(r)
                    }

                    function Br(e, t) {
                        return Math.floor(Math.random() * (t - e + 1) + e)
                    }

                    function jr() {
                        B !== m.profile && t(".profile-container").on("click", function() {
                            C ? (fr(B),
                                qt(d.clickedProfileButtonWasLoggedIn),
                                Ln()) : In() || (qt(d.clickedProfileButtonWasNotLoggedIn),
                                o.createPopup({
                                    type: g.signup,
                                    scaleFactor: z
                                }))
                        })
                    }

                    function Fr() {
                        t(".store-container, .store-plus").on("click", function() {
                            B === m.lobby ? qt(d.clickedShopButtonFromLobby) : B === m.leagueSelection && qt(d.clickedShopButtonFromLeagueSelection),
                                kt.gotoPage(kt.PAGE_SHOP),
                                a.on(c.gamePageDisplayed, Ir),
                                n.close()
                        })
                    }

                    function Ir(e) {
                        e.page == kt.PAGE_MAIN_MENU && (An(),
                            a.remove(c.gamePageDisplayed, Ir))
                    }

                    function qr() {
                        B !== m.leaderboard && t(".fast-flow-header .leaderboard").on("click", function() {
                            B === m.lobby ? qt(d.clickedLeaderboardButtonFromLobby) : B === m.leagueSelection ? qt(d.clickedLeaderboardButtonFromLeagueSelection) : B === m.matchResults && qt(d.clickedLeaderboardButtonFromMatchResults),
                                kn()
                        })
                    }

                    function Rr(e) {
                        if (t(".multiplayer-async-modal-less-spinner").length == 0) {
                            var n = t("<div>").addClass("multiplayer-async-modal-less-spinner text-center"),
                                r = t("<i>").addClass("fa fa-spinner fa-spin fa-5x").attr("id", "multiplayer-async-generic-spinner");
                            n.append(r),
                                t(e).append(n)
                        }
                    }

                    function Ur() {
                        t(".multiplayer-async-modal-less-spinner").remove()
                    }

                    function zr() {
                        var e = t("<i>").addClass("fa fa-spinner fa-spin").attr("id", "multiplayer-async-generic-spinner");
                        t(".score-section div").first().toggle(),
                            t(".score-section").append(e);
                        var n = Et.avatar || b;
                        gr(t(".editable .profile-picture img"), n),
                            t(".editable .name").empty().html(Et.name),
                            t(".editable .name-input").val(Et.name),
                            t(".editable .picture-src").val(n),
                            nn(function(e) {
                                Cn(e)
                            }),
                            t(".editable .edit").on("click", Wr),
                            t(".editable").on("submit", Xr),
                            t(".editable .name").css("line-height", t(".editable .profile-picture").outerHeight() + "px"),
                            t(".sg-bootstrap").addClass("fast-flow"),
                            t(".sg-modal-window-multiplayerAsync .modal-dialog").css("overflow", "hidden"),
                            In() && t(".edit").hide(),
                            rt.gameLandscape ? Hr(".multiplayer-async-user-profile", {
                                cursor: "pointer"
                            }, {
                                "margin-left": "27px",
                                "margin-right": "0",
                                "margin-top": "1px"
                            }) : (Hr(".multiplayer-async-user-profile", {
                                    position: "absolute",
                                    left: "-16px",
                                    top: "-9px"
                                }, {
                                    "margin-left": "11px",
                                    "margin-right": "0",
                                    "margin-top": "1px"
                                }),
                                t(".multiplayer-async-user-profile").removeClass("col-xs-12").addClass("col-xs-10 col-xs-offset-1")),
                            Fr(),
                            H.debug("Added event listeners for Profile")
                    }

                    function Wr() {
                        t(this).toggle(),
                            t(".editable .picture-src").toggle(),
                            t(".editable .name-input").toggle(),
                            t(".editable .name").toggle(),
                            t(".editable .save").toggle()
                    }

                    function Xr(e) {
                        e.preventDefault();
                        var n = t(".editable .name-input").val(),
                            r = t(".editable .picture-src").val();
                        r == "" && (r = b);
                        if (r && r !== "" || n && n !== "") {
                            var i = t(".editable .save");
                            t(".editable").off("submit", Xr);
                            var s = i.find(".fa-check-square");
                            s.removeClass("fa-check-square").addClass("fa-spinner fa-spin"),
                                Vr(n, r, function() {
                                    r && r !== "" && (Et.avatar = r),
                                        n && n !== "" && (Et.name = n),
                                        s.removeClass("fa-spinner fa-spin").addClass("fa-check"),
                                        t(".editable .picture-src").toggle(),
                                        t(".editable .name-input").toggle(),
                                        t(".editable .name").empty().append(Et.name).toggle(),
                                        t(".footer-name").empty().append(Et.name),
                                        r && r != "" && (gr(".profile-picture img", Et.avatar),
                                            gr(".profile-img-container .profile-img", Et.avatar)),
                                        i.toggle(),
                                        s.removeClass("fa-check").addClass("fa-check-square"),
                                        t(".editable").on("submit", Xr),
                                        t(".editable .edit").toggle()
                                })
                        }
                    }

                    function Vr(e, t, n) {
                        var r = {};
                        e !== undefined && e != "" && (r.name = e),
                            t !== undefined && t !== "" && (r.avatar = t),
                            st.update(r, n),
                            H.debug("Updating user: name: " + e + " picture: " + t)
                    }

                    function $r(e) {
                        var n = t(e),
                            r = t(i);
                        if (n.length < 1)
                            return !1;
                        var s = r.scrollTop(),
                            o = s + r.height(),
                            u = n.offset().top,
                            a = u + n.height();
                        return a <= o && u >= s
                    }

                    function Jr() {
                        if (kt !== undefined && kt !== null) {
                            var e = [];
                            xt !== undefined && e.push({
                                    name: xt.myOpponent.name,
                                    avatar: xt.myOpponent.avatarURI,
                                    score: xt.opponentScore
                                }),
                                kt.startGame({
                                    ghosts: e,
                                    skin: {
                                        version: at.ordinal
                                    },
                                    ingameCurrencyValueToDisplay: at.blind * 2
                                })
                        }
                    }

                    function Kr() {
                        if (!rt._isAndroid() && !Gr()) {
                            var e = t(".sg-modal-window-multiplayerAsync").get(0);
                            e.requestFullscreen ? e.requestFullscreen() : e.mozRequestFullScreen ? e.mozRequestFullScreen() : e.webkitRequestFullscreen ? e.webkitRequestFullscreen() : e.msRequestFullscreen && e.msRequestFullscreen()
                        }
                    }

                    function Qr() {
                        Gr() && (s.exitFullscreen ? s.exitFullscreen() : s.mozCancelFullScreen ? s.mozCancelFullScreen() : s.webkitExitFullscreen ? s.webkitExitFullscreen() : s.msExitFullscreen && s.msExitFullscreen())
                    }

                    function Gr() {
                        if (s.fullscreen)
                            return s.fullscreen();
                        if (s.mozFullScreen)
                            return s.mozFullScreen();
                        if (s.webkitIsFullScreen)
                            return s.webkitIsFullScreen();
                        if (s.msIsFullScreen)
                            return s.msIsFullScreen()
                    }

                    function Yr(e, n, r) {
                        if (Q.indexOf(t(n).selector) == -1) {
                            Q.push(t(n).selector);
                            var i = e,
                                s, o, u, a = setInterval(function() {
                                    s = parseInt(i / 3600, 10),
                                        o = parseInt(i / 60 % 60, 10),
                                        u = parseInt(i % 60, 10),
                                        s = s < 10 ? "0" + s : s,
                                        o = o < 10 ? "0" + o : o,
                                        u = u < 10 ? "0" + u : u;
                                    var e = s && s !== "00" ? s + ":" + o + ":" + u : o + ":" + u;
                                    n.text(e);
                                    if (--i < 0) {
                                        clearInterval(a);
                                        for (var f = Q.length - 1; f >= 0; f--)
                                            Q[f] === t(n).selector && Q.splice(f, 1);
                                        typeof r == "function" && r()
                                    }
                                }, 1e3)
                        }
                    }

                    function Zr(e, t, n) {
                        if (!e.length)
                            return;
                        n || (n = t),
                            ei() ? e.css({
                                "-webkit-transform": "scale(1)",
                                transform: "scale(1)"
                            }) : e.css("zoom", "100%");
                        var r = Math.min(t / e.width(), n / e.height());
                        return ei() ? e.css({
                                "-webkit-transform": "scale(" + r + ")",
                                transform: "scale(" + r + ")"
                            }) : e.css("zoom", r * 100 + "%"),
                            r
                    }

                    function ei() {
                        return Dt || Pt || rt._isIOS() && rt._isMobile() ? 1 : 0
                    }

                    function ti(e, t, n) {
                        rt.gameRatio && (e.width(n * rt.gameRatio),
                            e.height(n))
                    }

                    function ni(e, t, n) {
                        e.css("margin", "0");
                        var r = e.get(0);
                        if (!r)
                            return;
                        var i = si();
                        e.attr("style", e.attr("style") + " margin-top: " + i.top + " !important;"),
                            e.attr("style", e.attr("style") + " margin-left: " + i.left + " !important;")
                    }

                    function ri(e) {}

                    function ii() {
                        switch (B) {
                            case m.leagueSelection:
                                return ".league-selections";
                            case m.lobby:
                                return ".lobby";
                            case m.profile:
                                return ".multiplayer-async-user-profile";
                            case m.matchResults:
                            case m.matchInfo:
                                return ".match-content"
                        }
                    }

                    function si() {
                        var e = Hn(),
                            n = t(i).height(),
                            r = t(i).width(),
                            s = {
                                top: "auto",
                                left: "auto"
                            };
                        return e.height < n && (s.top = (n - e.height) / 2 + "px"),
                            e.width < r && (s.left = (r - e.width) / 2 + "px"),
                            s
                    }
                    var e = !1,
                        n = r.getModalWindow(f),
                        y = null,
                        C = !1,
                        D = [],
                        B = null,
                        j = !1,
                        F = !1,
                        I = null,
                        q = !1,
                        R = 0,
                        U = 0,
                        z = 1,
                        W = !1,
                        X = !1,
                        V = 0,
                        $ = 0,
                        J = 0,
                        K = null,
                        Q = [],
                        G = !1,
                        Y = null,
                        Z = !0,
                        et = !1,
                        tt = !1,
                        nt = !1,
                        rt = null,
                        it = null,
                        st = null,
                        ot = null,
                        ut = null,
                        at, ft = null,
                        lt = null,
                        ct, ht, pt, dt = null,
                        vt = null,
                        mt = null,
                        gt = null,
                        yt = null,
                        bt = null,
                        wt = null,
                        Et, St, xt, Tt, Nt, Ct = [],
                        kt, Lt = !1,
                        At = !1,
                        Ot = !1,
                        Mt = {},
                        _t = {},
                        Dt = navigator.userAgent.toLowerCase().indexOf("firefox") > -1,
                        Pt = navigator.userAgent.toLowerCase().indexOf("opera") > -1,
                        Ht = navigator.vendor && navigator.vendor.indexOf("Apple") > -1 && navigator.userAgent && !navigator.userAgent.match("CriOS"),
                        Bt = {
                            user: {
                                rank: 0,
                                totalAmountOfUsers: 0
                            },
                            leaderboard: []
                        },
                        jt = {
                            highscore: 0,
                            rank: 0,
                            numberOfPlayers: 0
                        };
                    a.on(c.softgamesReady, rn)
                };
            e.prototype.multiplayerAsyncHandler = new B,
                H.debug("Added multiplayerAsyncHandler to Softgames-Prototype")
        } catch (j) {
            throw console && console.error("[" + f + "] " + j.message, j.stack),
                j
        }
    }(Softgames, SG_jQuery, SoftgamesLogger, softgamesModalWindow, window, document, multiplayerPopup, softgamesCarousel),
    "use strict",
    function(e) {
        function h(t, n, i, s, o, u) {
            r.info("Starting real time multiplayer ...");
            try {
                if (t.rtMultiplayerSettings) {
                    var a = e.sgPc;
                    if (!a)
                        throw new Error("sgPc not defined");
                    var f = a.initRealTimeMultiplayer;
                    if (!f)
                        throw new Error("pageController does not support initRealTimeMultiplayer");
                    f({
                        jQuery: i,
                        modalWindow: s,
                        messageBus: n,
                        voyager: t,
                        oldUi: {
                            multiplayerPopup: o,
                            softgamesCarousel: u
                        }
                    }, function(e) {
                        e ? r.error("... start process failed", e) : r.info("... started")
                    })
                } else
                    r.info("... skip start due to missing rtMultiplayerSettings")
            } catch (l) {
                r.error("... starting failed", l)
            }
        }
        var t = "multiplayerRT",
            n = {
                SOFTGAMES_READY: "softgamesReady"
            },
            r = null;
        try {
            var i = e.SoftgamesLogger;
            if (!i)
                throw new Error("SoftgamesLogger not defined!");
            r = new SoftgamesLogger(t)
        } catch (s) {
            console && console.error("[" + t + "]", s);
            return
        }
        try {
            var o = e.Softgames;
            if (!o)
                throw new Error("Softgames class not initialized");
            var u = o.prototype.events;
            if (!u)
                throw new Error("Softgames events prototype not set");
            var a = e.SG_jQuery;
            if (!a)
                throw new Error("SG_jQuery not defined!");
            var f = e.softgamesModalWindow;
            if (!f)
                throw new Error("softgamesModalWindow not defined!");
            var l = e.multiplayerPopup;
            if (!l)
                throw new Error("multiplayerPopup not defined!");
            var c = e.softgamesCarousel;
            if (!c)
                throw new Error("softgamesCarousel not defined!");
            u.on(n.SOFTGAMES_READY, function(e) {
                h(e, u, a, f, l, c)
            })
        } catch (s) {
            r.error("Hook to softgames ready event failed", s)
        }
    }(window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameBoosters",
            s = {
                softgamesReady: "softgamesReady",
                userGameDataInitialized: "userGameDataInitialized",
                gameLevelFinished: "levelFinished",
                gameBoosterAdded: "booster-added",
                gameBoosterUsed: "booster-deducted",
                gameOfferCompleted: "offer-completed"
            },
            o = {
                boosterAdded: "boosterAdded",
                boosterUsed: "boosterUsed",
                boosterOfferCompleted: "boosterOfferCompleted",
                boosterOfferStarted: "boosterOfferStarted"
            },
            u = "gameBoosters";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var a = new t(i),
                f = function() {
                    function m(e) {
                        a.debug("Booster added", e),
                            t.sendEvents([t.createEvent(u, {
                                action: o.boosterAdded,
                                game: i,
                                booster: e.boosterSlug,
                                amount: e.amount
                            }, !0)])
                    }

                    function g(e) {
                        a.debug("Booster used", e),
                            t.sendEvents([t.createEvent(u, {
                                action: o.boosterUsed,
                                game: i,
                                booster: e.boosterSlug,
                                amount: e.amount
                            }, !0)])
                    }

                    function y(e) {
                        a.debug("Booster offer completed", e);
                        if (d.indexOf(e.offerId) >= 0) {
                            var r = {
                                action: o.boosterOfferCompleted,
                                game: i,
                                booster: n.boosterSlug,
                                success: e.success
                            };
                            t.sendEvents([t.createEvent(u, r, !0)])
                        }
                    }

                    function b() {
                        var e = d.length + 1;
                        d.push(e),
                            v.startOffer(e, v.OFFER_TYPE_BOOSTER, n.boosterSlug),
                            t.sendEvents([t.createEvent(u, {
                                action: o.boosterOfferStarted,
                                game: i,
                                booster: n.boosterSlug
                            }, !0)])
                    }

                    function w() {
                        c = Math.floor(Math.random() * (p - h + 1)) + h,
                            l = 0
                    }

                    function E() {
                        l++,
                        l === c && (b(),
                            w())
                    }

                    function S(e) {
                        a.debug("Request boosters offer settings");
                        var t = new SoftgamesGameBoostersService(i);
                        t.getSettings(e, function() {
                            a.debug("Cannot request booster offer settings")
                        })
                    }

                    function x(e) {
                        a.debug("Unlock booster: ", e),
                            v.unlockBooster(e)
                    }

                    function T(o) {
                        e = o.gameBoostersConfig,
                            t = new o.trackerHandler.EventTracker(o.subplatform, "gameBoosters"),
                            i = o.game_slug,
                            v = o.gameCommandsHandler,
                            e.offerEnabled && (r.on(s.gameBoosterAdded, m),
                                r.on(s.gameBoosterUsed, g),
                                S(function(e) {
                                    n = e,
                                        w(),
                                        r.on(s.gameOfferCompleted, y),
                                        r.on(s.gameLevelFinished, E)
                                }))
                    }

                    function N(e) {
                        // f = e.unlockedBoosters
                        f = null
                    }

                    function C() {
                        return {
                            boosters: {
                                unlocked: f
                            }
                        }
                    }

                    function k() {
                        return e !== undefined && e.enabled
                    }

                    function L() {
                        return f
                    }
                    var e, t, n, i, f, l = 0,
                        c, h = 3,
                        p = 7,
                        d = [],
                        v;
                    r.on(s.softgamesReady, T),
                        r.on(s.userGameDataInitialized, N),
                        this.isEnabled = k,
                        this.initUnlocked = N,
                        this.getUnlocked = L,
                        this.unlock = x,
                        this.getConfig = C
                };
            e.prototype.gameBoosterHandler = new f,
                a.debug("Added gameBoosterHandler to Softgames-Prototype")
        } catch (l) {
            throw console && console.error("[" + i + "] " + l.message, l.stack),
                l
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameItems",
            s = {
                softgamesReady: "softgamesReady",
                userGameDataInitialized: "userGameDataInitialized",
                gameLevelFinished: "levelFinished",
                gameItemAdded: "item-added",
                gameItemUsed: "item-deducted",
                gameOfferCompleted: "offer-completed",
                gameLevelUp: "gameLevelUp"
            },
            o = {
                itemAdded: "itemAdded",
                itemUsed: "itemUsed",
                itemOfferCompleted: "itemOfferCompleted",
                itemOfferStarted: "itemOfferStarted"
            },
            u = "gameItems";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var a = new t(i),
                f = function() {
                    function y(e) {
                        a.debug("Item added", e),
                            t.sendEvents([t.createEvent(u, {
                                action: o.itemAdded,
                                game: f,
                                item: e.itemSlug,
                                amount: e.amount
                            }, !0)])
                    }

                    function b(e) {
                        a.debug("Item used", e),
                            t.sendEvents([t.createEvent(u, {
                                action: o.itemUsed,
                                game: f,
                                item: e.itemSlug,
                                amount: e.amount
                            }, !0)])
                    }

                    function w(e) {
                        a.debug("Item offer completed", e);
                        if (v.indexOf(e.offerId) >= 0) {
                            var n = {
                                action: o.itemOfferCompleted,
                                game: f,
                                item: i.itemSlug,
                                success: e.success
                            };
                            t.sendEvents([t.createEvent(u, n, !0)])
                        }
                    }

                    function E() {
                        var e = v.length + 1;
                        v.push(e),
                            m.startOffer(e, m.OFFER_TYPE_ITEM, i.itemSlug),
                            t.sendEvents([t.createEvent(u, {
                                action: o.itemOfferStarted,
                                game: f,
                                item: i.itemSlug
                            }, !0)])
                    }

                    function S() {
                        h = Math.floor(Math.random() * (d - p + 1)) + p,
                            c = 0
                    }

                    function x() {
                        c++,
                        c === h && (E(),
                            S())
                    }

                    function T(e) {
                        a.debug("Request items settings");
                        var t = new SoftgamesGameItemsService(f);
                        t.getSettings(e, function() {
                            a.debug("Cannot request item offer settings")
                        })
                    }

                    function N(e, t) {
                        t && (l = e)
                    }

                    function C(e) {
                        a.debug("Unlock item: ", e),
                            m.unlockItem(e),
                            g.unlockItem(e, N)
                    }

                    function k(t) {
                        var r = t.level;
                        a.debug("Level Up: " + r),
                            e.unlockItemsLevels !== undefined && e.unlockItemsLevels[r] !== undefined && n.each(e.unlockItemsLevels[r], function(e, t) {
                                a.debug(e + ": Unlock item - " + t),
                                    l !== undefined && l.indexOf(t) === -1 && C(t)
                            })
                    }

                    function L(n) {
                        e = n.gameItemsConfig,
                            t = new n.trackerHandler.EventTracker(n.subplatform, "gameItems"),
                            f = n.game_slug,
                            m = n.gameCommandsHandler,
                            g = n.userGameDataHandler,
                            e.offersEnabled && (r.on(s.gameItemAdded, y),
                                r.on(s.gameItemUsed, b),
                                T(function(e) {
                                    i = e,
                                        S(),
                                        r.on(s.gameOfferCompleted, w),
                                        r.on(s.gameLevelFinished, x)
                                })),
                            e.unlockItemsEnabled && r.on(s.gameLevelUp, k)
                    }

                    function A(e) {
                        l = e.unlockedItems,
                            l === null && (l = [])
                    }

                    function O() {
                        return {
                            items: {
                                unlocked: l
                            }
                        }
                    }

                    function M() {
                        return e !== undefined && e.enabled
                    }

                    function _() {
                        return l
                    }
                    var e, t, i, f, l, c = 0,
                        h, p = 3,
                        d = 7,
                        v = [],
                        m, g;
                    r.on(s.softgamesReady, L),
                        r.on(s.userGameDataInitialized, A),
                        this.isEnabled = M,
                        this.initUnlocked = A,
                        this.unlock = C,
                        this.getUnlocked = _,
                        this.getConfig = O
                };
            e.prototype.gameItemHandler = new f,
                a.debug("Added gameItemHandler to Softgames-Prototype")
        } catch (l) {
            throw console && console.error("[" + i + "] " + l.message, l.stack),
                l
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameEventDispatcher";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var s = new t(i),
                o = function() {
                    function e(e, t, n) {
                        t = t || {},
                            n && typeof n == "function" && (typeof t != "object" ? s.warn("Given data must be a object otherwise we can't attache the callback") : t.dispatcherEventCallback = n),
                            r.fire(e, t)
                    }
                    this.dispatch = e
                };
            e.prototype.gameEventDispatcherHandler = new o,
                s.debug("Added gameEventDispatcherHandler to Softgames-Prototype")
        } catch (u) {
            throw console && console.error("[" + i + "] " + u.message, u.stack),
                u
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameCommands",
            s = 0,
            o = {
                softgamesReady: "softgamesReady"
            },
            u = {
                disableSound: "disableSound",
                enableSound: "enableSound",
                pauseGame: "pauseGame",
                unpauseGame: "unpauseGame",
                startGame: "startGame",
                endGame: "endGame",
                startPractice: "startPractice",
                gotoPage: "goto",
                startOffer: "startOffer",
                unlockItem: "unlockItem",
                unlockBooster: "unlockBooster",
                addBooster: "addBooster",
                addCurrency: "addCurrency",
                deductCurrency: "deductCurrency",
                runGame: "runGame",
                rtmAction: "rtmAction",
                registerTracker: "registerTracker"
            },
            a = "shop",
            f = "main-menu",
            l = "daily-gift";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var c = new t(i),
                h = function() {
                    function d(t) {
                        t._isIframeFlow() ? (c.info("Init connector module ..."),
                                n = t.softgamesConnectorModule) : (c.info("Init softgames-1.1 ..."),
                                n = window.SG),
                            n && typeof n.sendCommand == "function" ? (e = !0,
                                c.info("... initialized")) : c.info("... could not initialize due to missing api")
                    }

                    function v() {
                        return e
                    }

                    function m(e, r) {
                        try {
                            return v() ? (n.sendCommand(e, t, r),
                                t++, !0) : (c.info("Module not initialized"), !1)
                        } catch (i) {
                            c.error("Failed to execute command"),
                                c.error(i)
                        }
                        return !1
                    }

                    function g(e, t) {
                        return e = e || {},
                            t || (e.level = e.level || s,
                                e.ghosts = e.ghosts || [],
                                e.skin = e.skin || {},
                                e.ingameCurrencyValueToDisplay = e.ingameCurrencyValueToDisplay || null),
                            m(u.startGame, e)
                    }

                    function y() {
                        return m(u.endGame)
                    }

                    function b(e) {
                        e = e || s;
                        var t = {
                            level: e
                        };
                        return m(u.startPractice, t)
                    }

                    function w(e) {
                        var t = {
                            page: e
                        };
                        return m(u.gotoPage, t)
                    }

                    function E(e, t, n) {
                        var r = {
                            offerId: e,
                            offerType: t,
                            offerSlug: n
                        };
                        return m(u.startOffer, r)
                    }

                    function S() {
                        return m(u.disableSound)
                    }

                    function x() {
                        return m(u.enableSound)
                    }

                    function T() {
                        return m(u.unpauseGame)
                    }

                    function N() {
                        return m(u.runGame)
                    }

                    function C(e, t) {
                        var n = {
                            eventName: e,
                            gameData: t
                        };
                        return m(u.rtmAction, n)
                    }

                    function k(e) {
                        var t = {
                            trackerHandler: e
                        };
                        return m(u.registerTracker, t)
                    }

                    function L(e) {
                        var t = [];
                        typeof e == "string" ? t.push(e) : A(e) && (t = e);
                        var n = {
                            items: t
                        };
                        return m(u.unlockItem, n)
                    }

                    function A(e) {
                        return Array.isArray(e)
                    }

                    function O(e) {
                        var t = [];
                        typeof e == "string" ? t.push(e) : A(e) && (t = e);
                        var n = {
                            items: t
                        };
                        return m(u.unlockBooster, n)
                    }

                    function M(e, t, n) {
                        var r = {
                            booster: e,
                            amount: t,
                            referrer: n
                        };
                        return m(u.addBooster, r)
                    }

                    function _(e, t) {
                        var n = {
                            tier: e,
                            amount: t
                        };
                        return m(u.addCurrency, n)
                    }

                    function D(e, t) {
                        var n = {
                            tier: e,
                            amount: t
                        };
                        return m(u.deductCurrency, n)
                    }
                    var e = !1,
                        t = 1,
                        n, i = "booster",
                        h = "item",
                        p = "life";
                    r.on(o.softgamesReady, d),
                        this.isInitiated = v,
                        this.startGame = g,
                        this.endGame = y,
                        this.startPractice = b,
                        this.gotoPage = w,
                        this.startOffer = E,
                        this.disableSound = S,
                        this.enableSound = x,
                        this.unpauseGame = T,
                        this.runGame = N,
                        this.rtmAction = C,
                        this.registerTracker = k,
                        this.addBooster = M,
                        this.addCurrency = _,
                        this.deductCurrency = D,
                        this.unlockItem = L,
                        this.unlockBooster = O,
                        this.PAGE_SHOP = a,
                        this.PAGE_MAIN_MENU = f,
                        this.PAGE_DAILY_GIFT = l,
                        this.OFFER_TYPE_BOOSTER = i,
                        this.OFFER_TYPE_ITEM = h,
                        this.OFFER_TYPE_LIFE = p
                };
            e.prototype.gameCommandsHandler = new h,
                c.debug("Added gameCommandsHandler to Softgames-Prototype")
        } catch (p) {
            throw console && console.error("[" + i + "] " + p.message, p.stack),
                p
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = "gameDataReceiver";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            var i = new t(r),
                s = function() {
                    function c(e, t) {
                        l = window.SG.gameDataReceiver;
                        try {
                            return l(e, t)
                        } catch (n) {
                            i.error("Failed to execute game data request"),
                                i.error(n)
                        }
                        return !1
                    }

                    function h(e, t) {
                        var r = {};
                        n.each(t, function(e, t) {
                            i.debug(e, t),
                                r[t.slug] = t
                        });
                        var s = [];
                        return n.each(e, function(e, t) {
                                i.debug(e, t),
                                    r[t.slug] ? s.push(n.extend(t, r[t.slug], {
                                        availableForUser: !0
                                    })) : s.push(n.extend(t, {
                                        amount: 0
                                    }, {
                                        availableForUser: !0
                                    }))
                            }),
                            s
                    }

                    function p(e) {
                        return c(r, e)
                    }

                    function d(e) {
                        var t = c(r, e),
                            n = c(s, e);
                        return h(t, n)
                    }

                    function v(t) {
                        return c(e, t)
                    }

                    function m(e) {
                        var t = v({}),
                            r = {};
                        return n.each(t, function(e, t) {
                                i.debug(e, t),
                                    r[t.slug] = t
                            }),
                            r[e]
                    }

                    function g(n) {
                        var r = c(e, n),
                            i = c(t, n);
                        return h(r, i)
                    }

                    function y(e) {
                        var t = c(r, e),
                            s = c(o, e),
                            u = [];
                        return n.each(t, function(e, t) {
                                i.debug(e, t),
                                    n.each(s, function(e, n) {
                                        i.debug(e, n),
                                            n.slug == t.slug && u.push(t)
                                    })
                            }),
                            u
                    }

                    function b(e) {
                        var t = c(u, e);
                        return t ? t.amount : 0
                    }
                    var e = "boosters",
                        t = "userBoosters",
                        r = "items",
                        s = "userItems",
                        o = "userSelectedItems",
                        u = "ingameCurrency",
                        a = "equippable",
                        f = "selectable",
                        l;
                    this.items = p,
                        this.userItems = d,
                        this.boosters = v,
                        this.boosterBySlug = m,
                        this.userBoosters = g,
                        this.userSelectedItems = y,
                        this.ingameCurrency = b,
                        this.ITEM_TYPE_EQUIPPABLE = a,
                        this.ITEM_TYPE_SELECTABLE = f
                };
            e.prototype.gameDataReceiver = new s,
                i.debug("Added gameCommandsHandler to Softgames-Prototype")
        } catch (o) {
            throw console && console.error("[" + r + "] " + o.message, o.stack),
                o
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    "use strict",
    function(e, t, n, r, i) {
        "use strict";
        var s = e.prototype.events,
            o = "moreGamesBubble",
            u = {
                softgamesReady: "softgamesReady",
                finishedLoadingFlow: "finishedLoadingFlow"
            },
            a = {
                promoDisplayed: "Cross promo displayed",
                promoClicked: "Cross promo clicked",
                promoWindowClosed: "Cross promo window closed",
                promoUserInit: "Promo user init"
            },
            f = {
                buttonDisplayed: "Cross promo button displayed",
                buttonNotVisible: "Cross promo button not visible",
                buttonMoved: "Cross promo button moved",
                buttonClicked: "Cross promo button clicked"
            },
            l = {
                buttonContainer: ".more-games-cross-promo-button",
                button: ".more-games-cross-promo-button .button-image",
                arrowContainer: ".arrow-container",
                arrowDown: ".arrow-container .arrow-down",
                arrowUp: ".arrow-container .arrow-up",
                modalContent: ".more-games-cross-promo-modal-content",
                modalWindow: ".sg-modal-window-moreGamesBubble",
                promoContainer: ".promo-container",
                external: ".external",
                internal: ".internal"
            },
            c = {
                bubble: "bubble",
                ingameMoreGames: "ingameMoreGames"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var h = new t(o),
                p = function() {
                    function A(e, t) {
                        var n = document.createElement("script");
                        n.src = e,
                            n.async = !0,
                            n.type = "text/javascript",
                            n.onreadystatechange = n.onload = function() {
                                if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")
                                    n.onreadystatechange = n.onload = null,
                                    t && t()
                            },
                            document.getElementsByTagName("head")[0].appendChild(n)
                    }

                    function O(e, t) {
                        t || (t = r.location.href),
                            e = e.replace(/[\[\]]/g, "\\$&");
                        var n = new RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),
                            i = n.exec(t);
                        return i ? i[2] ? decodeURIComponent(i[2].replace(/\+/g, " ")) : "" : null
                    }

                    function M(t) {
                        g = t,
                            d = new g.trackerHandler.EventTracker(g.subplatform, "crossPromoBubble"),
                            v = new g.trackerHandler.EventTracker(g.subplatform, "ingameMoreGames"),
                            C = g.moreGamesUtils,
                            C.getSourceFromCookie(function() {
                                try {
                                    var t = C.getSourceSlug(),
                                        n = C.getSourceInstigator();
                                    y = g.moreGamesCrossPromo,
                                        N = g.moreGamesCrossPromo.numberOfLinksForBubble,
                                        b = y.links,
                                        t && [c.bubble, c.ingameMoreGames].indexOf(n) !== -1 && t !== g.game_slug && K(a.promoUserInit, {
                                            from: t
                                        }, n),
                                        F() ? (C.preloadImages([e], b, !0),
                                            L = !0,
                                            s.on(u.finishedLoadingFlow, D),
                                            h.info("Enabled")) : h.info("Not enabled"),
                                        m = !0
                                } catch (r) {
                                    h.error("Failed init process"),
                                        h.error(r)
                                }
                            })
                    }

                    function _(e) {
                        if (!e || !Array.isArray(e) || e.length < 4)
                            return !1;
                        var t = !0;
                        for (var n = 0; n < e.length; n++)
                            if (!e[n].slug || !e[n].iconPath || !e[n].href) {
                                t = !1;
                                break
                            }
                        return t
                    }

                    // function D() { typeof n.fn.draggable == "undefined" ? A("https://dop3jnx8my3ym.cloudfront.net/jquery-ui.min.js", B) : B() }
                    function D() {
                        typeof n.fn.draggable == "undefined" ? A("../assets/jquery-ui.min.js", B) : B()
                    }

                    function P() {
                        return g.moreGamesCrossPromo && g.moreGamesCrossPromo.links && g.moreGamesCrossPromo.links.length >= g.moreGamesCrossPromo.numberOfLinksForBubble
                    }

                    function H() {
                        return ["NL"].indexOf(g.country) !== -1 || g.asyncMultiplayerSettings
                    }

                    function B() {
                        A("https://dop3jnx8my3ym.cloudfront.net/jquery.ui.touch-punch.min.js", j)
                    }

                    function j() {
                        if (typeof n.fn.draggable == "undefined")
                            D();
                        else if (F()) {
                            var e = n("<div>").addClass("more-games-cross-promo-button"),
                                t = n("<div>").addClass("button-image");
                            e.append(t),
                                n("body").append(e),
                                q(),
                                nt(),
                                U(),
                                C.setDraggable(l.buttonContainer, I, tt),
                                ut(),
                                R(),
                                K(f.buttonDisplayed)
                        }
                    }

                    function F() {
                        return g.moreGamesCrossPromo && g.moreGamesCrossPromo.crossPromoBubbleEnabled && P() && !H()
                    }

                    function I() {
                        var e = n(l.buttonContainer);
                        parseInt(e.css("top")) < 0 && e.css("top", "1px"),
                            parseInt(e.css("left")) < 0 && e.css("left", "1px"),
                            parseInt(e.css("bottom")) < 0 && e.css("bottom", "1px"),
                            parseInt(e.css("right")) < 0 && e.css("right", "1px"),
                            tt(),
                            it(parseFloat(e.css("left")), parseFloat(e.css("top"))),
                            K(f.buttonMoved, {
                                sector: Y()
                            })
                    }

                    function q() {
                        var e = n(l.button);
                        y.enableBubbleGameImage ? e.css("background-image", "url(" + y.enableBubbleGameImage + ")") : (e.css("background-image", J()),
                                setInterval(function() {
                                    e.css("background-image", J())
                                }, 1e4)),
                            y.bubbleBorderRadius && e.css("border-radius", y.bubbleBorderRadius)
                    }

                    function R() {
                        g.avgSessionTime && setTimeout(function() {
                            n(l.buttonContainer).addClass("nudge"),
                                setTimeout(function() {
                                    n(l.buttonContainer).removeClass("nudge")
                                }, 1e3)
                        }, (g.avgSessionTime - 10) * 1e3)
                    }

                    function U() {
                        X(),
                            setTimeout(function() {
                                V(2),
                                    z(2)
                            }, 1500)
                    }

                    function z(e) {
                        e--;
                        var t = $(),
                            r = n(l.button).height();
                        n(l.buttonContainer).animate({
                            top: t - r + "px"
                        }, {
                            duration: 800,
                            complete: function() {
                                n(l.buttonContainer).animate({
                                    top: t + r + "px"
                                }, {
                                    duration: 800,
                                    complete: function() {
                                        n(l.buttonContainer).animate({
                                            top: t + "px"
                                        }, {
                                            duration: 800,
                                            complete: function() {
                                                e > 0 ? z(e) : W()
                                            }
                                        })
                                    }
                                })
                            }
                        })
                    }

                    function W() {
                        C.isVisible(n(".more-games-cross-promo-button")) || (h.info("button not visible, sending track"),
                            K(f.buttonNotVisible))
                    }

                    function X() {
                        var e = n("<div>").addClass("arrow-container"),
                            t = n("<i>").addClass("arrow-up fa fa-arrow-up"),
                            r = n("<i>").addClass("arrow-down fa fa-arrow-down");
                        e.append(r).append(t),
                            n(e).insertBefore(l.buttonContainer),
                            tt()
                    }

                    function V(e) {
                        e--;
                        var t = n(l.button).height(),
                            r = $() - t;
                        n(l.arrowUp).css("opacity", 1),
                            n(l.arrowContainer).animate({
                                top: r - t + "px"
                            }, {
                                duration: 800,
                                complete: function() {
                                    n(l.arrowUp).css("opacity", 0),
                                        n(l.arrowDown).css("opacity", 1),
                                        n(l.arrowContainer).animate({
                                            top: r + t + "px"
                                        }, {
                                            duration: 800,
                                            complete: function() {
                                                n(l.arrowDown).css("opacity", 0),
                                                    n(l.arrowContainer).animate({
                                                        top: r + "px"
                                                    }, {
                                                        duration: 800,
                                                        complete: function() {
                                                            e > 0 ? (tt(),
                                                                V(e)) : n(l.arrowContainer).remove()
                                                        }
                                                    })
                                            }
                                        })
                                }
                            })
                    }

                    function $() {
                        var e = parseInt(n(l.buttonContainer).css("top"));
                        return n(l.buttonContainer).css("top").indexOf("%") !== -1 && (e = e / 100 * n(r).height()),
                            e
                    }

                    function J() {
                        var t = "";
                        if (E < 0)
                            t = "url(" + e + ")";
                        else {
                            var n = b[E].iconPath;
                            t = "url(" + n + ")"
                        }
                        return E++,
                            E == N && (E = -1),
                            t
                    }

                    function K(e, t, r) {
                        var i = Q(e, r),
                            s = "unknown os";
                        try {
                            g._isMobile() ? s = G() : navigator.appVersion.indexOf("Win") != -1 ? s = "Windows" : navigator.appVersion.indexOf("Mac") != -1 ? s = "MacOS" : navigator.appVersion.indexOf("X11") != -1 ? s = "UNIX" : navigator.appVersion.indexOf("Linux") != -1 && (s = "Linux")
                        } catch (o) {
                            h.error("failed to detect operating system")
                        }
                        var u = n.extend({}, t, {
                            game: g.game_slug,
                            partner: g.subplatform,
                            os: s
                        });
                        i.sendEvents(i.createEvent(e, u, !0))
                    }

                    function Q(e, t) {
                        for (var n in f)
                            if (f.hasOwnProperty(n) && f[n] === e)
                                return d;
                        var r = t || k;
                        switch (r) {
                            case c.bubble:
                                return d;
                            case c.ingameMoreGames:
                                return v
                        }
                        return d
                    }

                    function G() {
                        try {
                            var e = navigator.userAgent || navigator.vendor || r.opera;
                            return /windows phone/i.test(e) ? "Windows Phone" : /android/i.test(e) ? "Android" : /iPad|iPhone|iPod/.test(e) && !r.MSStream ? "iOS" : "unknown mobile os"
                        } catch (t) {
                            return h.error("failed to detect mobile operating system"),
                                "unknown mobile os"
                        }
                    }

                    function Y() {
                        var e = 5,
                            t = n(l.button).offset(),
                            i = Math.ceil(t.left / n(r).width() * 100 / (100 / e)),
                            s = Math.ceil(t.top / n(r).height() * 100 / (100 / e));
                        return i > e || i < 1 || s > e || s < 1 ? (h.debug("Bubble moved out of bounds"),
                            "out of bounds") : (h.debug("Bubble moved to: [" + i + "," + s + "]"),
                            "[" + i + "," + s + "]")
                    }

                    function Z() {
                        var e = n("<div>").addClass("more-games-cross-promo-modal-content"),
                            t = n("<i>").addClass("fa fa-times more-games-cross-promo-close-button"),
                            r = n("<div>").addClass("title").append(y.title || "More Games");
                        r.append(t);
                        var i = n("<div>").addClass("promos");
                        return b.forEach(function(e, t) {
                                t <= N - 1 && i.append(et(e))
                            }),
                            i.append(n("<div>").addClass("clearfix")),
                            e.append(r).append(i),
                            e
                    }

                    function et(e) {
                        var t = n("<div>").addClass("promo-container"),
                            i = n("<div>").addClass("promo-image-container"),
                            s = n("<img>").addClass("promo-teaser");
                        if (e.slug === "external" || e.useExternalImages)
                            s.attr("src", e.teaserPath).addClass("external"),
                            i.append(s);
                        else {
                            s.attr("src", e.teaserPath).addClass("internal");
                            var o = n("<img>").addClass("promo-icon").attr("src", e.iconPath);
                            i.append(s).append(o)
                        }
                        var u = n("<div>").addClass("promo-play-button").append(y.buttonText || "Play now");
                        return t.append(i).append(u),
                            t.on("click.crossPromoBubble", function() {
                                S = !0,
                                    K(a.promoClicked, {
                                        promo: e.slug === "external" ? e.href : e.slug
                                    }),
                                    C.setSourceCookie(k),
                                    r.open(C.getGameLinkUrl(e), "_blank")
                            }),
                            t
                    }

                    function tt() {
                        n(l.arrowContainer).length && (g._isMobile() || (n(l.arrowContainer).css({
                                    width: "75px",
                                    height: "255px"
                                }),
                                n(l.arrowDown + ", " + l.arrowUp).css({
                                    "font-size": "53px"
                                }),
                                n(l.arrowUp).css({
                                    "margin-top": "40px"
                                })),
                            n(l.arrowContainer).css({
                                top: $() - n(l.buttonContainer).height() + "px",
                                left: n(l.buttonContainer).css("left")
                            }))
                    }

                    function nt() {
                        g._isMobile() || (!g._inIframe() && !g.gameLandscape && n(l.buttonContainer).css({
                                    left: "25%"
                                }),
                                n(l.buttonContainer).css({
                                    width: "75px",
                                    height: "75px"
                                }),
                                n(l.button).css({
                                    width: "75px",
                                    height: "75px"
                                }),
                                n(l.arrowUp + ", " + l.arrowDown).css("font-size", "53px")),
                            rt(),
                            x && T && n(l.buttonContainer).css({
                                left: x > n(r).width() ? n(r).width() - n(l.buttonContainer).width() + "px" : x + "px",
                                top: T > n(r).height() ? n(r).height() - n(l.buttonContainer).height() + "px" : T + "px"
                            })
                    }

                    function rt() {
                        var e = n.cookie(st());
                        if (e) {
                            var t = e.split(":"),
                                r = parseFloat(t[0]),
                                i = parseFloat(t[1]);
                            isNaN(r) || (x = r),
                                isNaN(i) || (T = i)
                        }
                    }

                    function it(e, t) {
                        n.cookie(st(), e + ":" + t)
                    }

                    function st() {
                        return "cross_promo_bubble_position_" + g.game_slug
                    }

                    function ot() {
                        return n(r).width() * .8 > 500 ? 500 : n(r).width() * .8
                    }

                    function ut() {
                        n(l.buttonContainer).on("click", function() {
                            K(f.buttonClicked),
                                at(c.bubble)
                        })
                    }

                    function at(e) {
                        return k = e,
                            P() ? (w.open("moreGamesCrossPromoModal", Z(), null, function() {
                                n(r).on("resize", function() {
                                        n(l.external).css({
                                            width: n(l.internal).outerWidth(),
                                            height: n(l.internal).outerHeight()
                                        })
                                    }).trigger("resize"),
                                    b.forEach(function(e, t) {
                                        t <= N - 1 && K(a.promoDisplayed, {
                                            promo: e.slug === "external" ? e.href : e.slug
                                        })
                                    }),
                                    n(l.modalWindow).on("click.crossPromoBubble", function() {
                                        S || K(a.promoWindowClosed),
                                            ft(),
                                            S = !1,
                                            w.close()
                                    })
                            }, !0, ot(), null, null, "10px", null, null, "0px"), !0) : (h.error("Not enough configured promos"), !1)
                    }

                    function ft() {
                        n(l.promoContainer).off("click.crossPromoBubble"),
                            n(l.modalWindow).off("click.crossPromoBubble")
                    }

                    function lt() {
                        return m
                    }

                    function ct() {
                        return L
                    }
                    // debugger;
                    var e = "//d3tlss08qwqpkt.cloudfront.net/assets/cross_promo/more-games-cross-promo-btn-511c70d6d4e37f8e75237dc23de1ccee.png",
                        t = "https://d1bjj4kazoovdg.cloudfront.net/assets/games/{slug}/teaser.jpg",
                        p = "http://cpb.sgc.io/api/v1/cpbGames/getGames/",
                        d, v, m = !1,
                        g = null,
                        y = null,
                        b = [],
                        w = i.getModalWindow(o),
                        E = -1,
                        S = !1,
                        x, T, N, C = null,
                        k = c.bubble,
                        L = !1;
                    this.isInitiated = lt,
                        this.isEnabled = ct,
                        this.shouldBeEnabled = F,
                        this.openModal = at,
                        this.hasEnoughPromos = P,
                        s.on(u.softgamesReady, M)
                };
            e.prototype.moreGamesBubbleHandler = new p,
                h.debug("Added moreGamesBubbleHandler to Softgames-Prototype")
        } catch (d) {
            throw console && console.error("[" + o + "] " + d.message, d.stack),
                d
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window, softgamesModalWindow),
    "use strict",
    function(e, t, n, r, i) {
        "use strict";
        var s = e.prototype.events,
            o = "moreGamesBanner",
            u = {
                softgamesReady: "softgamesReady",
                finishedLoadingFlow: "finishedLoadingFlow"
            },
            a = {
                bannerDisplayed: "Cross promo banner displayed",
                bannerNotVisible: "Cross promo banner not visible",
                promoDisplayed: "Cross promo displayed",
                promoClicked: "Cross promo clicked",
                promoUserInit: "Promo user init"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var f = new t(o),
                l = "//d3ktldhyer9fya.cloudfront.net/assets/softgames-text.png",
                c = 4,
                h = 0,
                p = null,
                d = null,
                v = null,
                m = function() {
                    function i(n) {
                        e = n,
                            p = new e.trackerHandler.EventTracker(e.subplatform, "moreGamesBanner"),
                            t = e.moreGamesCrossPromo,
                            d = e.moreGamesUtils,
                            v = t.links,
                            d.getSourceFromCookie(function() {
                                try {
                                    var t = d.getSourceSlug();
                                    t && d.getSourceInstigator() === "banner" && t !== e.game_slug && J(a.promoUserInit, {
                                            from: t
                                        }),
                                        o() ? (g(document, "script", "facebook-jssdk"),
                                            d.preloadImages([], v, !1),
                                            s.on(u.finishedLoadingFlow, w),
                                            f.info("Enabled")) : f.info("Not enabled")
                                } catch (n) {
                                    f.error("Failed init process"),
                                        f.error(n)
                                }
                            })
                    }

                    function o() {
                        return t && t.moreGamesBannerEnabled && v.length >= c && !e._isMobile() && !e._isIE()
                    }

                    function m(e) {
                        if (typeof n.fn.slick == "function") {
                            typeof e == "function" && e();
                            return
                        }
                        f.debug("Loading Slick..."),
                            y("https://dop3jnx8my3ym.cloudfront.net/carousel/slick.js", e),
                            b("https://dop3jnx8my3ym.cloudfront.net/carousel/slick-1.6/slick.css")
                    }

                    function g(e, t, r) {
                        n("body").append(n("<div>").attr("id", "fb-root"));
                        var i, s = e.getElementsByTagName(t)[0];
                        if (e.getElementById(r))
                            return;
                        i = e.createElement(t),
                            i.id = r,
                            i.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.8&appId=607391772733714",
                            s.parentNode.insertBefore(i, s)
                    }

                    function y(e, t) {
                        var n = document.createElement("script");
                        n.src = e,
                            n.async = !0,
                            n.type = "text/javascript",
                            n.onreadystatechange = n.onload = function() {
                                if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")
                                    n.onreadystatechange = n.onload = null,
                                    typeof t == "function" && t()
                            },
                            document.getElementsByTagName("head")[0].appendChild(n)
                    }

                    function b(e) {
                        var t = document.createElement("link");
                        t.type = "text/css",
                            t.href = e,
                            t.rel = "stylesheet",
                            document.getElementsByTagName("head")[0].appendChild(t)
                    }

                    function w() {
                        m(function() {
                            f.debug("...Slick loaded"),
                                x();
                            var e = n(".promo");
                            h = parseInt(e.css("margin-right")),
                                E(),
                                M(),
                                P(),
                                $(),
                                I(),
                                q(),
                                n(r).on("resize", S)
                        })
                    }

                    function E() {
                        e.gameLandscape ? X() : F()
                    }

                    function S() {
                        E(),
                            M(),
                            W(),
                            P(),
                            $(),
                            e.gameLandscape && z()
                    }

                    function x() {
                        var t = e.gameLandscape ? "horizontal-banner" : "vertical-banner",
                            r = n("<div>").addClass("sg-more-games-banner sg-floating-banner " + t),
                            i = n("<div>").addClass("sg-more-games-banner-content");
                        v.forEach(function(e) {
                            i.append(T(e))
                        });
                        var s = n("<div>").addClass("sg-share-container");
                        s.append(C),
                            r.append(i).append(s);
                        var o = n("<img>").addClass("sg-text").attr("src", l);
                        o.insertAfter(i),
                            n("body").prepend(r),
                            J(a.bannerDisplayed),
                            A() && O()
                    }

                    function T(e) {
                        var t = n("<div>").addClass("link-to-game").attr("target", "__blank"),
                            r = e.slug === "external" ? "promo external-promo" : "promo internal-promo",
                            i = n("<div>").addClass(r).css("background-image", "url(" + e.teaserPath + ")"),
                            s = n("<div>").addClass("play-button").append("Play");
                        return i.append(s),
                            t.append(i),
                            t.on("click", function() {
                                N(e)
                            }),
                            t
                    }

                    function N(e, t) {
                        t = t || "banner",
                            J(a.promoClicked, {
                                promo: e.slug === "external" ? e.href : e.slug,
                                source: t
                            }),
                            d.setSourceCookie("banner"),
                            r.open(d.getGameLinkUrl(e), "_blank")
                    }

                    function C() {
                        var e = n("<div>").addClass("sg-fb-widget-wrapper");
                        return e.append(k()).append(L()),
                            e
                    }

                    function k() {
                        return n("<div>").addClass("fb-like").attr("data-href", "https://www.facebook.com/softgames").attr("data-layout", "box_count").attr("data-action", "like").attr("data-size", "small").attr("data-show-faces", "false").attr("data-share", "false")
                    }

                    function L() {
                        var t = "http://m.softgames.de/games/" + e.game_slug + "/play_with_me/" + encodeURI("Look at this awesome game I found!") + "/1?p=" + e.subplatform,
                            r = "https://www.facebook.com/sharer/sharer.php?u=" + encodeURI(t) + "%2F&amp;src=sdkpreparse";
                        return n("<div>").addClass("fb-share-button").attr("data-href", t).attr("data-layout", "button_count").attr("data-mobile-iframe", "false").attr("data-size", "small").css({
                            "margin-top": h
                        }).append(n("<a>").addClass("fb-xfbml-parse-ignore").attr("target", "_blank").attr("href", r).append("Share"))
                    }

                    function A() {
                        return d.isVisible(n(".sg-more-games-banner")) ? !0 : (f.info("banner not visible, sending track"),
                            J(a.bannerNotVisible), !1)
                    }

                    function O() {
                        v.forEach(function(e) {
                            J(a.promoDisplayed, {
                                promo: e.slug === "external" ? e.href : e.slug
                            })
                        })
                    }

                    function M() {
                        e.gameLandscape ? D() : _(),
                            n(".fb-share-button").css("margin-top", h)
                    }

                    function _() {
                        var e = n(".vertical-banner .promo");
                        h = e.height() * .05,
                            e.css({
                                "margin-bottom": h
                            }),
                            n(".sg-share-container, .sg-fb-widget-wrapper").css({
                                padding: h * 2
                            }),
                            n(".sg-text").css({
                                "margin-left": h * 2
                            }),
                            n(".sg-fb-widget-wrapper").css({
                                "margin-top": h * 2
                            }),
                            n(".link-to-game").css({
                                "margin-top": h,
                                "margin-bottom": h
                            })
                    }

                    function D() {
                        var e = n(".horizontal-banner .promo");
                        h = e.width() * .03,
                            e.css({
                                "margin-top": h,
                                "margin-bottom": h
                            }),
                            n(".sg-more-games-banner-content").css({
                                "padding-left": h
                            }),
                            n(".sg-fb-widget-wrapper").css({
                                width: n(".fb-share-button").width() + 4 * h,
                                padding: h * 2,
                                "margin-left": 0,
                                "margin-right": h * 2
                            }),
                            n(".link-to-game").css({
                                "margin-left": h,
                                "margin-right": h,
                                "margin-top": h
                            }),
                            n(".sg-share-container").css({
                                "padding-right": h
                            })
                    }

                    function P() {
                        e.gameLandscape ? B() : H()
                    }

                    function H() {
                        var e = n(".sg-carousel-prev-arrow-container").height(),
                            t = n(".link-to-game").outerHeight(!0) * c + e * 2;
                        n(".slick-list").css({
                                height: t
                            }),
                            n(".vertical-banner").css({
                                height: t,
                                top: n(r).height() / 3 - t / 3
                            })
                    }

                    function B() {
                        var e = n(".sg-text"),
                            t = n(".horizontal-banner .promo"),
                            r = n(".sg-share-container"),
                            i = n(".sg-more-games-banner-content"),
                            s = t.outerWidth(!0) * c + h * 4 + r.outerWidth(),
                            o = n(".horizontal-banner");
                        e.css({
                                height: o.height() * .3
                            }),
                            o.css({
                                width: s
                            }),
                            i.css({
                                width: s - r.outerWidth() - h * 2,
                                height: o.height()
                            }),
                            r.css({
                                height: i.height()
                            }),
                            j()
                    }

                    function j() {
                        var e = n(".sg-text"),
                            t = n(".horizontal-banner"),
                            r = n(".sg-more-games-banner-content");
                        e.css("bottom", t.height() - r.height() + "px")
                    }

                    function F() {
                        var e = n(".internal-promo"),
                            t = e.width() * .6;
                        e.css({
                                height: t
                            }),
                            n(".link-to-game").css("height", t),
                            n(".external-promo").length && V()
                    }

                    function I() {
                        n(".promo").on("mouseenter", function() {
                            n(this).find(".play-button").css("display", "inline-block")
                        }).on("mouseleave", function() {
                            n(this).find(".play-button").css("display", "none")
                        })
                    }

                    function q() {
                        try {
                            e.gameLandscape ? U() : R(),
                                f.info("Created carousel")
                        } catch (t) {
                            f.error("Error while creating carousel", t)
                        }
                    }

                    function R() {
                        var e = n(".sg-more-games-banner-content"),
                            t = n("<div>").append(n("<div>").addClass("sg-carousel-prev-arrow-container").append(n("<i>").addClass("fa fa-angle-up")));
                        t.css({
                            width: e.width()
                        });
                        var r = n("<div>").append(n("<div>").addClass("sg-carousel-prev-arrow-container").append(n("<i>").addClass("fa fa-angle-down")));
                        r.css({
                                width: e.width()
                            }),
                            e.on("init", function() {
                                S(),
                                    n(".slick-list").css("height", n(".link-to-game").outerHeight(!0) * c)
                            }),
                            e.slick({
                                slidesToShow: 4,
                                slidesToScroll: 1,
                                vertical: !0,
                                infinite: !0,
                                autoplay: !0,
                                nextArrow: r.html(),
                                prevArrow: t.html(),
                                swipeToSlide: !0,
                                verticalSwiping: !0
                            }),
                            n(".link-to-game").css({
                                "margin-top": h,
                                "margin-bottom": h
                            })
                    }

                    function U() {
                        var e = n(".sg-more-games-banner-content"),
                            t = n("<div>").append(n("<div>").addClass("sg-carousel-prev-arrow-container").append(n("<i>").addClass("fa fa-angle-left sg-carousel-arrow"))),
                            r = n("<div>").append(n("<div>").addClass("sg-carousel-prev-arrow-container").append(n("<i>").addClass("fa fa-angle-right sg-carousel-arrow")));
                        e.on("init", S),
                            e.on("afterChange", z),
                            e.slick({
                                slidesToShow: 4,
                                slidesToScroll: 1,
                                infinite: !0,
                                autoplay: !0,
                                nextArrow: r.html(),
                                prevArrow: t.html(),
                                swipeToSlide: !0
                            })
                    }

                    function z() {
                        n(".promo").css("width", "100%"),
                            setTimeout($, 200)
                    }

                    function W() {
                        if (e.gameLandscape) {
                            var t = n(".sg-carousel-arrow"),
                                r = n(".sg-carousel-prev-arrow-container");
                            t.css({
                                    "margin-top": r.height() / 2 - t.height() / 2
                                }),
                                r.css({
                                    margin: "0 " + h * 2 + "px"
                                })
                        }
                    }

                    function X() {
                        var e = n(".internal-promo");
                        e.css({
                                width: e.height() * 1.6
                            }),
                            n(".link-to-game").css({
                                height: n(".sg-more-games-banner-content").height() - 2 * h,
                                width: e.width()
                            }),
                            n(".external-promo").length && V()
                    }

                    function V() {
                        var e = n(".internal-promo").first();
                        n(".external-promo").css({
                            height: e.height(),
                            width: e.width()
                        })
                    }

                    function $() {
                        var e = n(".play-button"),
                            t = n(".promo");
                        e.css({
                            left: t.width() / 2 - e.outerWidth() / 2 + "px",
                            bottom: t.height() * .15 + "px"
                        })
                    }

                    function J(t, r) {
                        var i = "unknown os";
                        try {
                            navigator.appVersion.indexOf("Win") != -1 ? i = "Windows" : navigator.appVersion.indexOf("Mac") != -1 ? i = "MacOS" : navigator.appVersion.indexOf("X11") != -1 ? i = "UNIX" : navigator.appVersion.indexOf("Linux") != -1 && (i = "Linux")
                        } catch (s) {
                            f.error("failed to detect operating system")
                        }
                        var o = n.extend({}, r, {
                            game: e.game_slug,
                            partner: e.subplatform,
                            os: i
                        });
                        p.sendEvents(p.createEvent(t, o, !0))
                    }

                    function K(e, t) {
                        if (v && v.length > 0) {
                            var n = v[Math.floor(Math.random() * v.length)];
                            N(n, e)
                        }
                        t()
                    }
                    var e = null,
                        t = null;
                    this.moduleShouldBeEnabled = o,
                        this.openRandomPromotion = K,
                        s.on(u.softgamesReady, i)
                };
            e.prototype.moreGamesBannerHandler = new m,
                f.debug("Added moreGamesBannerHandler to Softgames-Prototype")
        } catch (g) {
            throw console && console.error("[" + o + "] " + g.message, g.stack),
                g
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window, softgamesModalWindow),
    "use strict",
    function(e) {
        "use strict";

        function a(t) {
            try {
                var n = e.navigator || {},
                    r = new t.trackerHandler.EventTracker(t.subplatform, i);
                s.indexOf(t.subplatform) !== -1 && !e.sgPlatformRestrictedHostname && r.sendEvents(r.createEvent("missingFlag", {
                    url: String(e.location),
                    userAgent: n.userAgent || t.userAgent || "Could not be determined",
                    publisherName: t.subplatform
                }, !0))
            } catch (o) {
                u && u.error("Failed to perform platform check", o)
            }
        }
        var t = e.Softgames,
            n = e.SoftgamesLogger,
            r = t.prototype.events,
            i = "platformCheck",
            s = ["m.softgames.de"],
            o = {
                softgamesReady: "softgamesReady"
            },
            u = null;
        try {
            if (!t)
                throw new Error("No Softgames variable defined!");
            if (!n)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            u = new n(i),
                r.on(o.softgamesReady, a),
                u.debug("loaded")
        } catch (f) {
            e.console && e.console.error("[" + i + "] " + f.message, f.stack)
        }
    }(window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "sgConversions",
            s = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function u() {
                        return e
                    }

                    function a(e) {
                        return e.sgctid !== undefined && e.sgcac !== undefined && e.sgctid !== "" && e.sgcac !== ""
                    }

                    function f(r) {
                        var s = r._getUrlParameters();
                        a(s) && (t = s.sgcac,
                            n = s.sgctid,
                            i = new SoftgamesSgConversionsService(t),
                            e = !0,
                            o.debug("initiated"))
                    }

                    function l() {
                        i.convert(n, function(e, t) {
                            t ? o.debug("Conversion done", e) : o.error("Conversion error", e)
                        })
                    }
                    var e = !1,
                        t, n, i;
                    r.on(s.softgamesReady, f),
                        this.isEnabled = u,
                        this.convert = l
                };
            e.prototype.sgConversionsHandler = new u,
                o.debug("Added famobiHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameCrossPromoHandler",
            s = {
                gameDataLoaded: "gameDataLoaded"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function n() {
                        return t
                    }

                    function i(n) {
                        try {
                            n && n.game_cross_promo_config && n.game_cross_promo_config.enabled ? (e.crossPromotion = n.game_cross_promo_config,
                                t = !0,
                                o.info("initialized")) : o.info("No cross_promo_config given or disabled")
                        } catch (r) {
                            o.error("Failed to init"),
                                o.error(r)
                        }
                    }

                    function u() {
                        return f() ? (e.crossPromotion.link && (e.crossPromotion.link.action = a),
                            e) : (o.debug("Not enabled"), {})
                    }

                    function a() {
                        o.debug("cross promo clicked: ", e.crossPromotion.link),
                            SG_Hooks.crossPromotionLinkClicked = !0
                    }

                    function f() {
                        return e.crossPromotion && e.crossPromotion.enabled
                    }
                    var e = {},
                        t = !1;
                    r.on(s.gameDataLoaded, i),
                        this.isInitiated = n,
                        this.isEnabled = f,
                        this.getConfig = u
                };
            e.prototype.gameCrossPromoHandler = new u,
                o.debug("Added gameCrossPromoHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, window),
    "use strict",
    function(e, t, n, r, i) {
        "use strict";
        var s = e.prototype.events,
            o = "floatingHighscores",
            u = {
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady",
                gameLevelStarted: "levelStarted",
                gameLevelFinished: "levelFinished",
                finishedLoadingFlow: "finishedLoadingFlow"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!s)
                throw new Error("No eventManager defined!");
            var a = new t(o),
                f = function() {
                    function h(n) {
                        e = n,
                            p() && (s.on(u.finishedLoadingFlow, d),
                                s.on(u.gameLevelStarted, x),
                                s.on(u.gameLevelFinished, T),
                                s.on(u.kirkUserReady, v),
                                t = !0)
                    }

                    function p() {
                        return !e._isMobile() && e.enableHighscores && e.highscores
                    }

                    function d() {
                        a = !0,
                            a && f && !l && m()
                    }

                    function v() {
                        f = !0,
                            a && f && !l && m()
                    }

                    function m() {
                        l = !0,
                            g(),
                            e.highscoresHandler.refreshHighscores(i, !0, N),
                            n(r).on("resize", S).trigger("resize")
                    }

                    function g() {
                        var e = n("<div>").addClass("sg-floating-highscores-overlay"),
                            t = n("<div>").addClass("sg-floating-highscores-content"),
                            i = n("<div>").addClass("sg-floating-highscores-headline"),
                            s = n("<div>").addClass("sg-floating-highscores-users-container"),
                            o = n("<div>").addClass("sg-floating-highscores-hide-arrow");
                        o.append(n("<i>").addClass("fa fa-angle-double-up")).on("click", y),
                            t.append(i).append(s).append(o),
                            e.append(t);
                        var u = n("<div>").addClass("sg-floating-highscores-return").append(n("<i>").addClass("fa fa-trophy vertical-center"));
                        u.on("click", w),
                            e.append(u),
                            n("body").append(e),
                            n(r).on("resize", function() {
                                c && n(".sg-floating-highscores-overlay").css({
                                    top: -n(".sg-floating-highscores-content").outerHeight() + "px"
                                })
                            })
                    }

                    function y(e) {
                        n(".sg-floating-highscores-overlay").animate({
                            top: -n(".sg-floating-highscores-content").outerHeight() + "px"
                        }, {
                            duration: 400,
                            complete: function() {
                                c = !0,
                                    b(),
                                    typeof e == "function" && e()
                            }
                        })
                    }

                    function b() {
                        n(".sg-floating-highscores-return").css("display", "block").animate({
                            bottom: "-48px"
                        }, {
                            duration: 400
                        })
                    }

                    function w(e) {
                        n(".sg-floating-highscores-return").animate({
                            bottom: 0
                        }, {
                            duration: 400,
                            complete: function() {
                                n(this).css("display", "none"),
                                    c = !1,
                                    E(),
                                    typeof e == "function" && e()
                            }
                        })
                    }

                    function E() {
                        var e = n(".sg-floating-highscores-overlay");
                        e.animate({
                            top: "2vh"
                        }, {
                            duration: 400
                        })
                    }

                    function S() {
                        n(".sg-floating-highscores-overlay").css({
                            height: n(".sg-floating-highscores-content").outerHeight()
                        })
                    }

                    function x(t) {
                        L() && (i = t.level,
                            e.highscoresHandler.refreshHighscores(t.level, !0, N))
                    }

                    function T(t) {
                        L() && e.highscoresHandler.newScore(t.level, t.score, N)
                    }

                    function N(t) {
                        n(".sg-floating-highscores-headline").text("Leader board for level " + i);
                        var r = n(".sg-floating-highscores-users-container");
                        r.empty(),
                            o = !1,
                            n(t).each(function(e, t) {
                                C(t)
                            });
                        if (!o && e.user.known) {
                            var s = t && t.length ? !0 : !1;
                            C({
                                score: e.highscoresHandler.getMyScore(i) || 0,
                                position: e.highscoresHandler.getMyPos(i) || "-",
                                name: e.user.name,
                                avatar: e.user.avatar,
                                id: e.user.externalId
                            }, s)
                        }
                        S(),
                            c && w(function() {
                                c = !0,
                                    n(".sg-floating-highscores-hide-arrow").hide(),
                                    setTimeout(function() {
                                        y(function() {
                                            n(".sg-floating-highscores-hide-arrow").show()
                                        })
                                    }, 2e3)
                            })
                    }

                    function C(t, r) {
                        var i = n("<div>").addClass("sg-floating-highscores-user-row col-xs-12"),
                            s = n("<div>").addClass("sg-floating-highscores-user-position col-xs-2 paddingless left right vertical-center").append(t.position),
                            u = n("<div>").addClass("sg-floating-highscores-user-avatar-container col-xs-1 paddingless left right"),
                            a = n("<img>").addClass("sg-floating-highscores-user-avatar vertical-center").attr("src", t.avatar);
                        u.append(a);
                        var f = n("<diV>").addClass("sg-floating-highscores-user-name col-xs-7 paddingless right vertical-center").append(t.name),
                            l = n("<div>").addClass("sg-floating-highscores-user-score col-xs-2 paddingless left right vertical-center").append(t.score);
                        i.append(s).append(u).append(f).append(l),
                            t.id === e.user.externalId && (i.addClass("sg-floating-highscores-own-user"),
                                o = !0);
                        if (r) {
                            i.css("margin-top", "3%");
                            var c = n("<div>").addClass("sg-floating-highscores-dots").append(k()).append(k()).append(k());
                            i.append(c)
                        }
                        n(".sg-floating-highscores-users-container").append(i)
                    }

                    function k() {
                        return n("<i>").addClass("fa fa-circle")
                    }

                    function L() {
                        return t
                    }
                    var e = null,
                        t = !1,
                        i = 1,
                        o = !1,
                        a = !1,
                        f = !1,
                        l = !1,
                        c = !1;
                    s.on(u.softgamesReady, h)
                };
            e.prototype.floatingHighscoresHandler = new f,
                a.debug("Added floatingHighscoresHandler to Softgames-Prototype")
        } catch (l) {
            throw console && console.error("[" + o + "] " + l.message, l.stack),
                l
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window, softgamesModalWindow),
    function(e, t, n, r) {
        "use strict";
        var i = e.prototype.events,
            s = "gameWalkthroughHandler",
            o = {
                gameDataLoaded: "gameDataLoaded",
                triggerWalktrough: "triggerWalktrough"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("SoftgamesModalWindow not defined!");
            if (!i)
                throw new Error("No eventManager defined!");
            var u = new t(s),
                a = function() {
                    function f() {
                        return t
                    }

                    function l(r) {
                        try {
                            n = softgames.game_slug,
                                r && r.walkthrough_config && r.walkthrough_config.enabled ? (e = r.walkthrough_config,
                                    t = !0,
                                    i.on(o.triggerWalktrough, h),
                                    u.info("initialized")) : u.info("No walkthrough_config given or disabled")
                        } catch (s) {
                            u.error("Failed to init"),
                                u.error(s)
                        }
                    }

                    function c() {
                        if (p())
                            return e;
                        u.debug("Not enabled")
                    }

                    function h() {
                        var e = document.createElement("script");
                        e.id = "veediInit",
                            e.type = "text/javascript",
                            e.innerHTML = "var _v,settings = {game : '" + n + "',publisherId : 74654787, customDomain:'softgames_games'};(function(settings)  {var vScript = document.createElement('script'); vScript.type = 'text/javascript'; vScript.async = true;vScript.src = 'http://www.veedi.com/player/embed/veediEmbed.js';vScript.onload = function(){_v = new VeediEmbed(settings);};var veedi = document.getElementById('veediInit');veedi.parentNode.insertBefore(vScript, veedi);})(settings);",
                            a.open("walkthrough", e),
                            u.debug("walkthroughCalled")
                    }

                    function p() {
                        return e.walktrough && e.walktrough.enabled
                    }
                    var e = {},
                        t = !1,
                        n, a = r.getModalWindow(s);
                    i.on(o.gameDataLoaded, l),
                        this.isInitiated = f,
                        this.isEnabled = p,
                        this.getConfig = c
                };
            e.prototype.gameWalkthroughHandler = new a,
                u.debug("Added gameWalkthroughHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + s + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, window, softgamesModalWindow),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameConfig",
            s = {
                gameDataLoaded: "gameDataLoaded"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function a() {
                        return u
                    }

                    function f(e) {
                        switch (e) {
                            case "wide_screen":
                                return "mobile";
                            case "regular_screen":
                                return "common"
                        }
                    }

                    function l(e) {
                        var t = e.replace("popup_", "");
                        return t.charCodeAt() - 64
                    }

                    function c(e) {
                        switch (e) {
                            case "container_id":
                                return "points";
                            case "ad_hash":
                                return "time";
                            case "group_id":
                                return "time_milliseconds"
                        }
                    }

                    function h(e) {
                        return e.substr(0, e.length - 3).substr(3) * 1
                    }

                    function p(e) {
                        return e.substr(0, e.length - 4).substr(2) * 1
                    }

                    function d(e) {
                        return e.substr(4) * 1
                    }

                    function v(e, t) {
                        switch (e) {
                            case "container_id":
                                return h(t);
                            case "ad_hash":
                                return p(t);
                            case "group_id":
                                return d(t)
                        }
                    }

                    function m(e) {
                        var t = {};
                        for (var n in e)
                            t[c(n)] = v(n, e[n]);
                        return t
                    }

                    function g(e) {
                        var t = {
                            levels: {}
                        };
                        for (var n in e)
                            t.levels[l(n)] = m(e[n]);
                        return t
                    }

                    function y(e) {
                        var t = {};
                        for (var n in e)
                            t[f(n)] = g(e[n]);
                        return t
                    }

                    function b(r) {
                        try {
                            i = ["gameCrossPromoHandler", "gameWalkthroughHandler", "gameBoosterHandler", "gameItemHandler", "highscoresHandler", "abTestingHandler", "gameBannerHandler"],
                                w(r) ? (r && r.game_config ? (e.common = JSON.parse(n.atob(r.game_config.common)),
                                        e.mobile = JSON.parse(n.atob(r.game_config.mobile))) : (e.common = {},
                                        e.mobile = {}),
                                    r.ads_popups_config ? t = y(r.ads_popups_config) : o.warn("No ads_popups_config given"),
                                    u = !0,
                                    o.info("initialized")) : o.info("No game_config given")
                        } catch (s) {
                            o.error("Failed to init"),
                                o.error(s)
                        }
                    }

                    function w(e) {
                        if (e && e.game_config)
                            return !0;
                        var t = !1;
                        return i.forEach(function(e) {
                                softgames[e].isEnabled() && (t = !0)
                            }),
                            t
                    }

                    function E(e, t) {
                        var n = {};
                        for (var r in e) {
                            n[r] === undefined && (n[r] = {});
                            for (var i in e[r]) {
                                n[r][i] === undefined && (n[r][i] = {});
                                for (var s in e[r][i])
                                    n[r][i][s] = e[r][i][s] + t[r][i][s]
                            }
                        }
                        return n
                    }

                    function S(r) {
                        var i = {},
                            s = {};
                        r ? (i = e.mobile,
                            s = t.mobile) : (i = e.common,
                            s = t.common);
                        var u = E(i, s);
                        return u = x(u),
                            o.debug("config: ", u),
                            n.btoa(JSON.stringify(u))
                    }

                    function x(e) {
                        return i.forEach(function(t) {
                                softgames[t].isEnabled() && jQuery.extend(e, softgames[t].getConfig())
                            }),
                            e
                    }
                    var e = {},
                        t = {},
                        i = [],
                        u = !1;
                    r.on(s.gameDataLoaded, b),
                        this.isInitiated = a,
                        this.getConfig = S
                };
            e.prototype.gameConfigHandler = new u,
                o.debug("Added gameConfigHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, window),
    function(e, t, n) {
        "use strict";
        var r = "abTesting",
            i = "https://ab-service.herokuapp.com",
            s = "gameAbTestUser",
            o = "cklgt234mnas845fa12",
            u = "/api/v1",
            a = "/game-test-configs/%gameSlug%/users/%userId%";
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            var f = new t(r),
                l = function() {
                    function l() {
                        return r
                    }

                    function c() {
                        // debugger;
                        return i + u + a.replace("%gameSlug%", e).replace("%userId%", t)
                    }

                    function h(e) {
                        f.debug("Requesting ab tesing configuration from service"),
                            f.debug("User ID: " + t),
                            n.ajax({
                                method: "GET",
                                url: c(),
                                username: s,
                                password: o,
                                data: {},
                                beforeSend: function(e) {
                                    e.setRequestHeader("Authorization", "Basic " + btoa(s + ":" + o))
                                }
                            }).done(function(t) {
                                e(t)
                            }).fail(function(t) {
                                f.debug("Error or API request", t),
                                    e({})
                            })
                    }

                    function p() {
                        return !0
                    }

                    function d(n, i, s) {
                        e = n,
                            t = i,
                            h(function(e) {
                                r.abTesting = e,
                                    s()
                            })
                    }
                    var e, t, r = {
                        abTesting: {}
                    };
                    this.getConfig = l,
                        this.isEnabled = p,
                        this.requestConfig = d
                };
            e.prototype.abTestingHandler = new l,
                f.debug("Added abTestingHandler to Softgames-Prototype")
        } catch (c) {
            throw console && console.error("[" + r + "] " + c.message, c.stack),
                c
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameBanner",
            s = {
                softgamesReady: "softgamesReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            var o = new t(i),
                u = {
                    game: {}
                },
                a = "http:",
                f = "https:",
                l = a,
                c = {},
                h = function() {
                    function e(e) {
                        return l === a ? e.indexOf(a) < 0 ? e = a + e : e.indexOf(f) > -1 && e.replace(f, a) : e.indexOf(f) < 0 ? e = f + e : e.indexOf(f + "/") > -1 && e.replace(a, f),
                            e
                    }

                    function t() {
                        return c && c.uri && (u.game.bannerUrl = e(c.uri)),
                            u
                    }

                    function n() {
                        var e = !1;
                        return document && document.location && (e = f === document.location.protocol),
                            e ? f : a
                    }

                    function i() {
                        return !0
                    }

                    function o(e) {
                        c = e.gameBanner
                    }
                    l = n(),
                        this.getConfig = t,
                        this.isEnabled = i,
                        r.on(s.softgamesReady, o)
                };
            e.prototype.gameBannerHandler = new h,
                o.debug("Added gameBannerHandler to Softgames-Prototype")
        } catch (p) {
            throw console && console.error("[" + i + "] " + p.message, p.stack),
                p
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n, r) {
        "use strict";

        function y(e, t) {
            function o(e) {
                n || (n = !0,
                    t(e))
            }

            function u(e) {
                e ? o(e) : (i++,
                    i === r && o())
            }
            var n = !1,
                r = 0,
                i = 0;
            try {
                r = e.length
            } catch (s) {
                t(s);
                return
            }
            try {
                for (var a in e)
                    if (e.hasOwnProperty(a)) {
                        var f = e[a];
                        m.debug("Load sdk: " + f),
                            softgames.scriptLoader.loadScript(e[a], function(e) {
                                e || m.debug("Finished loading sdk: " + f),
                                    u(e)
                            })
                    }
            } catch (s) {
                t(s)
            }
        }

        function b(e, t) {
            try {
                m.info("Initializing ...");
                if (i) {
                    m.info("... module disabled"),
                        t();
                    return
                }
                w(e, function(n, r) {
                    try {
                        if (n)
                            throw n;
                        L(r);
                        if (!r.track) {
                            m.info("User should not be tracked", r),
                                t();
                            return
                        }
                        if (!r.id)
                            throw new Error("Track user does not have an id");
                        m.info("User should be tracked ..."),
                            y([f], function(n) {
                                try {
                                    if (n)
                                        throw n;
                                    A(r, e),
                                        m.info("... user will be tracked."),
                                        _(r.id, e, t)
                                } catch (n) {
                                    m.error("... can't track user due to failed loading of sdks"),
                                        m.error(n),
                                        t(n)
                                }
                            })
                    } catch (n) {
                        m.error("Failed to get clean tracking user"),
                            m.error(n),
                            t(n)
                    }
                })
            } catch (n) {
                m.error("Could not init user tracking due to error"),
                    m.error(n),
                    t(n)
            }
        }

        function w(e, t) {
            try {
                m.debug("getTrackingUser ...");
                var n = u + "=",
                    r = document.cookie.split(";"),
                    i = null;
                for (var s = 0; s < r.length; s++) {
                    var o = r[s];
                    while (o.charAt(0) === " ")
                        o = o.substring(1);
                    o.indexOf(n) === 0 && (i = o.substr(n.length, o.length))
                }
                if (i) {
                    m.debug("... return user from cookie"),
                        t(null, JSON.parse(i));
                    return
                }
                E(e, null, function(e, n) {
                    try {
                        if (e)
                            throw e;
                        if (!n.track) {
                            m.debug("... return user that should not be tracked"),
                                t(null, n);
                            return
                        }
                        if (n.id) {
                            m.debug("... return user existing on server"),
                                t(null, n);
                            return
                        }
                        C(n, t)
                    } catch (e) {
                        t(e)
                    }
                })
            } catch (a) {
                t(a)
            }
        }

        function E(e, t, n) {
            try {
                m.debug("attachTrackingInformation ..."),
                    t = t || {
                        id: null,
                        track: !1
                    },
                    S(e, t, function(t, r) {
                        try {
                            if (t)
                                throw t;
                            if (r.trackingInformation) {
                                n(null, r);
                                return
                            }
                            N(e, r, function(e, t) {
                                try {
                                    if (e)
                                        throw e;
                                    r.track = t.track,
                                        r.trackingInformation = t;
                                    var i = r.id;
                                    r.id = null,
                                        t.user && (r.id = t.user),
                                        i && i !== r.id && L(r),
                                        m.debug("... attached tracking information"),
                                        n(null, r)
                                } catch (e) {
                                    n(e)
                                }
                            })
                        } catch (t) {
                            n(t)
                        }
                    })
            } catch (r) {
                n(r)
            }
        }

        function S(e, t, n) {
            try {
                m.debug("attacheIdentifiers ...");
                if (t.identifiers && t.fingerprintComponents) {
                    t.id && (t.identifiers.user = t.id),
                        m.debug("... identifiers already exists"),
                        n(null, t);
                    return
                }
                y([c], function(r) {
                    try {
                        if (r)
                            throw r;
                        var i = {
                            coreUserId: e.user ? e.user.userId : null,
                            ip: e.clientIp
                        };
                        t.id && (i.user = t.id),
                            x(e, function(e, r) {
                                try {
                                    if (e)
                                        throw e;
                                    i.fakeUserId = r,
                                        T(function(e, r, s) {
                                            try {
                                                if (e)
                                                    throw e;
                                                i.fingerprint = r,
                                                    t.identifiers = i,
                                                    t.fingerprintComponents = s,
                                                    m.debug("... attached identifiers", i),
                                                    n(null, t)
                                            } catch (e) {
                                                n(e)
                                            }
                                        })
                                } catch (e) {
                                    n(e)
                                }
                            })
                    } catch (r) {
                        n(r)
                    }
                })
            } catch (r) {
                n(r)
            }
        }

        function x(e, t) {
            try {
                m.debug("getFakeUserId ..."),
                    e.cookieVerificatorHandler.getUser(function(e, n) {
                        n = n || {},
                            m.debug("... got fakeUser", n),
                            t(e, n.id)
                    })
            } catch (n) {
                t(n)
            }
        }

        function T(e) {
            try {
                if (!r.SgFingerprint)
                    throw new Error("window.SgFingerprint does not exist");
                m.debug("getFingerprint ..."),
                    (new SgFingerprint).get(function(t, n) {
                        m.debug("... got fingerprint", t),
                            e(null, t, n)
                    })
            } catch (t) {
                e(t)
            }
        }

        function N(e, t, n) {
            try {
                var r = {
                    coreUserId: t.identifiers.coreUserId,
                    fakeUserId: t.identifiers.fakeUserId,
                    fingerprint: t.identifiers.fingerprint,
                    ip: t.identifiers.ip
                };
                t.id && (r.user = t.id);
                var i = e._getUrlParameters().forceUserTracking;
                ["true", "1"].indexOf(i) !== -1 && (r.forceUserTracking = "true"),
                    k({
                        method: "GET",
                        url: h,
                        payload: r,
                        timeout: 2e3
                    }, function(e, t) {
                        try {
                            if (e)
                                throw e;
                            n(null, t)
                        } catch (e) {
                            n(e)
                        }
                    })
            } catch (s) {
                n(s)
            }
        }

        function C(e, t) {
            try {
                if (!e.identifiers)
                    throw new Error("User without identifiers given");
                if (!e.trackingInformation)
                    throw new Error("User must have trackingInformation to send identifiers");
                e.id && e.trackingInformation.identifierExists && (e.identifiersSent = !0,
                    m.info("No need to update identifier"));
                if (e.id && e.identifiersSent) {
                    t(null, e);
                    return
                }
                var n = {
                    coreUserId: e.identifiers.coreUserId,
                    fakeUserId: e.identifiers.fakeUserId,
                    fingerprint: e.identifiers.fingerprint,
                    ip: e.identifiers.ip,
                    hitChance: e.id ? e.trackingInformation.hitChance : 100
                };
                e.id && (n.user = e.id),
                    k({
                        method: "POST",
                        url: p,
                        payload: n,
                        timeout: 5e3
                    }, function(n, r) {
                        try {
                            if (n)
                                throw n;
                            var i = e.id;
                            e.id = r.user,
                                e.identifiersSent = !0,
                                i !== e.id && L(e),
                                t(null, e)
                        } catch (n) {
                            t(n)
                        }
                    })
            } catch (r) {
                t(r)
            }
        }

        function k(e, t) {
            try {
                var r = e.method.toLowerCase() === "get",
                    i = e.payload && !r ? JSON.stringify(e.payload) : e.payload;
                n.ajax({
                    type: e.method,
                    url: e.url,
                    async: !0,
                    cache: !1,
                    data: i,
                    processData: r,
                    dataType: "json",
                    contentType: "application/json",
                    timeout: e.timeout || 5e3,
                    beforeSend: function(e) {
                        e.setRequestHeader("Authorization", "Basic " + btoa("userManagerUser:ciodsa23432nuvcas71324"))
                    },
                    error: function(e, n, r) {
                        t(new Error("Request to user manager failed: " + r))
                    },
                    success: function(e, n, r) {
                        try {
                            var i = r.status;
                            if ([200, 201].indexOf(i) === -1)
                                throw new Error("Invalid status code in response: " + i + ": " + n);
                            t(null, e)
                        } catch (s) {
                            t(s)
                        }
                    }
                })
            } catch (s) {
                t(s)
            }
        }

        function L(e) {
            try {
                var t = {
                    id: e.id,
                    track: !!e.track
                };
                m.debug("Set tracked user", t);
                var n = new Date(Date.now() + a),
                    r = "expires=" + n.toUTCString();
                document.cookie = u + "=" + JSON.stringify(t) + "; " + r
            } catch (i) {
                m.warn("Failed to store user"),
                    m.warn(i)
            }
        }

        function A(e, t) {
            function n(e) {
                e ? (m.error("Failed updating user identifiers"),
                    m.error(e)) : m.info("... user information up to date")
            }
            try {
                setTimeout(function() {
                    try {
                        m.info("Start updating user information ..."),
                            E(t, e, function(e, t) {
                                try {
                                    if (e)
                                        throw e;
                                    C(t, function(e, t) {
                                        try {
                                            if (e)
                                                throw e;
                                            O(t, n)
                                        } catch (e) {
                                            n(e)
                                        }
                                    })
                                } catch (e) {
                                    n(e)
                                }
                            })
                    } catch (r) {
                        n(r)
                    }
                }, 1)
            } catch (r) {
                m.error("Failed to start async update process"),
                    m.error(r)
            }
        }

        function O(e, t) {
            try {
                if (!e.fingerprintComponents)
                    throw new Error("User without fingerprintComponents given");
                if (!e.id)
                    throw new Error("User without id given");
                if (!e.trackingInformation)
                    throw new Error("User without tracking information given");
                e.trackingInformation.componentsExist && (e.fingerprintComponendsSent = !0,
                    m.info("No need to update fingerprint components"));
                if (e.fingerprintComponendsSent) {
                    t(null, e);
                    return
                }
                var n = {
                    fingerprintComponents: e.fingerprintComponents
                };
                k({
                    method: "PUT",
                    url: M(d) + e.id,
                    payload: n,
                    timeout: 5e3
                }, function(n) {
                    try {
                        if (n)
                            throw n;
                        e.fingerprintComponendsSent = !0,
                            t(null, e)
                    } catch (n) {
                        t(n)
                    }
                })
            } catch (r) {
                t(r)
            }
        }

        function M(e) {
            return e.substr(-1) === "/" ? e : e + "/"
        }

        function _(e, t, n) {
            try {
                var i = D(e, t);
                if (!i)
                    throw new Error("Could not get config");
                var s = r.sgUserBehaviorTrack(i);
                s.hookEvents(o, function(e, t) {
                        g.on(e, t)
                    }),
                    g.fire(v.trackerInitiated),
                    m.info("User Behavior SDK initiated"),
                    n()
            } catch (u) {
                m.error("Failed to start tracking", {
                        trackUserId: e
                    }),
                    m.error(u),
                    n(u)
            }
        }

        function D(e, t) {
            return e ? {
                user: e,
                publisher: t.subplatform,
                game: t.game_slug,
                track: {
                    retry: !0,
                    duration: !0,
                    retention: !0
                },
                options: {
                    url: l
                }
            } : null
        }
        // debugger;
        var i = !0,
            s = "userBehaviorTracker",
            o = "Softgames",
            u = "sgUserBT",
            a = 615168e5,
            f = "//dop3jnx8my3ym.cloudfront.net/user-behavior-sdk.js?_v=3.0.0",
            l = "http://t.sgc.io/tracking/user-behavior",
            c = "//dop3jnx8my3ym.cloudfront.net/sg-fingerprint.min.js",
            h = "https://um.sgc.io/api/v1/tracking-information",
            p = "https://um.sgc.io/api/v1/user-identifiers",
            d = "https://um.sgc.io/api/v1/users",
            v = {
                trackerInitiated: "userBehaviorTrackerInitiated",
                gameStarted: "gameStarted"
            },
            m, g = e.prototype.events;
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!g)
                throw new Error("No eventManager defined!");
            m = new t(s),
                e.prototype.ubt = {
                    init: b
                },
                m.info("Connected ubt to Softgames")
        } catch (P) {
            throw console && console.error("[" + s + "] " + P.message, P.stack),
                P
        }
    }(Softgames, SoftgamesLogger, SG_jQuery, window),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "gameTracker",
            s = {
                softgamesReady: "softgamesReady",
                kirkUserReady: "kirkUserReady"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            if (!r)
                throw new Error("No eventManager defined!");
            var o = new t(i),
                u = function() {
                    function a() {
                        return e
                    }

                    function f(r) {
                        if (r.trackerHandler !== undefined) {
                            t = r.game_slug,
                                n = r.subplatform,
                                u = new r.trackerHandler.EventTracker(n, i),
                                e = !0;
                            if (r._getUrlParameter("trackVisit") === "true") {
                                l(r.trackerHandler);
                                if (history && history.pushState) {
                                    var s = window.location.toString().replace("&trackVisit=true", "");
                                    window.history.pushState({
                                        path: s
                                    }, "", s)
                                }
                            }
                        } else
                            o.debug("Softgames trackerHandler is undefined")
                    }

                    function l(e) {
                        var t = new e.EventTracker(n, "visits");
                        t.sendEvents(t.createEvent("game-visit", {
                            publisher: n
                        }, !0))
                    }

                    function c(e, n) {
                        if (a()) {
                            var r = n;
                            if (r === undefined || r === null)
                                r = {};
                            r._game = t,
                                o.debug(e, r),
                                u.sendEvents(u.createEvent(e, r, !0))
                        } else
                            o.debug("Not initiated")
                    }
                    var e = !1,
                        t, n, u;
                    this.track = c,
                        r.on(s.softgamesReady, f)
                };
            e.prototype.gameTrackerHandler = new u,
                o.debug("Added gameTrackerHandler to Softgames-Prototype")
        } catch (a) {
            throw console && console.error("[" + i + "] " + a.message, a.stack),
                a
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function(e, t, n) {
        "use strict";
        var r = e.prototype.events,
            i = "loadingFlowTracker",
            s = {
                gameStarted: "gameStarted",
                levelFinished: "levelFinished",
                gameGameOver: "gameGameOver",
                displayInGameAdPopupStarted: "displayInGameAdPopupStarted",
                displayInGameAdPopupDone: "displayInGameAdPopupDone"
            };
        try {
            if (!e)
                throw new Error("No Softgames variable defined!");
            if (!t)
                throw new Error("SoftgamesLogger not defined!");
            if (!n)
                throw new Error("No SG_jQuery defined!");
            var o = new t(i),
                u = !1,
                a = function() {
                    function e(e, t) {
                        window.sgLoader && window.sgLoader.trackLoadingFlow && window.sgLoader.trackLoadingFlow(e, t)
                    }

                    function t() {
                        e("GameMenuVisible", {})
                    }

                    function n() {
                        u === !1 && (u = !0,
                            e("Game1Complete", {}),
                            r.remove(s.gameGameOver, o),
                            r.remove(s.levelFinished, i))
                    }

                    function i() {
                        n()
                    }

                    function o() {
                        n()
                    }

                    function a() {
                        e("FirstIngameAdStarted"),
                            r.remove(s.displayInGameAdPopupStarted, a)
                    }

                    function f() {
                        e("FirstIngameAdDone"),
                            r.remove(s.displayInGameAdPopupDone, f)
                    }
                    r.on(s.gameStarted, t),
                        r.on(s.levelFinished, i),
                        r.on(s.gameGameOver, o),
                        r.on(s.displayInGameAdPopupStarted, a),
                        r.on(s.displayInGameAdPopupDone, f),
                        this.track = e
                };
            e.prototype.loadingFlowTrackerHandler = new a,
                o.debug("Added loadingFlowTrackerHandler to Softgames-Prototype")
        } catch (f) {
            throw console && console.error("[" + i + "] " + f.message, f.stack),
                f
        }
    }(Softgames, SoftgamesLogger, SG_jQuery),
    function() {
        Softgames.prototype.defaultSubsystem = "m.softgames.de",
            Softgames.prototype.embedGame = !1,
            Softgames.prototype.enabledDebugLog = !1,
            Softgames.prototype.changeScreenSize = null,
            Softgames.prototype.changeScreenOrientation = null,
            Softgames.prototype.externalStyles = "",
            Softgames.prototype.customGameHeader = "",
            Softgames.prototype.splashScreenLogoLoaded = !1,
            Softgames.prototype.splashScreenLogoOnload = null,
            Softgames.prototype.splashScreenReady = !1,
            Softgames.prototype.skipAds = !1,
            Softgames.prototype.skipIngameAds = !1,
            Softgames.prototype.showAdPage = !1,
            Softgames.prototype.showGameDetailsPageWithoutAd = !1,
            Softgames.prototype.showAdPreroll = !1,
            Softgames.prototype.showAdPreGDProll = !1,
            Softgames.prototype.ingame_menu = "",
            Softgames.prototype.gaCode = "UA-33273423-1",
            Softgames.prototype.gaSecondaryCode = "UA-89033914-1",
            Softgames.prototype.externalGACode = "",
            Softgames.prototype.gaAnonymizingIp = !1,
            Softgames.prototype.hideMoreGamesButton = !1,
            Softgames.prototype.enableAbAdFirstGameDpage = !1,
            Softgames.prototype.endLevelEventCounter = 0,
            Softgames.prototype.endLevelEventCountInterval = 0,
            Softgames.prototype.enabledEndLevelFlow = !0,
            Softgames.prototype.displayEndLevelLastTime = 0,
            Softgames.prototype.displayEndLevelInterval = 45e3,
            Softgames.prototype.activeEndLevelFlow = !1,
            Softgames.prototype.activeAfterFirstLevelAdPopup = !1,
            Softgames.prototype.endLevelCloseButtonTimer = 5e3,
            Softgames.prototype.displayLoadingPageTime = 1800,
            Softgames.prototype.adsConversionFlow = void 0,
            Softgames.prototype.adsConversionPoints = void 0,
            Softgames.prototype.adsConversionPointsMobile = void 0,
            Softgames.prototype.adsConversionPointsDesktop = void 0,
            Softgames.prototype.adsConversionLevel = void 0,
            Softgames.prototype.adsConversionLevelPoints = void 0,
            Softgames.prototype.adsConversionShowPopup = !1,
            Softgames.prototype.conversionOfferId = void 0,
            Softgames.prototype.conversionOfferRef = void 0,
            Softgames.prototype.partnerNameCookieKey = "_sgpf",
            Softgames.prototype.conversionGamePostfix = "-cpa",
            Softgames.prototype.gameInitCallbackToCall = !1,
            Softgames.prototype.userCookieExpressions = 732,
            Softgames.prototype.isStarted = !1,
            Softgames.prototype.playClickedCounter = 0,
            Softgames.prototype.blockGameWhenAdBlocker = !1,
            Softgames.prototype.gameBubbleConfig = {
                on_start: !1,
                on_level_up: !1,
                on_game_over: !1,
                on_pause_on: !1
            },
            Softgames.prototype.apiAdapter = null,
            Softgames.prototype.host = "m.sgc.io/",
            Softgames.prototype.maxGameWidth = 533,
            Softgames.prototype.maxGameHeight = 800,
            Softgames.prototype.uiMainGameIframe = "sg-main-game-iframe",
            Softgames.prototype.wrappedSafariMetaContent = "safari-wrapped"
    }
    .call(this),
    function() {
        var e, t = this;
        // debugger;
        Softgames.prototype.ready = function(e) {
                var t = this;
                return this.cookieVerificatorHandler.isCookieRedirection(this._getUrlParameters()) && (this.cookieVerificatorHandler.markCookieRedirection(),
                        this.cookieVerificatorHandler.redirectBack(this._getUrlParameters())),
                    this.isStarted ? null : (this.isStarted = !0,
                        this.logger = new SoftgamesVoyagerLogger,
                        this._loadLastUserSessionLevel(),
                        window.softgamesDocumentReady ? (this.system_id = this._getSystemId(),
                            this.game_slug = this._getGameSlug(),
                            this._isOperamini() ? this._redirectToOperaminiFallback() : this._init(function() {
                                var n;
                                return t.documentDomain && (n = String(document.domain),
                                        document.domain = t.documentDomain,
                                        t.logger.log("Changed document domain from " + n + " to " + document.domain + " (voyager)")),
                                    t.adBlockerHandler.checkForAdBlocker(t, function() {
                                        return t._getUrlParameters().voyager_debug === "1" && (t.enabledDebugLog = !0),
                                            t.cookieVerificatorHandler.checkCookie(),
                                            t._trackEvent("ready", t.locale),
                                            t._trackIframe(),
                                            t._initPageController(function() {
                                                var n;
                                                return t.events.fire("softgamesReady", t, !0),
                                                    t.adsHandler && t.adsHandler.setAdHandler && t.adsHandler.setAdHandler(),
                                                    t.events.fire("mediaManagerLoaded", t),
                                                    n = SG_jQuery("head"),
                                                    t._addExternalStyles(n),
                                                    SG_jQuery(".custom_style_opacity").length && SG_jQuery(".custom_style_opacity").remove(),
                                                    t.external_js_filename && t._loadScript(t.external_js_filename, !1),
                                                    t._isiPhone() && !t._hasAppleMetaTag() && t._addAppleMetaTag(),
                                                    t._start(function() {
                                                        return t._initLoadingFlow,
                                                            t._loadingFlowNextStep(function() {
                                                                return typeof e == "function" && e(),
                                                                    t._isIframeFlow() && t._loadIframeGame(),
                                                                    t.gameInitCallback ? typeof t.gameInitCallback == "function" ? t.gameInitCallback() : void 0 : t.gameInitCallbackToCall = !0
                                                            })
                                                    })
                                            })
                                    })
                            })) : setTimeout(function() {
                            return t.ready()
                        }, 500))
            },
            Softgames.prototype._initPageController = function(e) {
                return window.sgPc ? window.sgPc.initAfterVoyagerLoaded(this, e) : e()
            },
            Softgames.prototype.redirectToPortal = function() {
                return this.events.fire("redirectToPortal", {
                    detectedPortalUrl: this._getBackUrl()
                })
            },
            Softgames.prototype._displayGameDetailsPage = function(e) {
                var t, n = this;
                if (this.offerWallConnector.isOfferwallConnectorActive())
                    return this._loadingFlowNextStep(e);
                if (!this.showAdPage || !this.firstPageModule.isConfigured() || this.skipAds === !0 && (this.showGameDetailsPageWithoutAd === undefined || this.showGameDetailsPageWithoutAd === !1))
                    return this.embedGameFN() ? (this._isIframeFlow() === !1 && this._dumpGameBody(),
                        this._displayGamePage(),
                        t = SG_jQuery("#voyager-page-body"),
                        this._isIframeFlow() === !1 ? this._restoreGameBody(function() {
                            return n._loadingFlowNextStep(e)
                        }, t) : this._loadingFlowNextStep(e)) : this._isIframeFlow() ? (this._displaySimpleGamePage(),
                        this._loadingFlowNextStep(e)) : this._loadingFlowNextStep(e);
                this._trackAction("gameDetailsPage"),
                    this._isIframeFlow() === !1 && this._dumpGameBody(),
                    this._buildGameDetailsPage(function() {
                        return n._loadingFlowNextStep(e)
                    });
                if (!this.showGameDetailsPageWithoutAd)
                    return this.adsHandler.show(this.adsHandler.SLOTS.GAME_DETAILS)
            },
            Softgames.prototype._prepareGamePage = function(e) {
                return this._loadingFlowNextStep(e)
            },
            Softgames.prototype._displayBuzzQuiz = function(e) {
                return this.buzzQuizConfig ? (SG_jQuery("body").html(this.buzzQuizTemplates.page_1).css("background-color", "white"),
                    this.events.fire("createBuzzQuiz")) : this._loadingFlowNextStep(e)
            },
            Softgames.prototype._displayMoreGames = function(e) {
                var t = this;
                return this._trackAction("displayMoreGames-Type-new"),
                    this.moreGamesModule.show(function() {
                        return t._endLevelFlowNextStep(e)
                    })
            },
            Softgames.prototype._displayMoreGamesPage = function(e) {
                var t = this;
                return this._destroyLoadingPage(),
                    this._isIframeFlow() === !1 && this._dumpGameBody(),
                    this._buildMoreGamesPage(function() {
                        return t._endLevelFlowNextStep(e)
                    })
            },
            Softgames.prototype._buildMoreGamesPage = function(e) {
                var t, n, r, i, s, o, u = this;
                return r = this.more_games_page_a,
                    SG_jQuery("body").append(r),
                    t = SG_jQuery("#voyager-play-again-btn"),
                    this._registerClick(t, function(t) {
                        t.preventDefault(),
                            u._trackEvent("moreGamesPlayAgainClicked"),
                            u._trackEvent("play-again-A");
                        if (u._isIframeFlow() === !1)
                            return u._restoreGameBody(e, SG_jQuery("body"))
                    }),
                    o = SG_jQuery("#voyager-score-value"),
                    this.highscoresHandler.isInitiated() && o.html(this.highscoresHandler.currentBestScore()),
                    s = SG_jQuery("#voyager-ranking-value"),
                    i = Math.floor(Math.random() * 10001) + 1,
                    s.html("#" + i),
                    n = SG_jQuery(".voyager-game-info-container"),
                    SG_jQuery.each(n, function(e, t) {
                        return u._registerClick(SG_jQuery(n[e]), function(e) {
                            return e.preventDefault(),
                                u._trackEvent("goto-similar-game-A"),
                                setInterval(function() {
                                    return document.location = t
                                }, 500)
                        })
                    })
            },
            Softgames.prototype._buildGameDetailsPage = function(e) {
                var t, n = this;
                return SG_jQuery("body").append(this.first_page),
                    SG_jQuery(".voyager-game-description-first-part").lenght && SG_jQuery(".voyager-game-description-second-part").lenght && this._positionAdOnGameDetailsPage(),
                    t = SG_jQuery(".voyager-success-btn:not(.not-clickable)"),
                    this._registerClick(t, function(t) {
                        return t.preventDefault(),
                            n.gameDetailsPageVersion === "version_x" ? n._shouldGamePageBeLoaded() ? n._lunchGamePage(e) : n.events.fire("getNewFirstPage") : n._lunchGamePage(e)
                    }),
                    this.events.fire("firstPageLoaded", null, !0)
            },
            Softgames.prototype._lunchGamePage = function(e) {
                var t;
                return t = SG_jQuery("body"),
                    this.embedGameFN() ? (this._displayGamePage(),
                        t = SG_jQuery("#voyager-page-body")) : this._isIframeFlow() && this._displaySimpleGamePage(),
                    this._isIframeFlow() === !1 ? this._restoreGameBody(e, t) : typeof e == "function" ? e() : void 0
            },
            Softgames.prototype._start = function(e) {
                return this.events.fire("startFinished", this),
                    e()
            },
            Softgames.prototype.gameId = function() {
                return this.gid
            },
            Softgames.prototype.isEnabledIncentiviseButton = function() {
                return this.incentivise.isActive()
            },
            Softgames.prototype.displayBanner = function(e) {
                return this._displayIngameAdPopup(e)
            },
            Softgames.prototype._setEndLevelFlow = function() {
                return this.endLevelFlowLogger || (this.endLevelFlowLogger = new SoftgamesLogger("endLevelFlow")),
                    this.moreGamesType || (this.endLevelFlowLogger.debug('No moreGamesType given. Fallback to "old"'),
                        this.moreGamesType = "old"),
                    this.endLevelFlowLogger.debug("Set end level flow to type:", this.moreGamesType),
                    this.endLevelFlowOrder = this.endLevelFlowOrders[this.moreGamesType] || []
            },
            Softgames.prototype._endLevelFlowNextStep = function(e) {
                try {
                    return this.endLevelFlowLogger.debug("Next step ..."),
                        this.nextstep = this.endLevelFlowOrder[this.endLevelFlowStep],
                        this.nextstep !== void 0 ? (this.endLevelFlowLogger.debug("... execute step " + this.endLevelFlowStep),
                            this.endLevelFlowStep += 1,
                            this.nextstep(e)) : (this.endLevelFlowLogger.debug("... finish"),
                            this._quitEndLevelFlow(e))
                } catch (t) {
                    return this.endLevelFlowLogger.error(t)
                }
            },
            Softgames.prototype._startEndLevelFlow = function(e, t) {
                return this.endLevelFlowLogger.debug("Starting end level flow ..."),
                    this._tooShortEndLevelInterval() === !1 && this.activeEndLevelFlow === !1 ? (this.endLevelFlowLogger.debug("... done"),
                        this.activeEndLevelFlow = !0,
                        this.endLevelFlowStep = t,
                        this._endLevelFlowNextStep(e)) : (this.endLevelFlowLogger.debug("... skipping"),
                        typeof e == "function" ? e() : void 0)
            },
            Softgames.prototype._quitEndLevelFlow = function(e) {
                return this.endLevelFlowLogger.debug("Finishing ..."),
                    this.endLevelFlowStep = this.endLevelFlowOrder.length + 1,
                    this.activeEndLevelFlow = !1,
                    this.displayEndLevelLastTime = SG_jQuery.now(),
                    SG_jQuery(window).scrollTop(0),
                    this._destroyLoadingPage(),
                    this.endLevelFlowLogger.debug("... finished"),
                    typeof e == "function" ? e() : void 0
            },
            Softgames.prototype._initLoadingFlow = function() {
                return window.sgLoader && window.sgLoader.isActive() ? this.loadingFlowOrder = this.loadingFlowWithSgLoader : this.loadingFlowOrder = this.loadingFlowWithoutSgLoader
            },
            Softgames.prototype._loadingFlowNextStep = function(e) {
                return this.nextstep = this.loadingFlowOrder[this.loadingFlowStep],
                    this.nextstep !== void 0 ? (this.loadingFlowStep += 1,
                        this.nextstep(e)) : (this.showMenu && this.ingame_menu !== "" && this._buildMenu(),
                        this.gameBubbleConfig.on_start && window.addToHome.show(!0),
                        this.events.fire("loadingFlowFinished"),
                        typeof e == "function" ? e() : void 0)
            },
            Softgames.prototype._redirectToOperaminiFallback = function() {
                var e;
                return e = "//" + this.host + "/" + this._getSystemName() + "/fallbacks/operamini?id=" + this.game_slug,
                    window.location.href = e
            },
            Softgames.prototype._trackIframe = function() {
                var e;
                return e = "notInIframe",
                    this._inIframe() && (e = "inIframe"),
                    this._trackEvent(e, "" + this.subplatform + "-" + document.referrer)
            },
            Softgames.prototype._displayGamePage = function(e) {
                return this._trackAction("gamePage"),
                    SG_jQuery("body").html(this.game_page)
            },
            Softgames.prototype._displaySimpleGamePage = function(e) {
                return this._trackAction("simpleGamePage"),
                    this._buildSimpleGamePage()
            },
            Softgames.prototype._displayLoadingPage = function(e) {
                var t = this;
                return this._buildLoadingPage(),
                    setTimeout(function() {
                        return t._endLevelFlowNextStep(e)
                    }, this.displayLoadingPageTime)
            },
            Softgames.prototype._enabledEndLevelFlow = function() {
                return this.enabledEndLevelFlow === !0 && this.activeAfterFirstLevelAdPopup === !1 && this.skipAds !== !0 && (this.endLevelEventCounter + 1) % this.endLevelEventCountInterval === 0 && this.hintPageOptions.display !== !0 ? (console.log("Endlevelflow enabled"), !0) : (console.log("Endlevelflow disabled", this), !1)
            },
            Softgames.prototype._displayEndLevelPopup = function(e) {
                var t = this;
                return this.endLevelEventCounter++,
                    this._trackAction("endLevelPopup"),
                    this._buildEndLevelPopup(function() {
                        return t._endLevelFlowNextStep(e)
                    }, function() {
                        return t._quitEndLevelFlow(function() {
                            return t._displayOnCloseEndLevelAdPopup(e)
                        })
                    })
            },
            Softgames.prototype._buildEndLevelPopup = function(e, t) {
                return this.end_level_popup_module.show(e, t)
            },
            Softgames.prototype._displayOnCloseEndLevelAdPopup = function(e) {
                var t = this;
                return this.adsHandler.show(this.adsHandler.SLOTS.IN_GAME, function() {
                    return typeof e == "function" ? e() : void 0
                })
            },
            Softgames.prototype._onShowAd = function(e) {
                var t = this;
                return this.logger.log("on show ad callback"),
                    this.onShowAdCallback ? this.onShowAdCallback(function() {
                        return typeof e == "function" && e(),
                            t.logger.log("after show ad callback")
                    }) : typeof e == "function" ? e() : void 0
            },
            Softgames.prototype._onTriggerConversion = function() {
                var e = this;
                if (this.onTriggerConversionCallback)
                    return this.logger.log("before trigger conversion callback"),
                        setTimeout(function() {
                            return e.onTriggerConversionCallback(function() {}),
                                e.logger.log("after trigger conversion callback")
                        }, 1e3)
            },
            Softgames.prototype._onLevelUp = function(e) {
                var t = this;
                if (this.triggerLevelUpCallback && this.onLevelUpCallback)
                    return this.logger.log("before level up callback"),
                        this.onLevelUpCallback(e, function() {
                            return t.logger.log("after level up callback")
                        })
            },
            Softgames.prototype._displayPreroll = function(e) {
                var t;
                return t = {
                        show: this.showAdPreroll === "true",
                        adSlot: this.adsHandler.SLOTS.PRE_ROLE
                    },
                    this._displayPrerollPopup(t, e)
            },
            Softgames.prototype._displayPreGDProll = function(e) {
                var t;
                return this.offerWallConnector.isOfferwallConnectorActive() ? this._loadingFlowNextStep(e) : (t = {
                        show: this.showAdPreGDProll === "true",
                        adSlot: this.adsHandler.SLOTS.PRE_GDP_ROLL
                    },
                    this._displayPrerollPopup(t, e))
            },
            Softgames.prototype._displayPrerollPopup = function(e, t) {
                var n = this;
                return e.show ? this.adsHandler.show(e.adSlot, function() {
                    return n._loadingFlowNextStep(t)
                }) : this._loadingFlowNextStep(t)
            },
            Softgames.prototype._displayAdAfterFirstLevel = function() {
                return this._afterFirstLevelAdDisplayed || this.displayAdAfterFirstLevel !== !0 ? !1 : !0
            },
            Softgames.prototype._displayAfterFirstLevelAdPopup = function(e) {
                var t = this;
                return this.activeAfterFirstLevelAdPopup = !0,
                    this._afterFirstLevelAdDisplayed = !0,
                    this.adsHandler.show(this.adsHandler.SLOTS.PRE_ROLE, function() {
                        return t.activeAfterFirstLevelAdPopup = !1,
                            typeof e == "function" ? e() : void 0
                    })
            },
            Softgames.prototype._displayIncentiviseAdPopup = function(e) {
                var t = this;
                return this.adsHandler.show(this.adsHandler.SLOTS.INCENTIVISE, function(t, n) {
                    return n = n || {},
                        typeof e == "function" ? e(n) : void 0
                })
            },
            Softgames.prototype._displayIngameAdPopup = function(e, t) {
                var n, r = this;
                return this.events.fire("displayInGameAdPopupStarted"),
                    n = function() {
                        return r.events.fire("displayInGameAdPopupDone"),
                            typeof e == "function" ? e() : void 0
                    },
                    this.adsHandler.show(this.adsHandler.SLOTS.IN_GAME, function(e, t) {
                        return t && t.displayed && r.endLevelEventCounter++,
                            n()
                    })
            },
            Softgames.prototype._tooShortEndLevelInterval = function() {
                return SG_jQuery.now() - this.displayEndLevelLastTime < this.displayEndLevelInterval
            },
            Softgames.prototype.isLoginButtonEnabled = function(e) {
                var t;
                return this.user.known === !1 ? t = "success" : t = "failed",
                    e({
                        status: t
                    })
            },
            Softgames.prototype.triggerLogin = function(e, t, n, r, i) {
                var s, o, u, a = this;
                return u = softgamesModalWindow.getModalWindow("login"),
                    s = document.createElement("iframe"),
                    s.id = "fb-core-kirk-connect",
                    s.style.width = "100%",
                    s.style.height = "40px",
                    s.style.position = "relative",
                    s.style.top = "3px",
                    s.style.background = "white",
                    s.style.zIndex = "1",
                    s.style.borderRadius = "6px",
                    s.style.border = "none",
                    s.scrolling = "no",
                    s.src = "http://m.softgames.de/games/facebookjs/" + softgames.game_slug + "?p=" + softgames.subplatform + "&type=" + r,
                    o = i !== void 0 ? SG_jQuery(i).prepend(s) : s,
                    window.addEventListener("message", function(e) {
                        try {
                            if (e.data.sender === "sgFbLogin")
                                return u.close()
                        } catch (t) {
                            return a.logger.error(t)
                        }
                    }),
                    n ? u.open("facebook-connect-button", o, t, function() {}, !1, n) : u.open("facebook-connect-button", o, t, function() {}),
                    SG_jQuery(s).ready(function() {
                        if (e)
                            return e(!0)
                    }),
                    u
            },
            Softgames.prototype.getHighscoresPerLevel = function(e, t) {
                return jQuery.ajax({
                    method: "GET",
                    url: "http://m.softgames.de/api/v2/game/" + this.game_slug + "/level/" + e + "/highscores?user_id=" + this.user.userId
                }).done(function(e) {
                    return t(e)
                })
            },
            Softgames.prototype.createInvitation = function(e, t) {
                var n;
                return n = document.createElement("iframe"),
                    n.id = "fb-core-kirk-invite",
                    n.style.width = e.width,
                    n.style.height = e.height,
                    n.style.zIndex = "9999999",
                    n.src = "http://m.softgames.de/games/facebook_invitation/" + softgames.game_slug + "?p=" + softgames.subplatform,
                    SG_jQuery(e.elementSelector).append(n),
                    SG_jQuery(n).ready(function() {
                        t && t(!0)
                    })
            },
            Softgames.prototype.createInvitationAndPlay = function(e, t) {
                var n;
                return n = document.createElement("iframe"),
                    n.id = "fb-core-kirk-invite-and-play",
                    n.style.width = e.width,
                    n.style.height = e.height,
                    n.style.zIndex = "9999999",
                    n.src = "http://m.softgames.de/games/facebook_pm_and_play/" + softgames.game_slug + "?p=" + softgames.subplatform + "&uid=" + this.user.userId + "&is_mobile=" + this._isMobile(),
                    SG_jQuery(e.elementSelector).append(n),
                    SG_jQuery(n).ready(function() {
                        t && t(!0)
                    })
            },
            Softgames.prototype._buildMenu = function() {
                var e, t = this;
                return SG_jQuery("body").append(this.ingame_menu),
                    e = SG_jQuery("#voyager-menu-button"),
                    this._registerClick(e, function(e) {
                        var n, r;
                        return e.preventDefault(),
                            e.stopPropagation(),
                            e.stopImmediatePropagation(),
                            n = document.getElementById("voyager-menu-container"),
                            classie.toggle(n, "cbp-spmenu-open"),
                            r = SG_jQuery("#voyager-menu-button").css("opacity") === "1" ? "0.5" : "1",
                            SG_jQuery("#voyager-menu-button").css({
                                opacity: r
                            }),
                            t._trackMenuClickEvent(),
                            e.cancelBubble = !0, !1
                    })
            },
            Softgames.prototype._trackMenuClickEvent = function() {
                var e, t;
                return t = document.getElementById("voyager-menu-container"),
                    e = "menuClosed",
                    t && t.classList.contains("cbp-spmenu-open") && (e = "menuOpened"),
                    this._trackEvent(e)
            },
            Softgames.prototype._addExternalStyles = function(e) {
                var t;
                if (this.externalStyles === "")
                    return;
                return t = SG_jQuery(document.createElement("style")),
                    t.text(this.externalStyles),
                    e.append(t)
            },
            Softgames.prototype._loadScript = function(e, t) {
                return this.scriptLoader.loadScript(e, t)
            },
            Softgames.prototype._appendToHead = function(e) {
                var t;
                return t = document.head || document.getElementsByTagName("head")[0] || document.documentElement,
                    t.insertBefore(e, t.firstChild)
            },
            Softgames.prototype._buildLoadingPage = function(e) {
                return SG_jQuery("body").append(this.loading_page)
            },
            Softgames.prototype._destroyLoadingPage = function() {
                var e;
                return e = SG_jQuery(".voyager-loading-page"),
                    e.remove()
            },
            Softgames.prototype._buildSimpleGamePage = function() {
                return SG_jQuery("body").html(this.simple_game_page)
            },
            Softgames.prototype._trackAction = function(e) {
                try {
                    if (!this.gaHandler)
                        return;
                    return this.gaHandler.trackPageview("/" + this.social_network + "/" + this.project + "/" + e, {
                        subplatform: this.subplatform,
                        affiliate: this.affiliate
                    })
                } catch (t) {
                    return this.logger ? this.logger.log(t) : console.error(t)
                }
            },
            Softgames.prototype._trackEvent = function(e, t, n) {
                var r, i, s;
                try {
                    if (!this.gaHandler)
                        return;
                    return r = e ? String(e) : "",
                        i = t ? String(t) : "",
                        s = n ? String(n) : "",
                        this.gaHandler.trackEvent("" + this.social_network + "-" + this.project, r, i, s)
                } catch (o) {
                    return this.logger ? this.logger.log(o) : console.error(o)
                }
            },
            Softgames.prototype._apiRequest = function(e, t, n, r, i) {
                var s, o, u = this;
                // return t = this._apiUrl(t, n),
                return t = "../assets/sgc1.json",
                    s = this,
                    navigator.userAgent.toLowerCase().indexOf("android") >= 0 && e === "GET" && (t += "&android-buster=" + Math.random()),
                    o = this._openXHR(e, t),
                    o instanceof XMLHttpRequest && (o.setRequestHeader("Content-Type", "application/json-rpc"),
                        o.setRequestHeader("Softgames-Voyager-Version", "2017-06-09 13:52:09 +0000")),
                    o.onload = function() {
                        return typeof i == "function" ? i(JSON.parse(o.responseText)) : void 0
                    },
                    o.onerror = function() {
                        return s.logger.log("Request failed.", e, t)
                    },
                    o.send(JSON.stringify(r)),
                    o
            },
            Softgames.prototype._apiUrl = function(e, t) {
                var n;
                return n = this.host,
                    this.cdnCacheHandler.isEnabledForPublisher(this.recognizedPublisherFromUrlPrams) && (n = this.cdnCacheHandler.host() + "/"),
                    ("https:" === document.location.protocol ? "https://" : "http://") + n + e + "?" + this._queryString(t)
            },
            Softgames.prototype._openXHR = function(e, t) {
                var n;
                n = new XMLHttpRequest;
                if (this._isCorsSupported(n))
                    n.open(e, t, !0);
                else {
                    if (typeof XDomainRequest == "undefined")
                        throw n = null,
                            this.logger.log("CORS is not supported by the browser.", e, t),
                            new Error("CORS not supported.");
                    n = new XDomainRequest,
                        n.open(e, t)
                }
                return n
            },
            Softgames.prototype._isCorsSupported = function(e) {
                return e.withCredentials != null
            },
            Softgames.prototype._queryString = function(e) {
                return e.custom_data != null && (e.custom_data = JSON.stringify(e.custom_data)),
                    SG_jQuery.param(e)
            },
            Softgames.prototype._registerClick = function(e, t) {
                return e.on({
                        click: function(e) {
                            return t(e)
                        }
                    }),
                    e.on({
                        touchstart: function(e) {
                            return t(e)
                        }
                    })
            },
            Softgames.prototype._isSandboxURL = function() {
                var e;
                return e = this._getUrlParameters(),
                    e.hasOwnProperty("platform") && e.platform === "sandbox" ? !0 : !1
            },
            Softgames.prototype._isKirkURL = function() {
                var e;
                return e = this._getUrlParameters(),
                    e.hasOwnProperty("platform") && e.platform === "kirk" ? !0 : !1
            },
            Softgames.prototype._getSystemName = function() {
                return this.system_id === "direct" || this.system_id === "kirk" ? "kirk" : this.system_id
            },
            Softgames.prototype._getSystemId = function() {
                return this._isSandboxURL() ? "sandbox" : this._isKirkURL() ? "kirk" : "direct"
            },
            Softgames.prototype._getBackUrl = function() {
                return this.back_url || this.defaultBackUrl
            },
            Softgames.prototype._requestGameData = function(t, n, r, i) {
                // debugger;
                return SG_jQuery.extend(r, e()),
                    n._apiRequest("GET", "" + n.system_id + "/games/" + n.game_slug + ".json/", r, {}, function(e) {
                        return n._log.debug("Response of game request", e),
                            n.events.fire("gameDataLoaded", e),
                            n.gameAnalytics = e.gameAnalytics,
                            n.game_thumb_large = e.game_thumb_large,
                            n.gameLogo = e.game_logo,
                            n.gameCurrencyIcon = e.game_currency_icon,
                            n.gameBackBtn = e.game_back_btn,
                            n.gameWinnerBorder = e.game_winner_border,
                            n.gameRankStar = e.game_rank_star,
                            n.gameRankStarUp = e.game_rank_star_up,
                            n.gameLevelStar = e.game_level_star,
                            n.gameVs = e.game_vs,
                            n.gamePlayBtn = e.game_play_btn,
                            n.gameFBBtn = e.game_fb_btn,
                            n.gameLeaderboardBtn = e.game_leaderboard_btn,
                            n.gamePlusBtn = e.game_plus_btn,
                            n.gameGetMoreBtn = e.game_get_more_btn,
                            n.gamePracticeBtn = e.game_practice_btn,
                            n.gameOdnoklassikiBtn = e.game_odnoklassiki_btn,
                            n.gameCollectBtn = e.game_collect_btn,
                            n.gameCollectBtnBig = e.game_collect_btn_big,
                            n.gameFbBtnSmall = e.game_fb_btn_small,
                            n.gamePlayAgainButton = e.game_play_again_btn,
                            n.gameHeaderBackground = e.game_header_background,
                            n.gamePopupBackground = e.game_popup_background,
                            n.gameLeagueBackground = e.game_league_background,
                            n.gameLobbyBackground = e.game_lobby_background,
                            n.gameContentBorder = e.game_content_border,
                            n.gameFont = e.game_font,
                            n.gameCurrencyKey = e.game_currency_key,
                            n.buzzQuizConfig = e.buzzQuizConfig,
                            n.buzzQuizTemplates = e.buzzQuizTemplates,
                            e.country !== undefined && (n.country = e.country),
                            n.city = e.city || "unknown",
                            n.gameTitle = e.game_title,
                            n.gameImage = e.game_image,
                            n.project = e.project,
                            n.social_network = e.social_network,
                            n.subplatform = e.agent_api,
                            n.affiliate = e.affiliate,
                            n.game_bubble_text = e.game_bubble_text,
                            n.game_bubble_configs = n._convertGameBubblConfig(e.game_bubble_configs),
                            n.showMenu = e.show_ingame_menu,
                            n.back_url = e.back_url,
                            n.externalGameUrl = e.external_game_url,
                            n.externalStyles = e.external_styles,
                            n.customGameHeader = e.custom_game_header,
                            n.showAdPage = e.show_ad_page === "true",
                            n.adblockerAutoSkipAds = e.adblocker_auto_skip,
                            n.showAdBlockerInfo = e.show_adblocker_info,
                            n.blockGameWhenAdBlocker = e.block_game_when_adblocker,
                            n.adblockerBlockGameTemplate = e.adblocker_block_game_template,
                            n.displayWrapperAd = e.display_wrapper_ad,
                            n.displayExternalAds = e.displayExternalAds,
                            n.disablePrerollForNewUsers = e.disablePrerollForNewUsers,
                            n.triggerConversionCustomCallback = e.conv_track_by_wrapper,
                            n.triggerLevelUpCallback = e.level_up_by_wrapper,
                            n.showGameDetailsPageWithoutAd = e.show_game_details_page_without_ad,
                            n.showAdPreroll = e.show_ad_preroll,
                            n.showAdPreGDProll = e.show_ad_pregdproll,
                            n.displayAdAfterFirstLevel = e.display_ad_after_first_level,
                            n.enabledEndLevelFlow = e.enabled_end_level_flow,
                            n.endLevelEventCountInterval = e.end_level_interval,
                            e.end_level_close_button_timer !== void 0 && (n.endLevelCloseButtonTimer = e.end_level_close_button_timer * 1e3),
                            n.gameRatio = e.game_ratio,
                            n.gameIngameCurrencyNames = e.gameIngameCurrencyNames,
                            n.external_js_filename = e.external_js_filename,
                            e.incentiviseSettings !== void 0 && (n.incentiviseSettings = e.incentiviseSettings),
                            e.ads_configurations !== void 0 && (n.adsConfigurations = e.ads_configurations),
                            n.gameTeaserImage = e.game_teaser,
                            n.hintPageOptions = e.hint_page_options,
                            n.gameWidth = e.game_width,
                            n.gameHeight = e.game_height,
                            n.gameLandscape = e.game_landscape,
                            n.ingame_header = e.ingame_header,
                            n.ingame_footer = e.ingame_footer,
                            n.adblocker_info = e.adblocker_info,
                            n.first_page = e.first_page,
                            n.first_page_templates = e.first_page_templates,
                            n.scrollOnPlay = e.scroll_on_play,
                            n.scrollToTop = e.scroll_to_top,
                            n.percentageOfVeedi = e.percentage_of_veedi,
                            n.veediFallbackSlug = e.veedi_fallback_slug,
                            n.playButtonActiveTimer = e.play_button_active_timer,
                            n.otherAdUnitsOnTop = e.other_ad_units_on_top,
                            n.random_game_details_page = e.random_game_details_page,
                            n.multiple_game_details_pages = e.multiple_game_details_pages,
                            n.game_page_type = e.game_page_type,
                            n.game_page = e.game_page,
                            n.simple_game_page = e.simple_game_page,
                            n.ingameAdPopup = e.ingame_ad_popup,
                            n.ingame_menu = e.ingame_menu,
                            n.splash_screen_page = e.splash_screen,
                            n.loading_page = e.loading_page,
                            n.end_level_popup = e.end_level_popup,
                            n.more_games_page_a = e.more_games_page_a,
                            n.more_games_page_b = e.more_games_page_b,
                            n.enableAbAdFirstGameDpage = e.load_ad_first_game_dpage,
                            n.length_of_loading_bar = e.length_of_loading_bar,
                            n.fingerprintLinks = e.fingerprint_links,
                            n.avgSessionTime = e.avg_session_time,
                            n.refillLifeSettings = e.refillLifeSettings,
                            e.giftsSettings !== void 0 && (n.giftsSettings = e.giftsSettings),
                            n.modalWindowSettings = e.modalWindowSettings,
                            n.bildDeTrackingSettings = e.bild_de_tracking_settings,
                            n.enableVkontakteApi = e.enable_vkontakte_api,
                            n.highscoreMethod = e.highscore_method,
                            n.moreGamesCrossPromo = e.moreGamesCrossPromo,
                            n.game_config_all = e.game_config,
                            n.game_config_shift_all = e.ads_popups_config,
                            n.game_config = softgames.gameConfigHandler.getConfig(n._isMobile()),
                            n.famobi_game_id = e.famobi_game_id,
                            n.spilgamesGameId = e.spilgames_game_id,
                            n.gameOpenedInAnotherTab = !1,
                            e.hide_more_games_button !== void 0 && (n.hideMoreGamesButton = e.hide_more_games_button),
                            n.externalGACode = e.agent_ga_code,
                            n.gaAnonymizingIp = e.ga_anonymizing_ip,
                            n.gid = e.gid,
                            n.aid = e.aid,
                            n.skipAds = e.skip_ads,
                            n.skipIngameAds = e.skip_ingame_ads,
                            e.banner_interval_time !== void 0 && (n.displayBannerInterval = e.banner_interval_time * 1e3),
                            n.startAdsTimerOnGameLoad = e.start_ads_timer_on_game_load,
                            n.displayEndLevelInterval = n.displayBannerInterval || 45e3,
                            n.enableHighscores = e.feature_highscores,
                            e.ads_conversion_flow !== void 0 && (n.adsConversionFlow = e.ads_conversion_flow),
                            e.ads_conversion_user_state !== void 0 && (n.adsConversionUserState = e.ads_conversion_user_state),
                            e.ads_conversion_points_mobile !== void 0 && (n.adsConversionPointsMobile = e.ads_conversion_points_mobile),
                            e.ads_conversion_points_desktop !== void 0 && (n.adsConversionPointsDesktop = e.ads_conversion_points_desktop),
                            e.ads_conversion_level !== void 0 && (n.adsConversionLevel = e.ads_conversion_level),
                            e.ads_conversion_level_points !== undefined && (n.adsConversionLevelPoints = e.ads_conversion_level_points),
                            e.ads_conversion_best_score !== undefined && (n.adsConversionBestScore = e.ads_conversion_best_score),
                            e.ads_conversion_show_popup !== undefined && (n.adsConversionShowPopup = e.ads_conversion_show_popup),
                            n.adsConversionShift = e.tracking_config,
                            n._setConversionValues(),
                            n.resetGameOnConversion = e.reset_game_on_conversion,
                            n.gameStorageKeys = e.game_storage_keys,
                            n.gameStorageConfig = e.gameStorageConfig,
                            n.gameBoostersConfig = e.gameBoostersConfig,
                            n.gameItemsConfig = e.gameItemsConfig,
                            n.odnoklassnikiConfig = e.odnoklassnikiConfig,
                            n.conversionOfferId = n._getUrlParameter("offer_id"),
                            n.conversionOfferRef = n._getUrlParameter("offer_ref"),
                            n.adsConversionPoints = n._isMobile() ? n.adsConversionPointsMobile : n.adsConversionPointsDesktop,
                            n.adsConversionPoints === void 0 && (n.adsConversionPoints = n.adsConversionPointsMobile),
                            n.gameDetailsPageVersion = e.game_details_page_version,
                            n.conversionModalWindowContent = e.conversion_modal_window_content,
                            n.enableOverlayWidgetOnGDP = e.enableOverlayWidgetOnGDP,
                            n.userTrackerSettings = e.userTrackerSettings,
                            n.moreGamesType = e.more_games_type,
                            n.moreGamesTargetType = n._getMoreGamesTargetType(e.more_games_target_type),
                            n.moreGamesNewContent = e.more_games_new_content,
                            n.skipUser = e.skip_user,
                            n.enableCdnCache = e.enable_cdn_cache,
                            n._setEndLevelFlow(),
                            e.gi_css && (n.gameIdentity = {
                                css: e.gi_css
                            }),
                            n.tv_cc_id = e.tv_cc_id,
                            n.afg_cc_id = e.afg_cc_id,
                            n.afc_unit_details_page_id = e.afc_unit_details_page_id,
                            n.afc_unit_more_games_page_id = e.afc_unit_more_games_page_id,
                            n.highscores = e.highscores,
                            n.exclusiveGameData = e.exclusive_game_data,
                            n.sgTrackConfig = e.sg_track_config,
                            n.userGameDataConfig = e.user_game_data_config,
                            e.premium_game = n.premium_game,
                            e.subplatform = n.subplatform,
                            n.embedGame = e.game_page_type !== void 0,
                            n.locale = e.locale,
                            I18n.locale = e.locale,
                            n.prize_play.init(e.prize_play),
                            n.agentPlan = e.agent_plan,
                            n.externalGameId = e.externalGameId,
                            n.customGameHeader !== "" && n.customGameHeader !== void 0 && SG_jQuery("head").append("" + n.customGameHeader),
                            n.ingame_header !== "" && n.ingame_header !== void 0 && SG_jQuery("body").append(n.ingame_header),
                            n.ingame_footer !== "" && n.ingame_footer !== void 0 && SG_jQuery("body").append(n.ingame_footer),
                            n.detailsPageSettings = e.details_page_settings,
                            n.slideSettings = e.slide_ad_settings,
                            n.asyncMultiplayerSettings = e.asyncMultiplayerSettings,
                            n.rtMultiplayerSettings = e.rtMultiplayerSettings,
                            n.userAgent = e.userAgent,
                            n.clientIpHash = e.clientIpHash,
                            n.clientIp = e.clientIp,
                            n.documentDomain = e.documentDomain,
                            n.gameAdSettings = e.gameAdSettings,
                            n.gameBanner = e.gameBanner,
                            n.incentivizedInvites = e.incentivizedInvites,
                            typeof i == "function" ? i() : void 0
                    })
            },
            e = function() {
                var e, t = this;
                return e = {},
                    location.search.substr(1).split("&").forEach(function(t) {
                        var n, r;
                        r = t.split("=");
                        if (r[0].indexOf("o__") > -1)
                            return n = r[0].substring(3, r[0].length),
                                e[n] = r[1] && decodeURIComponent(r[1].replace(/\+/g, " "))
                    }),
                    e
            },
            Softgames.prototype._createIframe = function(e) {
                return this.iframe = document.createElement("iframe"),
                    this.iframe.id = "voyager-kirk-iframe",
                    // this.iframe.src = e,
                    this.iframe.src = "../assets/session1.html",
                    this.iframe.width = "0",
                    this.iframe.height = "0",
                    this.iframe.frameBorder = "0",
                    document.body.appendChild(this.iframe)
            },
            Softgames.prototype._getMoreGamesTargetType = function(e) {
                return e === "new tab" ? "_blank" : e === "current tab" ? "_top" : "_self"
            },
            Softgames.prototype._addScreenChangeOrientationListener = function() {
                var e = this;
                return window.addEventListener("orientationchange", function() {
                    return e.events.fire("callOrientationChangeHandler"),
                        typeof e.changeScreenSize == "function" ? e.changeScreenSize() : void 0
                }, !1)
            },
            Softgames.prototype._initSystem = function() {
                if (this.system_id === "sandbox")
                    this.apiAdapter = new SoftgamesSandbox(this, this.project, this.userId);
                else if (this.system_id === "kirk" || this.system_id === "direct")
                    this.apiAdapter = new SoftgamesKirk(this, this.project, this.external_user_id);
                return this._addScreenChangeOrientationListener()
            },
            Softgames.prototype._setParamsFromUrl = function() {
                var e, t, n, r;
                t = this._getUrlParameters(),
                    r = [];
                for (e in t)
                    n = t[e],
                    n !== void 0 ? r.push(this[e] = n) : r.push(void 0);
                return r
            },
            Softgames.prototype._init = function(e) {
                // debugger;
                var t = this;
                return this._prepareInit(function() {
                    return t._getGameData(function() {
                        var n, r;
                        return n = t.offerWallConnector.getLandingPageSettings(),
                            n ? (t.firstPageModule = new SoftgamesFirstPage(n),
                                t.skipAds = !1) : t.firstPageModule = new SoftgamesFirstPage(t.detailsPageSettings),
                            r = t.offerWallConnector.getSliderAdSetting(),
                            r ? t.slideAdModule = new SoftgamesSlideAd(r, n || t.detailsPageSettings) : t.slideAdModule = new SoftgamesSlideAd(t.slideSettings, n || t.detailsPageSettings),
                            typeof e == "function" ? e() : void 0
                    })
                })
            },
            Softgames.prototype._prepareInit = function(e) {
                var t = this;
                return this._setMetaTags(),
                    this.offerWallConnector ? this.offerWallConnector.init(this, function() {
                        return t.moreGamesUtils ? t.moreGamesUtils.getSourceFromCookie(e) : e()
                    }) : this.moreGamesUtils ? this.moreGamesUtils.getSourceFromCookie(e) : e()
            },
            Softgames.prototype._setMetaTags = function() {
                var e, t, n, r;
                return r = SG_jQuery("meta[name=viewport]"),
                    r.length < 1 && (r = SG_jQuery("<meta>").attr("name", "viewport").attr("content", ""),
                        SG_jQuery("head").append(r)),
                    n = r.attr("content"),
                    t = {},
                    n && n.split(",").forEach(function(e) {
                        var n;
                        return n = e.trim().split("="),
                            t[n[0]] = n[1]
                    }),
                    t["initial-scale"] = "1.0",
                    t["maximum-scale"] = "1.0",
                    t["user-scalable"] = "0",
                    t["shrink-to-fit"] = "no",
                    e = Object.keys(t).reduce(function(e, n) {
                        return e = e ? e + ", " : "",
                            e += n + "=" + t[n]
                    }, ""),
                    r.attr("content", e)
            },
            Softgames.prototype._getKirkRestEndpoint = function() {
                // debugger;
                return window.sgPlatformRestrictedHostname === !0 ? "http://core.gamesmedia.de/api/" : "http://m.softgames.de/api/" ///////////////////////////////////------------------
            },
            Softgames.prototype._getGameData = function(e) {
                var t, n, r, i, s = this;
                return n = {},
                    this._getUrlParameters().host ? this.kirk_host = "//" + unescape(this._getUrlParameters().host) + "/api/" : this.kirk_host = this._getKirkRestEndpoint(),
                    document !== void 0 && document.location !== void 0 && document.location.protocol !== void 0 && document.location.protocol === "https:" && (this.kirk_host = this.kirk_host.replace("http:", "https:")),
                    ////////////////////////////////////--------------------------
                    this.defaultBackUrl = "http://m.softgames.de/",
                    this.system_id === "sandbox" ? this._requestGameData("sandbox", this, {}, function() {
                        return s._setParamsFromUrl(),
                            s._addToHomeConfig(),
                            typeof e == "function" ? e() : void 0
                    }) : this.system_id === "kirk" || this.system_id === "direct" ? (this.system_id = "kirk",
                        i = this._getSubsystem(),
                        i === this.defaultSubsystem && this._getUrlParameters().p === void 0 && (i = null,
                            document.domain !== void 0 && (n.game_host = document.domain)),
                        this.recognizedPublisherFromUrlPrams = i,
                        n.subsystem = i,
                        this._getUrlParameters().aff !== void 0 && (n.affiliate = this._getUrlParameters().aff),
                        this._getUrlParameters().cache !== void 0 && (n.cache = this._getUrlParameters().cache),
                        this._getUrlParameters().locale !== void 0 && (n.locale = this._getUrlParameters().locale),
                        this._getUrlParameters().country !== void 0 && (n.country = this._getUrlParameters().country),
                        this._getUrlParameters().mobile_spec !== void 0 && (n.mobile_spec = this._getUrlParameters().mobile_spec),
                        this.moreGamesUtils.getSourceId() !== void 0 && (n.source_game_id = this.moreGamesUtils.getSourceId()),
                        n.is_mobile = this._isMobile(),
                        this._isIframeFlow() && (n.locale = window.userSession.locale),
                        t = this.offerWallConnector.getLandingPageVersions(),
                        t && (n.offer_wall_landing_pages = t),
                        r = this.offerWallConnector.getRandom(),
                        t && (n.offer_wall_random_page = !!r),
                        n.referrer_host = this.adsHandler.getHost(),
                        this.cdnCacheHandler.isEnabledForPublisher(i) && n.locale === void 0 && (n.locale = this.localeHandler.localeFromClient()),
                        this._requestGameData(i, window.softgames, n, function() {
                            return s._addToHomeConfig(),
                                typeof e == "function" ? e() : void 0
                        })) : typeof e == "function" ? e() : void 0
            },
            Softgames.prototype.embedGameFN = function() {
                return this.game_page_type !== void 0
            },
            Softgames.prototype.createSplashScreen = function() {
                var e, t = this;
                return e = SG_jQuery(this.splash_screen_page),
                    this.splash_screen = SG_jQuery("#voyager-splashscreen-page", e),
                    this.splash_screen.hide(),
                    this.splash_screen_logo = SG_jQuery("#voyager-splashscreen-logo", e),
                    this.splash_screen_logo.complete ? this.loadedSplashScreenLogo() : this.splash_screen_logo.load(function() {
                        return t.loadedSplashScreenLogo()
                    }),
                    this.splashScreenReady = !0,
                    SG_jQuery("body").append(e),
                    this.splash_screen = SG_jQuery("#voyager-splashscreen-page")
            },
            Softgames.prototype.loadedSplashScreenLogo = function() {
                return this.splashScreenLogoLoaded = !0,
                    typeof this.splashScreenLogoOnload == "function" && this.splashScreenLogoOnload(),
                    this.splashScreenLogoOnload = null
            },
            Softgames.prototype.showSplashScreen = function(e) {
                var t = this;
                return this.loadingFlowTrackerHandler.track("Splashscreen", {}),
                    this.splash_screen.fadeIn(1100, function() {
                        return t.splash_screen.delay(3e3).fadeOut(1100, function() {
                            return typeof e == "function" ? e() : void 0
                        })
                    })
            },
            Softgames.prototype._displaySplashScreen = function(e) {
                var t = this;
                return this.splash_screen_page !== "" && this.splash_screen_page !== void 0 || !this._shouldGamePageBeLoaded() ? (this.splashScreenReady || this.createSplashScreen(),
                    this.splashScreenLogoLoaded ? this.showSplashScreen(function() {
                        if (t._shouldGamePageBeLoaded())
                            return t._loadingFlowNextStep(e)
                    }) : this.splashScreenLogoOnload = function() {
                        return t._displaySplashScreen(e)
                    }
                ) : this._loadingFlowNextStep(e)
            },
            Softgames.prototype._shouldGamePageBeLoaded = function() {
                return this.firstPageModule && this.firstPageModule.isConfigured() ? this.playClickedCounter >= this.firstPageModule.getAmountOfFirstPages() - 1 || this.gameDetailsPageVersion !== "version_x" : !0
            },
            Softgames.prototype._convertGameBubblConfig = function(e) {
                if (e !== undefined) {
                    e.indexOf("On Start") > -1 && (this.gameBubbleConfig.on_start = !0),
                        e.indexOf("On Game Over") > -1 && (this.gameBubbleConfig.on_game_over = !0),
                        e.indexOf("On Level Up") > -1 && (this.gameBubbleConfig.on_level_up = !0);
                    if (e.indexOf("On Pause On") > -1)
                        return this.gameBubbleConfig.on_pause_on = !0
                }
            },
            Softgames.prototype._hasAppleIcon = function() {
                return SG_jQuery('head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]') !== undefined || SG_jQuery('head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]') !== undefined
            },
            Softgames.prototype._hasAppleMetaTag = function() {
                return SG_jQuery("meta[name='apple-mobile-web-app-capable']").attr("content") !== undefined
            },
            Softgames.prototype._addAppleMetaTag = function() {
                return SG_jQuery("head").append('<meta name="apple-mobile-web-app-capable" content="yes" />')
            },
            Softgames.prototype.levelUp = function(e, t) {
                return this._onLevelUp(e),
                    this.apiAdapter ? this.apiAdapter.levelUp(e, t) : typeof t == "function" ? t() : void 0
            },
            Softgames.prototype._finishLoadingFlow = function(e) {
                return this.events.fire("finishedLoadingFlow", this),
                    this._loadingFlowNextStep(e)
            },
            Softgames.prototype._loadUser = function(e) {
                var t, n, r = this;
                this.logger.log("Loading user ...");
                if (this.system_id === "sandbox" || this.cdnCacheHandler.skipUser())
                    return this._loadingFlowNextStep(e);
                if (this._isIframeFlow())
                    return this.logger.log("... is iframe flow ..."),
                        n = window.userSession,
                        this._setUserSessionData(n),
                        this._initSystem(),
                        this.logger.log("... next step in loading user for iframe"),
                        this._loadingFlowNextStep(e);
                this.logger.log("... not iframe ...");
                if (this.system_id === "kirk")
                    return this.logger.log("... trying to create kirk iframe ..."),
                        t = this._createKirkIframe,
                        this._isWrappedSafari() && (t = this._requestUserSession),
                        t(function(t) {
                            return r.logger.log("... init system ..."),
                                r._initSystem(),
                                r.logger.log("... next step in loading user"),
                                r._loadingFlowNextStep(e)
                        })
            },
            Softgames.prototype._isWrappedSafari = function() {
                var e;
                return e = SG_jQuery('meta[name="environment"]'),
                    e !== void 0 ? e.attr("content") === this.wrappedSafariMetaContent : !1
            },
            Softgames.prototype._killUserSession = function(e) {
                return console.log("Ending user session for user " + SG_jQuery.cookie("ux") + " with ext uid " + SG_jQuery.cookie("uxext")),
                    SG_jQuery.cookie("otherUserDetected", !0, {
                        expires: t.userCookieExpressions,
                        path: "/"
                    }),
                    SG_jQuery.ajax({
                        method: "POST",
                        url: "https://m.softgames.de/users/sign_out"
                    }).done(function() {
                        return SG_jQuery.when(console.log("removing session cookies"), SG_jQuery.removeCookie("uxext", {
                            path: "/"
                        }), SG_jQuery.removeCookie("ux", {
                            path: "/"
                        }), SG_jQuery.removeCookie("uk", {
                            path: "/"
                        })).done(function(t, n) {
                            console.log("reloading session"),
                                console.log("removing cookies"),
                                SG_jQuery("#voyager-kirk-iframe").length && SG_jQuery("#voyager-kirk-iframe").remove(),
                                SG_jQuery("#fb-core-kirk-connect").length && SG_jQuery("#fb-core-kirk-connect").remove(),
                                e()
                        })
                    })
            },
            Softgames.prototype._handleOkUser = function(e) {
                var t, n = this;
                return !this.subplatform || this.subplatform !== "ok-canvas" ? (this.logger.log("skip handleOkUser..."),
                    this._loadingFlowNextStep(e)) : (this.logger.log("_handleOkUser"),
                    this._isOkSdkLoaded() ? (this.logger.log("OkSdkLoaded"),
                        this._isCurrentOkUserNotValid() ? (this.logger.log("currentOkUserIsNotValid"),
                            this._killUserSession(function() {
                                return n._loadingFlowNextStep(e)
                            })) : (this.logger.log("_loadingFlowNextStep"),
                            this._loadingFlowNextStep(e))) : (this.logger.log("continue with handleOkUser..."),
                        t = window.setTimeout(function() {
                            n._handleOkUser(e)
                        }, 1e3)))
            },
            Softgames.prototype._isOkSdkLoaded = function() {
                return window.FAPI && window.FAPI.initialized === !0 && window.FAPI.Client && window.FAPI.Client.uid
            },
            Softgames.prototype._isCurrentOkUserNotValid = function() {
                return this.logger.log("--checking for _isCurrentOkUserNotValid---"),
                    this.logger.log(SG_jQuery.cookie("uxext")),
                    this.logger.log(SG_jQuery.cookie("uxext") === ""),
                    this.logger.log((window.FAPI && window.FAPI.Client && window.FAPI.Client.uid) === !1),
                    this.logger.log(window.FAPI),
                    this.logger.log(window.FAPI.Client),
                    this.logger.log(window.FAPI.Client.uid),
                    SG_jQuery.cookie("uxext") === null || SG_jQuery.cookie("uxext") === "" || (window.FAPI && window.FAPI.Client && window.FAPI.Client.uid) === !1 ? !1 : window.FAPI.Client.uid !== SG_jQuery.cookie("uxext")
            },
            Softgames.prototype._initUBT = function(e) {
                var t = this;
                this.system_id === "sandbox" && this._loadingFlowNextStep(e);
                if (this.ubt)
                    return this.ubt.init(this, function() {
                        return t._loadingFlowNextStep(e)
                    })
            },
            Softgames.prototype.registerGameHandler = function(e, t) {
                return this.events.on(e, t)
            },
            Softgames.prototype._isIframeFlow = function() {
                return this.iframeFlow !== void 0 && this.iframeFlow === !0 ? !0 : !1
            },
            Softgames.prototype._invalidSignature = function(e) {
                return e === undefined || e === "" ? !0 : e.indexOf("/") !== -1 ? !0 : !1
            },
            Softgames.prototype._getSubsystem = function() {
                var e;
                return e === void 0 && (e = this._getSubsystemFromMetaTag()),
                    e === void 0 && (e = this._getSubsystemFromQueryParams()),
                    e === void 0 && (e = this._getSubsystemFromPartnerCookie()),
                    e === void 0 && (e = this._getSubsystemFromDefaultSettings()),
                    e
            },
            Softgames.prototype._getSubsystemFromPartnerCookie = function() {
                var e;
                return e = jQuery.cookie(this.partnerNameCookieKey),
                    e !== null ? e : void 0
            },
            Softgames.prototype._getSubsystemFromMetaTag = function() {
                var e;
                return e = SG_jQuery('meta[name="publisher-name"]'),
                    e !== void 0 ? e.attr("content") : void 0
            },
            Softgames.prototype._getSubsystemFromQueryParams = function() {
                if (this._getUrlParameters().p)
                    return this._getUrlParameters().p;
                if (this._getUrlParameters().host)
                    return this._getUrlParameters().host
            },
            Softgames.prototype._getSubsystemFromDefaultSettings = function() {
                return this.defaultSubsystem
            },
            Softgames.prototype._getGameSlug = function() {
                var e;
                return this.system_id === "sandbox" ? "sandbox_game" : this._isIframeFlow() ? window.gameSlug : (e = this._getGameSlugFromMeta(),
                    e === void 0 && (e = this._getGameSlugFromQueryParam()),
                    e === void 0 && (e = this._getGameSlugFromUrlPath()),
                    e)
            },
            Softgames.prototype._getGameSlugFromUrlPath = function() {
                var e;
                return e = /^\/(.*)\//,
                    e.exec(window.location.pathname)[1]
            },
            Softgames.prototype._getGameSlugFromMeta = function() {
                var e;
                return e = SG_jQuery('meta[name="game-slug"]'),
                    e !== void 0 ? e.attr("content") : void 0
            },
            Softgames.prototype._getGameSlugFromQueryParam = function() {
                var e;
                return e = this._getUrlParameters(),
                    e.game
            },
            Softgames.prototype.setGameInitCallback = function(e) {
                this.gameInitCallback = e;
                if (this.gameInitCallbackToCall)
                    return typeof this.gameInitCallback == "function" ? this.gameInitCallback() : void 0
            },
            Softgames.prototype._dumpGameBody = function() {
                return this._cleanupConverionPointTracker(),
                    this.gameBody = SG_jQuery("body").children(),
                    this.gameBodyStyles = SG_jQuery("body").attr("style"),
                    SG_jQuery("body").attr("style", ""),
                    SG_jQuery("body").html("")
            },
            Softgames.prototype._restoreGameBody = function(e, t) {
                var n = this;
                return t.text(""),
                    SG_jQuery("body").attr("style", this.gameBodyStyles),
                    this.gameBody.each(function(e, r) {
                        try {
                            if (r.id !== "voyager-kirk-iframe")
                                return t.append(r),
                                    n.gameBody[e].parent = t
                        } catch (i) {
                            return console.error("Error while restore body child " + e + ":", i)
                        }
                    }),
                    this.events.fire("gameBodyRestored"),
                    typeof e == "function" ? e() : void 0
            },
            Softgames.prototype._loadIframeGame = function(e) {
                var t, n, r;
                return EmbedderBase === void 0 && this.logger.log("Embedder is undefined"),
                    window.gameUrl === void 0 && e === void 0 && this.logger.log("Game URL is undefined"),
                    t = new EmbedderBase(document, window),
                    n = SG_jQuery("#voyager-page-body").get(0),
                    r = this._getGameMeasurements(),
                    t.embed(n, e || window.gameUrl, {
                        bgcolor: "#fff",
                        viewport: "1",
                        wrapperwidth: r.width,
                        wrapperheight: r.height,
                        fullscreen_on_mobile: !1,
                        game_fullscreen_on_mobile: !1,
                        iframeId: this.uiMainGameIframe,
                        iframeName: "gameIframe"
                    }),
                    SG_jQuery("#voyager-page-body").addClass("voyager-game-page-body-in-iframe").css("width", r.width).css("height", r.height)
            },
            Softgames.prototype._getGameMeasurements = function() {
                var e, t, n, r, i;
                n = this.gameWidth,
                    e = this.gameHeight;
                if (!n || !e)
                    this.gameLandscape ? (n = this.maxGameHeight,
                        e = this.maxGameWidth) : (n = this.maxGameWidth,
                        e = this.maxGameHeight);
                return t = n / e,
                    i = SG_jQuery(window).width(),
                    r = SG_jQuery(window).height(),
                    i < n && (n = i,
                        e = n / t),
                    r < e && (e = r,
                        n = e * t), {
                        width: n + "px",
                        height: e + "px"
                    }
            },
            Softgames.prototype._setUserSessionData = function(e, t) {
                var n = this;
                return window.softgames.user = {
                        userId: e.user_id,
                        externalId: e.user_id,
                        isNew: e.is_new,
                        authToken: e.k,
                        name: e.name,
                        known: e.known_user,
                        avatar: e.avatar,
                        validEmail: e.valid_email,
                        extUserId: e.extUserId
                    },
                    SG_jQuery.cookie("ux", e.user_id, {
                        expires: this.userCookieExpressions,
                        path: "/"
                    }),
                    SG_jQuery.cookie("uk", e.k, {
                        expires: this.userCookieExpressions,
                        path: "/"
                    }),
                    SG_jQuery.cookie("uxext", e.extUserId, {
                        expires: this.userCookieExpressions,
                        path: "/"
                    }),
                    this.country = e.country,
                    this.returning_user = e.returning_user,
                    this.premium_game = e.premium_game,
                    this.external_user_id = e.user_id,
                    this.game_rating = e.rating,
                    e.game_slug !== undefined && e.game_slug !== null && (this.game_slug = e.game_slug),
                    e.ads_conversion_flow !== undefined && e.ads_conversion_flow !== null && (this.adsConversionFlow = e.ads_conversion_flow),
                    e.ads_conversion_user_state !== undefined && e.ads_conversion_user_state !== null && (this.adsConversionUserState = e.ads_conversion_user_state),
                    e.ads_conversion_points_mobile !== undefined && e.ads_conversion_points_mobile !== null && (this.adsConversionPointsMobile = e.ads_conversion_points_mobile),
                    e.ads_conversion_points_desktop !== undefined && e.ads_conversion_points_desktop !== null && (this.adsConversionPointsDesktop = e.ads_conversion_points_desktop),
                    e.ads_conversion_level !== undefined && e.ads_conversion_level !== null && (this.adsConversionLevel = e.ads_conversion_level),
                    e.ads_conversion_level_points !== undefined && e.ads_conversion_level_points !== null && (this.adsConversionLevelPoints = e.ads_conversion_level_points),
                    e.ads_conversion_best_score !== undefined && e.ads_conversion_best_score !== null && (this.adsConversionBestScore = e.ads_conversion_best_score),
                    this._setConversionValues(),
                    e.banner_interval_time !== undefined && e.banner_interval_time !== null && (this.displayBannerInterval = e.banner_interval_time),
                    e.enabled_end_level_flow !== undefined && e.enabled_end_level_flow !== null && (this.enabledEndLevelFlow = e.enabled_end_level_flow),
                    e.end_level_interval !== undefined && e.end_level_interval !== null && (this.endLevelEventCountInterval = e.end_level_interval),
                    e.end_level_close_button_timer !== undefined && e.end_level_close_button_timer !== null && (this.endLevelCloseButtonTimer = e.end_level_close_button_timer * 1e3),
                    this._isIframeFlow() === !1 && (this._invalidSignature(e.sig) && location.reload(!0),
                        this.game_slug === "cookie-crush-2-vk" ? this.abTestingHandler.requestConfig(this.game_slug, this.user.userId, function() {
                            n.game_config = n.gameConfigHandler.getConfig(n._isMobile());
                            if (n.userId === undefined)
                                return t(e)
                        }) : this.userId === undefined && t(e)),
                    this.events.fire("kirkUserReady", this.user, !0)
            },
            Softgames.prototype._kirkIframeListener = function(e, t) {
                var n, r;
                // debugger;
                e.type === "kirkReady" && this._setUserSessionData(e.session_params, t),
                    e.type === "hardRedirect" && (r = e.hard_redirect_url,
                        window.location = r),
                    e.type === "reloadSession" && (SG_jQuery("#voyager-kirk-iframe").length && SG_jQuery("#voyager-kirk-iframe").remove(),
                        SG_jQuery("#fb-core-kirk-connect").length && SG_jQuery("#fb-core-kirk-connect").remove(),
                        SG_jQuery.cookie("ux", e.uid, {
                            expires: this.userCookieExpressions,
                            path: "/"
                        }),
                        SG_jQuery.cookie("uk", e.uk, {
                            expires: this.userCookieExpressions,
                            path: "/"
                        }),
                        SG_jQuery.cookie("uxext", e.uxext, {
                            expires: this.userCookieExpressions,
                            path: "/"
                        }),
                        n = [],
                        SG_jQuery.cookie("ux") !== null && (n[n.length] = "sguid=" + SG_jQuery.cookie("ux")),
                        SG_jQuery.cookie("uk") !== null && (n[n.length] = "k=" + SG_jQuery.cookie("uk")),
                        softgames.subplatform !== null && (n[n.length] = "p=" + softgames.subplatform),
                        n[n.length] = "reloadUserSession=true",
                        this._createIframe(this.kirk_host + "session/?game_slug=" + this.game_slug + "&" + n.join("&")),
                        jQuery(".sg-modal-window-login").hide(),
                        jQuery(".save-highscore-container").hide());
                // if (e.type === "reloadUserSession")//kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk
                if (e.type !== "reloadUserSession")
                    return this.events.fire("userLogInCompleted")
            },
            Softgames.prototype._requestUserSession = function(e) {
                var t;
                return t = window.softgames._buildUserSessionUrl(),
                    jQuery.get(t, function(t) {
                        var n, r;
                        r = new RegExp(/(?:\/\*\[#\])(.*)(?:\[#\]\*\/)/);
                        try {
                            return n = JSON.parse(t.match(r)[1]),
                                window.softgames._kirkIframeListener(n, e)
                        } catch (i) {
                            return window.softgames.log.error("Cannot parse user sesssion response", i)
                        }
                    })
            },
            Softgames.prototype._buildUserSessionUrl = function() {
                var e, t, n, r, i;
                // debugger;
                return i = this.kirk_host + "session/?game_slug=" + this.game_slug,
                    // return i = "../assets/session1.html",
                    t = [],
                    window.softgames._getUrlParameter("locale") !== undefined && (t[t.length] = "locale=" + window.softgames._getUrlParameter("locale")),
                    window.softgames._getUrlParameter("p") !== undefined && (t[t.length] = "p=" + window.softgames._getUrlParameter("p")),
                    window.softgames._getUrlParameter("uid") !== undefined && (t[t.length] = "uid=" + window.softgames._getUrlParameter("uid")),
                    window.softgames._getUrlParameter("aff") !== undefined && (t[t.length] = "aff=" + window.softgames._getUrlParameter("aff")),
                    SG_jQuery.cookie("otherUserDetected") && (t[t.length] = "other_user_detected=" + SG_jQuery.cookie("otherUserDetected"),
                        SG_jQuery.removeCookie("otherUserDetected", {
                            path: "/"
                        })),
                    e = !1,
                    e && window.softgames._getUrlParameter("username") !== undefined && (t[t.length] = "username=" + window.softgames._getUrlParameter("username"),
                        SG_jQuery.removeCookie("ux", {
                            path: "/"
                        }),
                        SG_jQuery.removeCookie("uk", {
                            path: "/"
                        }),
                        SG_jQuery.removeCookie("uxext", {
                            path: "/"
                        })),
                    r = window.softgames._getUrlParameter("sguid"),
                    n = window.softgames._getUrlParameter("sgk"),
                    r !== undefined && n !== undefined ? (SG_jQuery.cookie("ux", r, {
                            expires: this.userCookieExpressions,
                            path: "/"
                        }),
                        SG_jQuery.cookie("uk", n, {
                            expires: this.userCookieExpressions,
                            path: "/"
                        }),
                        t[t.length] = "sguid=" + r,
                        t[t.length] = "k=" + n) : (SG_jQuery.cookie("ux") !== null && (t[t.length] = "sguid=" + SG_jQuery.cookie("ux")),
                        SG_jQuery.cookie("uk") !== null && (t[t.length] = "k=" + SG_jQuery.cookie("uk"))),
                    t.length && (i = i.indexOf("?") === -1 ? i + "?" : i + "&",
                        i += t.join("&")),
                    i
            },
            Softgames.prototype._createKirkIframe = function(e) {
                var t, n = this;
                return window.addEventListener("message", function(t) {
                        return window.softgames._kirkIframeListener(t.data, e)
                    }, !1),
                    t = window.softgames._buildUserSessionUrl(),
                    window.softgames._createIframe(t),
                    window.softgames.logger.log("... created iframe ...")
            },
            Softgames.prototype._checkIframeGame = function(e) {
                return this.logger.log("Checking iframe game ..."),
                    this.iframeGameHandler.shouldBeIframeGame() ? this.iframeGameHandler.redirectToIframeGame() : this._loadingFlowNextStep(e)
            },
            Softgames.prototype._checkAdBlocker = function(e) {
                return this.adBlockerHandler.isDetected() && this.blockGameWhenAdBlocker === !0 ? (this._dumpGameBody(),
                    this.adBlockerHandler.displayAdBlockerInfo()) : this._loadingFlowNextStep(e)
            },
            Softgames.prototype._setConversionValues = function() {
                var e = this;
                if (this.adsConversionShift !== void 0 && this.adsConversionShift !== null)
                    return SG_jQuery.each(this.adsConversionShift, function(t, n) {
                        if (n !== void 0 && n !== null)
                            return e[e._deobfuscateConversionShiftKey(t)] = e[e._deobfuscateConversionShiftKey(t)] + e._deobfuscateConversionShiftValue(t, n)
                    })
            },
            Softgames.prototype._deobfuscateConversionShiftKey = function(e) {
                var t;
                return t = {
                        tracking_welcome_page: "adsConversionPointsMobile",
                        tracking_start_page: "adsConversionPointsDesktop",
                        tracking_level_page: "adsConversionLevel",
                        tracking_gameover_page: "adsConversionLevelPoints",
                        tracking_levelup_page: "adsConversionBestScore"
                    },
                    t[e]
            },
            Softgames.prototype._deobfuscateConversionShiftValue = function(e, t) {
                var n, r;
                n = {
                        tracking_welcome_page: /^page_df([-0-9]*)$/,
                        tracking_start_page: /^page_am([-0-9]*)t$/,
                        tracking_level_page: /^page_vb([-0-9]*)op$/,
                        tracking_gameover_page: /^page_gm([-0-9]*)q$/,
                        tracking_levelup_page: /^page_w([-0-9]*)v$/
                    },
                    r = t.match(n[e]);
                if (r !== null && r.length > 0)
                    return parseInt(r[1])
            }
    }
    .call(this),
    function() {
        var e;
        Softgames.prototype.v = "v",
            Softgames.prototype._log = new SoftgamesLogger("voyagerBase"),
            Softgames.prototype.loadingFlowStep = 0,
            Softgames.prototype.loadingFlowWithSgLoader = [Softgames.prototype._checkIframeGame, Softgames.prototype._handleOkUser, Softgames.prototype._loadUser, Softgames.prototype._initUBT, Softgames.prototype._prepareGamePage, Softgames.prototype._finishLoadingFlow],
            Softgames.prototype.loadingFlowWithoutSgLoader = [Softgames.prototype._checkIframeGame, Softgames.prototype._checkAdBlocker, Softgames.prototype._displayPreGDProll, Softgames.prototype._handleOkUser, Softgames.prototype._loadUser, Softgames.prototype._initUBT, Softgames.prototype._displayGameDetailsPage, Softgames.prototype._displayBuzzQuiz, Softgames.prototype._displaySplashScreen, Softgames.prototype._displayPreroll, Softgames.prototype._finishLoadingFlow],
            window.sgLoader && window.sgLoader.isActive() ? Softgames.prototype.loadingFlowOrder = Softgames.prototype.loadingFlowWithSgLoader : Softgames.prototype.loadingFlowOrder = Softgames.prototype.loadingFlowWithoutSgLoader,
            Softgames.prototype.endLevelFlowOrder = [],
            Softgames.prototype.endLevelFlowOrders = {
                old: [Softgames.prototype._displayEndLevelPopup, Softgames.prototype._displayLoadingPage, Softgames.prototype._displayMoreGamesPage, Softgames.prototype._displayLoadingPage],
                "new": [Softgames.prototype._displayEndLevelPopup, Softgames.prototype._displayMoreGames]
            },
            Softgames.prototype.endLevelFlowStep = 0,
            e = "//d3tlss08qwqpkt.cloudfront.net/assets/voyager-dec55fd5f5d51de4737f0708f50461e8.css",
            // e.indexOf("http") !== 0 && (e = window.softgames._getProtocol() + e),
            e = "../assets/voyager-dec55fd5f5d51de4737f0708f50461e8.css";
        SG_jQuery('<link rel="stylesheet" type="text/css" href="' + e + '" >').appendTo("head"),
            SG_jQuery(document).ready(function() {
                SG_jQuery("img.lazy").unveil(100)
            })
    }
    .call(this),
    function() {}
    .call(this);